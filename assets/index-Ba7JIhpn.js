(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function G1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zg={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function K1(){if(w0)return uu;w0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return uu.Fragment=e,uu.jsx=t,uu.jsxs=t,uu}var A0;function $1(){return A0||(A0=1,Zg.exports=K1()),Zg.exports}var k=$1(),Jg={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Q1(){if(S0)return De;S0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function O(L,re,ce){this.props=L,this.context=re,this.refs=z,this.updater=ce||w}O.prototype.isReactComponent={},O.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=O.prototype;function K(L,re,ce){this.props=L,this.context=re,this.refs=z,this.updater=ce||w}var $=K.prototype=new B;$.constructor=K,V($,O.prototype),$.isPureReactComponent=!0;var ie=Array.isArray,ee={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function M(L,re,ce,le,ue,Ae){return ce=Ae.ref,{$$typeof:n,type:L,key:re,ref:ce!==void 0?ce:null,props:Ae}}function I(L,re){return M(L.type,re,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function U(L,re){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):re.toString(36)}function x(){}function Qe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(x,x):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function et(L,re,ce,le,ue){var Ae=typeof L;(Ae==="undefined"||Ae==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(Ae){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case n:case e:_e=!0;break;case v:return _e=L._init,et(_e(L._payload),re,ce,le,ue)}}if(_e)return ue=ue(L),_e=le===""?"."+U(L,0):le,ie(ue)?(ce="",_e!=null&&(ce=_e.replace(P,"$&/")+"/"),et(ue,re,ce,"",function(qe){return qe})):ue!=null&&(R(ue)&&(ue=I(ue,ce+(ue.key==null||L&&L.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+_e)),re.push(ue)),1;_e=0;var it=le===""?".":le+":";if(ie(L))for(var Ie=0;Ie<L.length;Ie++)le=L[Ie],Ae=it+U(le,Ie),_e+=et(le,re,ce,Ae,ue);else if(Ie=b(L),typeof Ie=="function")for(L=Ie.call(L),Ie=0;!(le=L.next()).done;)le=le.value,Ae=it+U(le,Ie++),_e+=et(le,re,ce,Ae,ue);else if(Ae==="object"){if(typeof L.then=="function")return et(Qe(L),re,ce,le,ue);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return _e}function oe(L,re,ce){if(L==null)return L;var le=[],ue=0;return et(L,le,"","",function(Ae){return re.call(ce,Ae,ue++)}),le}function ge(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var me=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ne(){}return De.Children={map:oe,forEach:function(L,re,ce){oe(L,function(){re.apply(this,arguments)},ce)},count:function(L){var re=0;return oe(L,function(){re++}),re},toArray:function(L){return oe(L,function(re){return re})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},De.Component=O,De.Fragment=t,De.Profiler=a,De.PureComponent=K,De.StrictMode=i,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(L){return function(){return L.apply(null,arguments)}},De.cloneElement=function(L,re,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=V({},L.props),ue=L.key,Ae=void 0;if(re!=null)for(_e in re.ref!==void 0&&(Ae=void 0),re.key!==void 0&&(ue=""+re.key),re)!ae.call(re,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&re.ref===void 0||(le[_e]=re[_e]);var _e=arguments.length-2;if(_e===1)le.children=ce;else if(1<_e){for(var it=Array(_e),Ie=0;Ie<_e;Ie++)it[Ie]=arguments[Ie+2];le.children=it}return M(L.type,ue,void 0,void 0,Ae,le)},De.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},De.createElement=function(L,re,ce){var le,ue={},Ae=null;if(re!=null)for(le in re.key!==void 0&&(Ae=""+re.key),re)ae.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=re[le]);var _e=arguments.length-2;if(_e===1)ue.children=ce;else if(1<_e){for(var it=Array(_e),Ie=0;Ie<_e;Ie++)it[Ie]=arguments[Ie+2];ue.children=it}if(L&&L.defaultProps)for(le in _e=L.defaultProps,_e)ue[le]===void 0&&(ue[le]=_e[le]);return M(L,Ae,void 0,void 0,null,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(L){return{$$typeof:d,render:L}},De.isValidElement=R,De.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ge}},De.memo=function(L,re){return{$$typeof:p,type:L,compare:re===void 0?null:re}},De.startTransition=function(L){var re=ee.T,ce={};ee.T=ce;try{var le=L(),ue=ee.S;ue!==null&&ue(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ne,me)}catch(Ae){me(Ae)}finally{ee.T=re}},De.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},De.use=function(L){return ee.H.use(L)},De.useActionState=function(L,re,ce){return ee.H.useActionState(L,re,ce)},De.useCallback=function(L,re){return ee.H.useCallback(L,re)},De.useContext=function(L){return ee.H.useContext(L)},De.useDebugValue=function(){},De.useDeferredValue=function(L,re){return ee.H.useDeferredValue(L,re)},De.useEffect=function(L,re){return ee.H.useEffect(L,re)},De.useId=function(){return ee.H.useId()},De.useImperativeHandle=function(L,re,ce){return ee.H.useImperativeHandle(L,re,ce)},De.useInsertionEffect=function(L,re){return ee.H.useInsertionEffect(L,re)},De.useLayoutEffect=function(L,re){return ee.H.useLayoutEffect(L,re)},De.useMemo=function(L,re){return ee.H.useMemo(L,re)},De.useOptimistic=function(L,re){return ee.H.useOptimistic(L,re)},De.useReducer=function(L,re,ce){return ee.H.useReducer(L,re,ce)},De.useRef=function(L){return ee.H.useRef(L)},De.useState=function(L){return ee.H.useState(L)},De.useSyncExternalStore=function(L,re,ce){return ee.H.useSyncExternalStore(L,re,ce)},De.useTransition=function(){return ee.H.useTransition()},De.version="19.0.0",De}var R0;function ip(){return R0||(R0=1,Jg.exports=Q1()),Jg.exports}var C=ip();const Ct=G1(C);var em={exports:{}},cu={},tm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Y1(){return C0||(C0=1,function(n){function e(oe,ge){var me=oe.length;oe.push(ge);e:for(;0<me;){var Ne=me-1>>>1,L=oe[Ne];if(0<a(L,ge))oe[Ne]=ge,oe[me]=L,me=Ne;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ge=oe[0],me=oe.pop();if(me!==ge){oe[0]=me;e:for(var Ne=0,L=oe.length,re=L>>>1;Ne<re;){var ce=2*(Ne+1)-1,le=oe[ce],ue=ce+1,Ae=oe[ue];if(0>a(le,me))ue<L&&0>a(Ae,le)?(oe[Ne]=Ae,oe[ue]=me,Ne=ue):(oe[Ne]=le,oe[ce]=me,Ne=ce);else if(ue<L&&0>a(Ae,me))oe[Ne]=Ae,oe[ue]=me,Ne=ue;else break e}}return ge}function a(oe,ge){var me=oe.sortIndex-ge.sortIndex;return me!==0?me:oe.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],p=[],v=1,T=null,b=3,w=!1,V=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function $(oe){for(var ge=t(p);ge!==null;){if(ge.callback===null)i(p);else if(ge.startTime<=oe)i(p),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=t(p)}}function ie(oe){if(z=!1,$(oe),!V)if(t(g)!==null)V=!0,Qe();else{var ge=t(p);ge!==null&&et(ie,ge.startTime-oe)}}var ee=!1,ae=-1,M=5,I=-1;function R(){return!(n.unstable_now()-I<M)}function D(){if(ee){var oe=n.unstable_now();I=oe;var ge=!0;try{e:{V=!1,z&&(z=!1,B(ae),ae=-1),w=!0;var me=b;try{t:{for($(oe),T=t(g);T!==null&&!(T.expirationTime>oe&&R());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,b=T.priorityLevel;var L=Ne(T.expirationTime<=oe);if(oe=n.unstable_now(),typeof L=="function"){T.callback=L,$(oe),ge=!0;break t}T===t(g)&&i(g),$(oe)}else i(g);T=t(g)}if(T!==null)ge=!0;else{var re=t(p);re!==null&&et(ie,re.startTime-oe),ge=!1}}break e}finally{T=null,b=me,w=!1}ge=void 0}}finally{ge?P():ee=!1}}}var P;if(typeof K=="function")P=function(){K(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,x=U.port2;U.port1.onmessage=D,P=function(){x.postMessage(null)}}else P=function(){O(D,0)};function Qe(){ee||(ee=!0,P())}function et(oe,ge){ae=O(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){V||w||(V=!0,Qe())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var me=b;b=ge;try{return oe()}finally{b=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=b;b=oe;try{return ge()}finally{b=me}},n.unstable_scheduleCallback=function(oe,ge,me){var Ne=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,oe){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=me+L,oe={id:v++,callback:ge,priorityLevel:oe,startTime:me,expirationTime:L,sortIndex:-1},me>Ne?(oe.sortIndex=me,e(p,oe),t(g)===null&&oe===t(p)&&(z?(B(ae),ae=-1):z=!0,et(ie,me-Ne))):(oe.sortIndex=L,e(g,oe),V||w||(V=!0,Qe())),oe},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(oe){var ge=b;return function(){var me=b;b=ge;try{return oe.apply(this,arguments)}finally{b=me}}}}(nm)),nm}var I0;function X1(){return I0||(I0=1,tm.exports=Y1()),tm.exports}var rm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function W1(){if(D0)return Tn;D0=1;var n=ip();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},Tn.flushSync=function(g){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=p,i.p=v,i.d.f()}},Tn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},Tn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Tn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):v==="script"&&i.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},Tn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},Tn.requestFormReset=function(g){i.d.r(g)},Tn.unstable_batchedUpdates=function(g,p){return g(p)},Tn.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},Tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Tn.version="19.0.0",Tn}var N0;function kT(){if(N0)return rm.exports;N0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rm.exports=W1(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function Z1(){if(O0)return cu;O0=1;var n=X1(),e=ip(),t=kT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case g:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case B:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,P,U;function x(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",U=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+U}var Qe=!1;function et(r,s){if(!r||Qe)return"";Qe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(X){Q=X}r.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var N=E.split(`
`),H=A.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===H.length)for(u=N.length-1,f=H.length-1;1<=u&&0<=f&&N[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==H[f]){var W=`
`+N[u].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=u&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?x(o):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return x(r.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return r=et(r.type,!1),r;case 11:return r=et(r.type.render,!1),r;case 1:return r=et(r.type,!0),r;default:return""}}function ge(r){try{var s="";do s+=oe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function me(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ne(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function L(r){if(me(r)!==r)throw Error(i(188))}function re(r){var s=r.alternate;if(!s){if(s=me(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return L(f),r;if(m===u)return L(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=m;break}if(A===u){E=!0,u=f,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=f;break}if(A===u){E=!0,u=m,o=f;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function ce(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=ce(r),s!==null)return s;r=r.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},_e=[],it=-1;function Ie(r){return{current:r}}function qe(r){0>it||(r.current=_e[it],_e[it]=null,it--)}function ye(r,s){it++,_e[it]=r.current,r.current=s}var wt=Ie(null),Dt=Ie(null),Vt=Ie(null),$t=Ie(null);function Cn(r,s){switch(ye(Vt,s),ye(Dt,r),ye(wt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Z_(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=Z_(r),s=J_(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}qe(wt),ye(wt,s)}function pn(){qe(wt),qe(Dt),qe(Vt)}function qi(r){r.memoizedState!==null&&ye($t,r);var s=wt.current,o=J_(s,r.type);s!==o&&(ye(Dt,r),ye(wt,o))}function si(r){Dt.current===r&&(qe(wt),qe(Dt)),$t.current===r&&(qe($t),iu._currentValue=Ae)}var Dr=Object.prototype.hasOwnProperty,yn=n.unstable_scheduleCallback,vr=n.unstable_cancelCallback,Fi=n.unstable_shouldYield,Gi=n.unstable_requestPaint,rn=n.unstable_now,Ga=n.unstable_getCurrentPriorityLevel,At=n.unstable_ImmediatePriority,st=n.unstable_UserBlockingPriority,vn=n.unstable_NormalPriority,Nr=n.unstable_LowPriority,Ki=n.unstable_IdlePriority,Jn=n.log,Or=n.unstable_setDisableYieldValue,xr=null,Qt=null;function ai(r){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(xr,r,void 0,(r.current.flags&128)===128)}catch{}}function zn(r){if(typeof Jn=="function"&&Or(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(xr,r)}catch{}}var sn=Math.clz32?Math.clz32:$a,$i=Math.log,Ka=Math.LN2;function $a(r){return r>>>=0,r===0?32:31-($i(r)/Ka|0)|0}var er=128,at=4194304;function ot(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tt(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,f=r.suspendedLanes,m=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~f,o!==0?u=ot(o):(m&=A,m!==0?u=ot(m):r||(E=A&~E,E!==0&&(u=ot(E))))):(A=o&~f,A!==0?u=ot(A):m!==0?u=ot(m):r||(E=o&~E,E!==0&&(u=ot(E)))),u===0?0:s!==0&&s!==u&&!(s&f)&&(f=u&-u,E=s&-s,f>=E||f===32&&(E&4194176)!==0)?s:u}function an(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Pt(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var r=er;return er<<=1,!(er&4194176)&&(er=128),r}function Ut(){var r=at;return at<<=1,!(at&62914560)&&(at=4194304),r}function Hn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Oe(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qn(r,s,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,N=r.expirationTimes,H=r.hiddenUpdates;for(o=E&~o;0<o;){var W=31-sn(o),ne=1<<W;A[W]=0,N[W]=-1;var Q=H[W];if(Q!==null)for(H[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&Bt(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function Bt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Yt(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-sn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Mr(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function kr(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:y0(r.type))}function on(r,s){var o=ue.p;try{return ue.p=r,s()}finally{ue.p=o}}var _n=Math.random().toString(36).slice(2),pt="__reactFiber$"+_n,jt="__reactProps$"+_n,oi="__reactContainer$"+_n,Zs="__reactEvents$"+_n,Qa="__reactListeners$"+_n,Vr="__reactHandles$"+_n,cl="__reactResources$"+_n,Qi="__reactMarker$"+_n;function Js(r){delete r[pt],delete r[jt],delete r[Zs],delete r[Qa],delete r[Vr]}function _r(r){var s=r[pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[oi]||o[pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=n0(r);r!==null;){if(o=r[pt])return o;r=n0(r)}return s}r=o,o=r.parentNode}return null}function li(r){if(r=r[pt]||r[oi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Yi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Xi(r){var s=r[cl];return s||(s=r[cl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(r){r[Qi]=!0}var hl=new Set,Ya={};function Fn(r,s){Mn(r,s),Mn(r+"Capture",s)}function Mn(r,s){for(Ya[r]=s,r=0;r<s.length;r++)hl.add(s[r])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function uc(r){return Dr.call(dl,r)?!0:Dr.call(fl,r)?!1:nd.test(r)?dl[r]=!0:(fl[r]=!0,!1)}function Wi(r,s,o){if(uc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Zi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function tr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rd(r){var s=cc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ea(r){r._valueTracker||(r._valueTracker=rd(r))}function gl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=cc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Xa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ui=/[\n"\\]/g;function yt(r){return r.replace(ui,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ji(r,s,o,u,f,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+In(s)):r.value!==""+In(s)&&(r.value=""+In(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Wa(r,E,In(s)):o!=null?Wa(r,E,In(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+In(A):r.removeAttribute("name")}function ta(r,s,o,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+In(o):"",s=s!=null?""+In(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Wa(r,s,o){s==="number"&&Xa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Fe(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+In(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function na(r,s,o){if(s!=null&&(s=""+In(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+In(o):""}function es(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=In(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function nr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||id.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function hc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&ml(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&ml(r,m,s[m])}function pl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(r){return ad.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var rr=null;function Za(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,hi=null;function fi(r){var s=li(r);if(s&&(r=s.stateNode)){var o=r[jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ji(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[jt]||null;if(!f)throw Error(i(90));Ji(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&gl(u)}break e;case"textarea":na(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fe(r,!!o.multiple,s,!1)}}}var yl=!1;function fc(r,s,o){if(yl)return r(s,o);yl=!0;try{var u=r(s);return u}finally{if(yl=!1,(ci!==null||hi!==null)&&(rh(),ci&&(s=ci,r=hi,hi=ci=null,fi(s),r)))for(s=0;s<r.length;s++)fi(r[s])}}function ra(r,s){var o=r.stateNode;if(o===null)return null;var u=o[jt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ir=!1;if(Gn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){ir=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{ir=!1}var Lr=null,ts=null,di=null;function vl(){if(di)return di;var r,s=ts,o=s.length,u,f="value"in Lr?Lr.value:Lr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return di=f.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function _l(){return!1}function Xt(r){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Br:_l,this.isPropagationStopped=_l,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Xt(Ye),sa=D({},Ye,{view:0,detail:0}),dc=Xt(sa),eo,to,jr,aa=D({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jr&&(jr&&r.type==="mousemove"?(eo=r.screenX-jr.screenX,to=r.screenY-jr.screenY):to=eo=0,jr=r),eo)},movementY:function(r){return"movementY"in r?r.movementY:to}}),sr=Xt(aa),gc=D({},aa,{dataTransfer:0}),od=Xt(gc),oa=D({},sa,{relatedTarget:0}),no=Xt(oa),El=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Xt(El),mc=D({},Ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),io=Xt(mc),ld=D({},Ye,{data:0}),Tl=Xt(ld),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yc[r])?!!s[r]:!1}function ua(){return bl}var vc=D({},sa,{key:function(r){if(r.key){var s=la[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),so=Xt(vc),_c=D({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=Xt(_c),gi=D({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Ec=Xt(gi),Tc=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=Xt(Tc),wc=D({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Xt(wc),Dn=D({},Ye,{newState:0,oldState:0}),Ac=Xt(Dn),Sc=[9,13,27,32],zr=Gn&&"CompositionEvent"in window,h=null;Gn&&"documentMode"in document&&(h=document.documentMode);var y=Gn&&"TextEvent"in window&&!h,_=Gn&&(!zr||h&&8<h&&11>=h),S=" ",F=!1;function Y(r,s){switch(r){case"keyup":return Sc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function zt(r,s){switch(r){case"compositionend":return se(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return r=s.data,r===S&&F?null:r;default:return null}}function je(r,s){if(Be)return r==="compositionend"||!zr&&Y(r,s)?(r=vl(),di=ts=Lr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Wt[r.type]:s==="textarea"}function mi(r,s,o,u){ci?hi?hi.push(u):hi=[u]:ci=u,s=lh(s,"onChange"),0<s.length&&(o=new Ja("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var ln=null,Hr=null;function Al(r){$_(r,0)}function Rc(r){var s=Yi(r);if(gl(s))return r}function by(r,s){if(r==="change")return s}var wy=!1;if(Gn){var ud;if(Gn){var cd="oninput"in document;if(!cd){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),cd=typeof Ay.oninput=="function"}ud=cd}else ud=!1;wy=ud&&(!document.documentMode||9<document.documentMode)}function Sy(){ln&&(ln.detachEvent("onpropertychange",Ry),Hr=ln=null)}function Ry(r){if(r.propertyName==="value"&&Rc(Hr)){var s=[];mi(s,Hr,r,Za(r)),fc(Al,s)}}function TS(r,s,o){r==="focusin"?(Sy(),ln=s,Hr=o,ln.attachEvent("onpropertychange",Ry)):r==="focusout"&&Sy()}function bS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rc(Hr)}function wS(r,s){if(r==="click")return Rc(s)}function AS(r,s){if(r==="input"||r==="change")return Rc(s)}function SS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Kn=typeof Object.is=="function"?Object.is:SS;function Sl(r,s){if(Kn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Dr.call(s,f)||!Kn(r[f],s[f]))return!1}return!0}function Cy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,s){var o=Cy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cy(o)}}function Dy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Dy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xa(r.document)}return s}function hd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function RS(r,s){var o=Ny(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Dy(s.ownerDocument.documentElement,s)){if(u!==null&&hd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!o.extend&&m>u&&(f=u,u=m,m=f),f=Iy(s,m);var E=Iy(s,u);f&&E&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),o.removeAllRanges(),m>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var CS=Gn&&"documentMode"in document&&11>=document.documentMode,oo=null,fd=null,Rl=null,dd=!1;function Oy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dd||oo==null||oo!==Xa(u)||(u=oo,"selectionStart"in u&&hd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&Sl(Rl,u)||(Rl=u,u=lh(fd,"onSelect"),0<u.length&&(s=new Ja("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=oo)))}function ca(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lo={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},gd={},xy={};Gn&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ha(r){if(gd[r])return gd[r];if(!lo[r])return r;var s=lo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in xy)return gd[r]=s[o];return r}var My=ha("animationend"),ky=ha("animationiteration"),Vy=ha("animationstart"),IS=ha("transitionrun"),DS=ha("transitionstart"),NS=ha("transitioncancel"),Py=ha("transitionend"),Ly=new Map,Uy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Er(r,s){Ly.set(r,s),Fn(s,[r])}var ar=[],uo=0,md=0;function Cc(){for(var r=uo,s=md=uo=0;s<r;){var o=ar[s];ar[s++]=null;var u=ar[s];ar[s++]=null;var f=ar[s];ar[s++]=null;var m=ar[s];if(ar[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&By(o,f,m)}}function Ic(r,s,o,u){ar[uo++]=r,ar[uo++]=s,ar[uo++]=o,ar[uo++]=u,md|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function pd(r,s,o,u){return Ic(r,s,o,u),Dc(r)}function ns(r,s){return Ic(r,null,null,s),Dc(r)}function By(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;f&&s!==null&&r.tag===3&&(m=r.stateNode,f=31-sn(o),m=m.hiddenUpdates,r=m[f],r===null?m[f]=[s]:r.push(s),s.lane=o|536870912)}function Dc(r){if(50<Wl)throw Wl=0,bg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var co={},jy=new WeakMap;function or(r,s){if(typeof r=="object"&&r!==null){var o=jy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ge(s)},jy.set(r,s),s)}return{value:r,source:s,stack:ge(s)}}var ho=[],fo=0,Nc=null,Oc=0,lr=[],ur=0,fa=null,pi=1,yi="";function da(r,s){ho[fo++]=Oc,ho[fo++]=Nc,Nc=r,Oc=s}function zy(r,s,o){lr[ur++]=pi,lr[ur++]=yi,lr[ur++]=fa,fa=r;var u=pi;r=yi;var f=32-sn(u)-1;u&=~(1<<f),o+=1;var m=32-sn(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,pi=1<<32-sn(s)+f|o<<f|u,yi=m+r}else pi=1<<m|o<<f|u,yi=r}function yd(r){r.return!==null&&(da(r,1),zy(r,1,0))}function vd(r){for(;r===Nc;)Nc=ho[--fo],ho[fo]=null,Oc=ho[--fo],ho[fo]=null;for(;r===fa;)fa=lr[--ur],lr[ur]=null,yi=lr[--ur],lr[ur]=null,pi=lr[--ur],lr[ur]=null}var Nn=null,un=null,Ge=!1,Tr=null,qr=!1,_d=Error(i(519));function ga(r){var s=Error(i(418,""));throw Dl(or(s,r)),_d}function Hy(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[pt]=r,s[jt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Le(Jl[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),ta(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ea(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),es(s,u.value,u.defaultValue,u.children),ea(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||W_(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=uh),s=!0):s=!1,s||ga(r)}function qy(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 3:case 27:qr=!0;return;case 5:case 13:qr=!1;return;default:Nn=Nn.return}}function Cl(r){if(r!==Nn)return!1;if(!Ge)return qy(r),Ge=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Bg(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&un&&ga(r),qy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){un=wr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}un=null}}else un=Nn?wr(r.stateNode.nextSibling):null;return!0}function Il(){un=Nn=null,Ge=!1}function Dl(r){Tr===null?Tr=[r]:Tr.push(r)}var Nl=Error(i(460)),Fy=Error(i(474)),Ed={then:function(){}};function Gy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xc(){}function Ky(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(xc,xc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Nl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(xc,xc);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Nl?Error(i(483)):r}throw Ol=s,Nl}}var Ol=null;function $y(){if(Ol===null)throw Error(i(459));var r=Ol;return Ol=null,r}var go=null,xl=0;function Mc(r){var s=xl;return xl+=1,go===null&&(go=[]),Ky(go,r,s)}function Ml(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function kc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Qy(r){var s=r._init;return s(r._payload)}function Yy(r){function s(q,j){if(r){var G=q.deletions;G===null?(q.deletions=[j],q.flags|=16):G.push(j)}}function o(q,j){if(!r)return null;for(;j!==null;)s(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function f(q,j){return q=gs(q,j),q.index=0,q.sibling=null,q}function m(q,j,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<j?(q.flags|=33554434,j):G):(q.flags|=33554434,j)):(q.flags|=1048576,j)}function E(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function A(q,j,G,J){return j===null||j.tag!==6?(j=gg(G,q.mode,J),j.return=q,j):(j=f(j,G),j.return=q,j)}function N(q,j,G,J){var de=G.type;return de===g?W(q,j,G.props.children,J,G.key):j!==null&&(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===K&&Qy(de)===j.type)?(j=f(j,G.props),Ml(j,G),j.return=q,j):(j=Zc(G.type,G.key,G.props,null,q.mode,J),Ml(j,G),j.return=q,j)}function H(q,j,G,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=mg(G,q.mode,J),j.return=q,j):(j=f(j,G.children||[]),j.return=q,j)}function W(q,j,G,J,de){return j===null||j.tag!==7?(j=Aa(G,q.mode,J,de),j.return=q,j):(j=f(j,G),j.return=q,j)}function ne(q,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=gg(""+j,q.mode,G),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return G=Zc(j.type,j.key,j.props,null,q.mode,G),Ml(G,j),G.return=q,G;case d:return j=mg(j,q.mode,G),j.return=q,j;case K:var J=j._init;return j=J(j._payload),ne(q,j,G)}if(le(j)||ae(j))return j=Aa(j,q.mode,G,null),j.return=q,j;if(typeof j.then=="function")return ne(q,Mc(j),G);if(j.$$typeof===w)return ne(q,Yc(q,j),G);kc(q,j)}return null}function Q(q,j,G,J){var de=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:A(q,j,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===de?N(q,j,G,J):null;case d:return G.key===de?H(q,j,G,J):null;case K:return de=G._init,G=de(G._payload),Q(q,j,G,J)}if(le(G)||ae(G))return de!==null?null:W(q,j,G,J,null);if(typeof G.then=="function")return Q(q,j,Mc(G),J);if(G.$$typeof===w)return Q(q,j,Yc(q,G),J);kc(q,G)}return null}function X(q,j,G,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(G)||null,A(j,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return q=q.get(J.key===null?G:J.key)||null,N(j,q,J,de);case d:return q=q.get(J.key===null?G:J.key)||null,H(j,q,J,de);case K:var Me=J._init;return J=Me(J._payload),X(q,j,G,J,de)}if(le(J)||ae(J))return q=q.get(G)||null,W(j,q,J,de,null);if(typeof J.then=="function")return X(q,j,G,Mc(J),de);if(J.$$typeof===w)return X(q,j,G,Yc(j,J),de);kc(j,J)}return null}function pe(q,j,G,J){for(var de=null,Me=null,ve=j,Te=j=0,en=null;ve!==null&&Te<G.length;Te++){ve.index>Te?(en=ve,ve=null):en=ve.sibling;var Ke=Q(q,ve,G[Te],J);if(Ke===null){ve===null&&(ve=en);break}r&&ve&&Ke.alternate===null&&s(q,ve),j=m(Ke,j,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke,ve=en}if(Te===G.length)return o(q,ve),Ge&&da(q,Te),de;if(ve===null){for(;Te<G.length;Te++)ve=ne(q,G[Te],J),ve!==null&&(j=m(ve,j,Te),Me===null?de=ve:Me.sibling=ve,Me=ve);return Ge&&da(q,Te),de}for(ve=u(ve);Te<G.length;Te++)en=X(ve,q,Te,G[Te],J),en!==null&&(r&&en.alternate!==null&&ve.delete(en.key===null?Te:en.key),j=m(en,j,Te),Me===null?de=en:Me.sibling=en,Me=en);return r&&ve.forEach(function(Ts){return s(q,Ts)}),Ge&&da(q,Te),de}function Re(q,j,G,J){if(G==null)throw Error(i(151));for(var de=null,Me=null,ve=j,Te=j=0,en=null,Ke=G.next();ve!==null&&!Ke.done;Te++,Ke=G.next()){ve.index>Te?(en=ve,ve=null):en=ve.sibling;var Ts=Q(q,ve,Ke.value,J);if(Ts===null){ve===null&&(ve=en);break}r&&ve&&Ts.alternate===null&&s(q,ve),j=m(Ts,j,Te),Me===null?de=Ts:Me.sibling=Ts,Me=Ts,ve=en}if(Ke.done)return o(q,ve),Ge&&da(q,Te),de;if(ve===null){for(;!Ke.done;Te++,Ke=G.next())Ke=ne(q,Ke.value,J),Ke!==null&&(j=m(Ke,j,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke);return Ge&&da(q,Te),de}for(ve=u(ve);!Ke.done;Te++,Ke=G.next())Ke=X(ve,q,Te,Ke.value,J),Ke!==null&&(r&&Ke.alternate!==null&&ve.delete(Ke.key===null?Te:Ke.key),j=m(Ke,j,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke);return r&&ve.forEach(function(F1){return s(q,F1)}),Ge&&da(q,Te),de}function Et(q,j,G,J){if(typeof G=="object"&&G!==null&&G.type===g&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:e:{for(var de=G.key;j!==null;){if(j.key===de){if(de=G.type,de===g){if(j.tag===7){o(q,j.sibling),J=f(j,G.props.children),J.return=q,q=J;break e}}else if(j.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===K&&Qy(de)===j.type){o(q,j.sibling),J=f(j,G.props),Ml(J,G),J.return=q,q=J;break e}o(q,j);break}else s(q,j);j=j.sibling}G.type===g?(J=Aa(G.props.children,q.mode,J,G.key),J.return=q,q=J):(J=Zc(G.type,G.key,G.props,null,q.mode,J),Ml(J,G),J.return=q,q=J)}return E(q);case d:e:{for(de=G.key;j!==null;){if(j.key===de)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(q,j.sibling),J=f(j,G.children||[]),J.return=q,q=J;break e}else{o(q,j);break}else s(q,j);j=j.sibling}J=mg(G,q.mode,J),J.return=q,q=J}return E(q);case K:return de=G._init,G=de(G._payload),Et(q,j,G,J)}if(le(G))return pe(q,j,G,J);if(ae(G)){if(de=ae(G),typeof de!="function")throw Error(i(150));return G=de.call(G),Re(q,j,G,J)}if(typeof G.then=="function")return Et(q,j,Mc(G),J);if(G.$$typeof===w)return Et(q,j,Yc(q,G),J);kc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(q,j.sibling),J=f(j,G),J.return=q,q=J):(o(q,j),J=gg(G,q.mode,J),J.return=q,q=J),E(q)):o(q,j)}return function(q,j,G,J){try{xl=0;var de=Et(q,j,G,J);return go=null,de}catch(ve){if(ve===Nl)throw ve;var Me=dr(29,ve,null,q.mode);return Me.lanes=J,Me.return=q,Me}finally{}}}var ma=Yy(!0),Xy=Yy(!1),mo=Ie(null),Vc=Ie(0);function Wy(r,s){r=Ii,ye(Vc,r),ye(mo,s),Ii=r|s.baseLanes}function Td(){ye(Vc,Ii),ye(mo,mo.current)}function bd(){Ii=Vc.current,qe(mo),qe(Vc)}var cr=Ie(null),Fr=null;function rs(r){var s=r.alternate;ye(qt,qt.current&1),ye(cr,r),Fr===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(Fr=r)}function Zy(r){if(r.tag===22){if(ye(qt,qt.current),ye(cr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else is()}function is(){ye(qt,qt.current),ye(cr,cr.current)}function vi(r){qe(cr),Fr===r&&(Fr=null),qe(qt)}var qt=Ie(0);function Pc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var OS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},xS=n.unstable_scheduleCallback,MS=n.unstable_NormalPriority,Ft={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new OS,data:new Map,refCount:0}}function kl(r){r.refCount--,r.refCount===0&&xS(MS,function(){r.controller.abort()})}var Vl=null,Ad=0,po=0,yo=null;function kS(r,s){if(Vl===null){var o=Vl=[];Ad=0,po=Ng(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ad++,s.then(Jy,Jy),s}function Jy(){if(--Ad===0&&Vl!==null){yo!==null&&(yo.status="fulfilled");var r=Vl;Vl=null,po=0,yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function VS(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var ev=R.S;R.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&kS(r,s),ev!==null&&ev(r,s)};var pa=Ie(null);function Sd(){var r=pa.current;return r!==null?r:nt.pooledCache}function Lc(r,s){s===null?ye(pa,pa.current):ye(pa,s.pool)}function tv(){var r=Sd();return r===null?null:{parent:Ft._currentValue,pool:r}}var ss=0,xe=null,We=null,Nt=null,Uc=!1,vo=!1,ya=!1,Bc=0,Pl=0,_o=null,PS=0;function St(){throw Error(i(321))}function Rd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Kn(r[o],s[o]))return!1;return!0}function Cd(r,s,o,u,f,m){return ss=m,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=r===null||r.memoizedState===null?va:as,ya=!1,m=o(u,f),ya=!1,vo&&(m=rv(s,o,u,f)),nv(r),m}function nv(r){R.H=Gr;var s=We!==null&&We.next!==null;if(ss=0,Nt=We=xe=null,Uc=!1,Pl=0,_o=null,s)throw Error(i(300));r===null||Zt||(r=r.dependencies,r!==null&&Qc(r)&&(Zt=!0))}function rv(r,s,o,u){xe=r;var f=0;do{if(vo&&(_o=null),Pl=0,vo=!1,25<=f)throw Error(i(301));if(f+=1,Nt=We=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=_a,m=s(o,u)}while(vo);return m}function LS(){var r=R.H,s=r.useState()[0];return s=typeof s.then=="function"?Ll(s):s,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(xe.flags|=1024),s}function Id(){var r=Bc!==0;return Bc=0,r}function Dd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Nd(r){if(Uc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uc=!1}ss=0,Nt=We=xe=null,vo=!1,Pl=Bc=0,_o=null}function kn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?xe.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function Ot(){if(We===null){var r=xe.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var s=Nt===null?xe.memoizedState:Nt.next;if(s!==null)Nt=s,We=r;else{if(r===null)throw xe.alternate===null?Error(i(467)):Error(i(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?xe.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}var jc;jc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ll(r){var s=Pl;return Pl+=1,_o===null&&(_o=[]),r=Ky(_o,r,s),s=xe,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?va:as),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ll(r);if(r.$$typeof===w)return En(r)}throw Error(i(438,String(r)))}function Od(r){var s=null,o=xe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=jc(),xe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=ie;return s.index++,o}function _i(r,s){return typeof s=="function"?s(r):s}function Hc(r){var s=Ot();return xd(s,We,r)}function xd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var A=E=null,N=null,H=s,W=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(ze&ne)===ne:(ss&ne)===ne){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===po&&(W=!0);else if((ss&Q)===Q){H=H.next,Q===po&&(W=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=ne,E=m):N=N.next=ne,xe.lanes|=Q,ms|=Q;ne=H.action,ya&&o(m,ne),m=H.hasEagerState?H.eagerState:o(m,ne)}else Q={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(A=N=Q,E=m):N=N.next=Q,xe.lanes|=ne,ms|=ne;H=H.next}while(H!==null&&H!==s);if(N===null?E=m:N.next=A,!Kn(m,r.memoizedState)&&(Zt=!0,W&&(o=yo,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Md(r){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);Kn(m,s.memoizedState)||(Zt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function iv(r,s,o){var u=xe,f=Ot(),m=Ge;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Kn((We||f).memoizedState,o);if(E&&(f.memoizedState=o,Zt=!0),f=f.queue,Pd(ov.bind(null,u,f,r),[r]),f.getSnapshot!==s||E||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,av.bind(null,u,f,o,s),{destroy:void 0},null),nt===null)throw Error(i(349));m||ss&60||sv(u,s,o)}return o}function sv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=xe.updateQueue,s===null?(s=jc(),xe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function av(r,s,o,u){s.value=o,s.getSnapshot=u,lv(s)&&uv(r)}function ov(r,s,o){return o(function(){lv(s)&&uv(r)})}function lv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Kn(r,o)}catch{return!0}}function uv(r){var s=ns(r,2);s!==null&&On(s,r,2)}function kd(r){var s=kn();if(typeof r=="function"){var o=r;if(r=o(),ya){zn(!0);try{o()}finally{zn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},s}function cv(r,s,o,u){return r.baseState=o,xd(r,We,typeof u=="function"?u:_i)}function US(r,s,o,u,f){if(Gc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};R.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,hv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function hv(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=R.T,E={};R.T=E;try{var A=o(f,u),N=R.S;N!==null&&N(E,A),fv(r,s,A)}catch(H){Vd(r,s,H)}finally{R.T=m}}else try{m=o(f,u),fv(r,s,m)}catch(H){Vd(r,s,H)}}function fv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){dv(r,s,u)},function(u){return Vd(r,s,u)}):dv(r,s,o)}function dv(r,s,o){s.status="fulfilled",s.value=o,gv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,hv(r,o)))}function Vd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,gv(s),s=s.next;while(s!==u)}r.action=null}function gv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function mv(r,s){return s}function pv(r,s){if(Ge){var o=nt.formState;if(o!==null){e:{var u=xe;if(Ge){if(un){t:{for(var f=un,m=qr;f.nodeType!==8;){if(!m){f=null;break t}if(f=wr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){un=wr(f.nextSibling),u=f.data==="F!";break e}}ga(u)}u=!1}u&&(s=o[0])}}return o=kn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:s},o.queue=u,o=kv.bind(null,xe,u),u.dispatch=o,u=kd(!1),m=zd.bind(null,xe,!1,u.queue),u=kn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=US.bind(null,xe,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function yv(r){var s=Ot();return vv(s,We,r)}function vv(r,s,o){s=xd(r,s,mv)[0],r=Hc(_i)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ll(s):s;var u=Ot(),f=u.queue,m=f.dispatch;return o!==u.memoizedState&&(xe.flags|=2048,Eo(9,BS.bind(null,f,o),{destroy:void 0},null)),[s,m,r]}function BS(r,s){r.action=s}function _v(r){var s=Ot(),o=We;if(o!==null)return vv(s,o,r);Ot(),s=s.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Eo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=xe.updateQueue,s===null&&(s=jc(),xe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Ev(){return Ot().memoizedState}function qc(r,s,o,u){var f=kn();xe.flags|=r,f.memoizedState=Eo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Fc(r,s,o,u){var f=Ot();u=u===void 0?null:u;var m=f.memoizedState.inst;We!==null&&u!==null&&Rd(u,We.memoizedState.deps)?f.memoizedState=Eo(s,o,m,u):(xe.flags|=r,f.memoizedState=Eo(1|s,o,m,u))}function Tv(r,s){qc(8390656,8,r,s)}function Pd(r,s){Fc(2048,8,r,s)}function bv(r,s){return Fc(4,2,r,s)}function wv(r,s){return Fc(4,4,r,s)}function Av(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Sv(r,s,o){o=o!=null?o.concat([r]):null,Fc(4,4,Av.bind(null,s,r),o)}function Ld(){}function Rv(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Cv(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rd(s,u[1]))return u[0];if(u=r(),ya){zn(!0);try{r()}finally{zn(!1)}}return o.memoizedState=[u,s],u}function Ud(r,s,o){return o===void 0||ss&1073741824?r.memoizedState=s:(r.memoizedState=o,r=D_(),xe.lanes|=r,ms|=r,o)}function Iv(r,s,o,u){return Kn(o,s)?o:mo.current!==null?(r=Ud(r,o,u),Kn(r,s)||(Zt=!0),r):ss&42?(r=D_(),xe.lanes|=r,ms|=r,s):(Zt=!0,r.memoizedState=o)}function Dv(r,s,o,u,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=R.T,A={};R.T=A,zd(r,!1,s,o);try{var N=f(),H=R.S;if(H!==null&&H(A,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=VS(N,u);Ul(r,s,W,Xn(r))}else Ul(r,s,u,Xn(r))}catch(ne){Ul(r,s,{then:function(){},status:"rejected",reason:ne},Xn())}finally{ue.p=m,R.T=E}}function jS(){}function Bd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=Nv(r).queue;Dv(r,f,s,Ae,o===null?jS:function(){return Ov(r),o(u)})}function Nv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ov(r){var s=Nv(r).next.queue;Ul(r,s,{},Xn())}function jd(){return En(iu)}function xv(){return Ot().memoizedState}function Mv(){return Ot().memoizedState}function zS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Xn();r=us(o);var u=cs(s,r,o);u!==null&&(On(u,s,o),zl(u,s,o)),s={cache:wd()},r.payload=s;return}s=s.return}}function HS(r,s,o){var u=Xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gc(r)?Vv(s,o):(o=pd(r,s,o,u),o!==null&&(On(o,r,u),Pv(o,s,u)))}function kv(r,s,o){var u=Xn();Ul(r,s,o,u)}function Ul(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gc(r))Vv(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,A=m(E,o);if(f.hasEagerState=!0,f.eagerState=A,Kn(A,E))return Ic(r,s,f,0),nt===null&&Cc(),!1}catch{}finally{}if(o=pd(r,s,f,u),o!==null)return On(o,r,u),Pv(o,s,u),!0}return!1}function zd(r,s,o,u){if(u={lane:2,revertLane:Ng(),action:u,hasEagerState:!1,eagerState:null,next:null},Gc(r)){if(s)throw Error(i(479))}else s=pd(r,o,u,2),s!==null&&On(s,r,2)}function Gc(r){var s=r.alternate;return r===xe||s!==null&&s===xe}function Vv(r,s){vo=Uc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Pv(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Yt(r,o)}}var Gr={readContext:En,use:zc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St};Gr.useCacheRefresh=St,Gr.useMemoCache=St,Gr.useHostTransitionStatus=St,Gr.useFormState=St,Gr.useActionState=St,Gr.useOptimistic=St;var va={readContext:En,use:zc,useCallback:function(r,s){return kn().memoizedState=[r,s===void 0?null:s],r},useContext:En,useEffect:Tv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,qc(4194308,4,Av.bind(null,s,r),o)},useLayoutEffect:function(r,s){return qc(4194308,4,r,s)},useInsertionEffect:function(r,s){qc(4,2,r,s)},useMemo:function(r,s){var o=kn();s=s===void 0?null:s;var u=r();if(ya){zn(!0);try{r()}finally{zn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=kn();if(o!==void 0){var f=o(s);if(ya){zn(!0);try{o(s)}finally{zn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=HS.bind(null,xe,r),[u.memoizedState,r]},useRef:function(r){var s=kn();return r={current:r},s.memoizedState=r},useState:function(r){r=kd(r);var s=r.queue,o=kv.bind(null,xe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Ld,useDeferredValue:function(r,s){var o=kn();return Ud(o,r,s)},useTransition:function(){var r=kd(!1);return r=Dv.bind(null,xe,r.queue,!0,!1),kn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=xe,f=kn();if(Ge){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),nt===null)throw Error(i(349));ze&60||sv(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Tv(ov.bind(null,u,m,r),[r]),u.flags|=2048,Eo(9,av.bind(null,u,m,o,s),{destroy:void 0},null),o},useId:function(){var r=kn(),s=nt.identifierPrefix;if(Ge){var o=yi,u=pi;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Bc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=PS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return kn().memoizedState=zS.bind(null,xe)}};va.useMemoCache=Od,va.useHostTransitionStatus=jd,va.useFormState=pv,va.useActionState=pv,va.useOptimistic=function(r){var s=kn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zd.bind(null,xe,!0,o),o.dispatch=s,[r,s]};var as={readContext:En,use:zc,useCallback:Rv,useContext:En,useEffect:Pd,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:Cv,useReducer:Hc,useRef:Ev,useState:function(){return Hc(_i)},useDebugValue:Ld,useDeferredValue:function(r,s){var o=Ot();return Iv(o,We.memoizedState,r,s)},useTransition:function(){var r=Hc(_i)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:Ll(r),s]},useSyncExternalStore:iv,useId:xv};as.useCacheRefresh=Mv,as.useMemoCache=Od,as.useHostTransitionStatus=jd,as.useFormState=yv,as.useActionState=yv,as.useOptimistic=function(r,s){var o=Ot();return cv(o,We,r,s)};var _a={readContext:En,use:zc,useCallback:Rv,useContext:En,useEffect:Pd,useImperativeHandle:Sv,useInsertionEffect:bv,useLayoutEffect:wv,useMemo:Cv,useReducer:Md,useRef:Ev,useState:function(){return Md(_i)},useDebugValue:Ld,useDeferredValue:function(r,s){var o=Ot();return We===null?Ud(o,r,s):Iv(o,We.memoizedState,r,s)},useTransition:function(){var r=Md(_i)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:Ll(r),s]},useSyncExternalStore:iv,useId:xv};_a.useCacheRefresh=Mv,_a.useMemoCache=Od,_a.useHostTransitionStatus=jd,_a.useFormState=_v,_a.useActionState=_v,_a.useOptimistic=function(r,s){var o=Ot();return We!==null?cv(o,We,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Hd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:D({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var qd={isMounted:function(r){return(r=r._reactInternals)?me(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Xn(),f=us(u);f.payload=s,o!=null&&(f.callback=o),s=cs(r,f,u),s!==null&&(On(s,r,u),zl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Xn(),f=us(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=cs(r,f,u),s!==null&&(On(s,r,u),zl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Xn(),u=us(o);u.tag=2,s!=null&&(u.callback=s),s=cs(r,u,o),s!==null&&(On(s,r,o),zl(s,r,o))}};function Lv(r,s,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Sl(o,u)||!Sl(f,m):!0}function Uv(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&qd.enqueueReplaceState(s,s.state,null)}function Ea(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=D({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Kc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Bv(r){Kc(r)}function jv(r){console.error(r)}function zv(r){Kc(r)}function $c(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Hv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(r,s,o){return o=us(o),o.tag=3,o.payload={element:null},o.callback=function(){$c(r,s)},o}function qv(r){return r=us(r),r.tag=3,r}function Fv(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){Hv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Hv(s,o,u),typeof f!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function qS(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&jl(s,o,f,!0),o=cr.current,o!==null){switch(o.tag){case 13:return Fr===null?Sg():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cg(r,u,f)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cg(r,u,f)),!1}throw Error(i(435,o.tag))}return Cg(r,u,f),Sg(),!1}if(Ge)return s=cr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==_d&&(r=Error(i(422),{cause:u}),Dl(or(r,o)))):(u!==_d&&(s=Error(i(423),{cause:u}),Dl(or(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=or(u,o),f=Fd(r.stateNode,u,f),sg(r,f),_t!==4&&(_t=2)),!1;var m=Error(i(520),{cause:u});if(m=or(m,o),Yl===null?Yl=[m]:Yl.push(m),_t!==4&&(_t=2),s===null)return!0;u=or(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Fd(o.stateNode,u,r),sg(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ps===null||!ps.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=qv(f),Fv(f,r,o,u),sg(o,f),!1}o=o.return}while(o!==null);return!1}var Gv=Error(i(461)),Zt=!1;function cn(r,s,o,u){s.child=r===null?Xy(s,null,o,u):ma(s,r.child,o,u)}function Kv(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return ba(s),u=Cd(r,s,o,E,m,f),A=Id(),r!==null&&!Zt?(Dd(r,s,f),Ei(r,s,f)):(Ge&&A&&yd(s),s.flags|=1,cn(r,s,u,f),s.child)}function $v(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!dg(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Qv(r,s,m,u,f)):(r=Zc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Jd(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Sl,o(E,u)&&r.ref===s.ref)return Ei(r,s,f)}return s.flags|=1,r=gs(m,u),r.ref=s.ref,r.return=s,s.child=r}function Qv(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(Sl(m,u)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=u=m,Jd(r,f))r.flags&131072&&(Zt=!0);else return s.lanes=r.lanes,Ei(r,s,f)}return Gd(r,s,o,u,f)}function Yv(r,s,o){var u=s.pendingProps,f=u.children,m=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(Bl(r,s),u.mode==="hidden"||m){if(s.flags&128){if(u=E!==null?E.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return Xv(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lc(s,E!==null?E.cachePool:null),E!==null?Wy(s,E):Td(),Zy(s);else return s.lanes=s.childLanes=536870912,Xv(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Lc(s,E.cachePool),Wy(s,E),is(),s.memoizedState=null):(r!==null&&Lc(s,null),Td(),is());return cn(r,s,f,o),s.child}function Xv(r,s,o,u){var f=Sd();return f=f===null?null:{parent:Ft._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Lc(s,null),Td(),Zy(s),r!==null&&jl(r,s,u,!0),null}function Bl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Gd(r,s,o,u,f){return ba(s),o=Cd(r,s,o,u,void 0,f),u=Id(),r!==null&&!Zt?(Dd(r,s,f),Ei(r,s,f)):(Ge&&u&&yd(s),s.flags|=1,cn(r,s,o,f),s.child)}function Wv(r,s,o,u,f,m){return ba(s),s.updateQueue=null,o=rv(s,u,o,f),nv(r),u=Id(),r!==null&&!Zt?(Dd(r,s,m),Ei(r,s,m)):(Ge&&u&&yd(s),s.flags|=1,cn(r,s,o,m),s.child)}function Zv(r,s,o,u,f){if(ba(s),s.stateNode===null){var m=co,E=o.contextType;typeof E=="object"&&E!==null&&(m=En(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},rg(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?En(E):co,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Hd(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&qd.enqueueReplaceState(m,m.state,null),ql(s,u,m,f),Hl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var A=s.memoizedProps,N=Ea(o,A);m.props=N;var H=m.context,W=o.contextType;E=co,typeof W=="object"&&W!==null&&(E=En(W));var ne=o.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==E)&&Uv(s,m,u,E),ls=!1;var Q=s.memoizedState;m.state=Q,ql(s,u,m,f),Hl(),H=s.memoizedState,A||Q!==H||ls?(typeof ne=="function"&&(Hd(s,o,ne,u),H=s.memoizedState),(N=ls||Lv(s,o,N,u,Q,H,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=E,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,ig(r,s),E=s.memoizedProps,W=Ea(o,E),m.props=W,ne=s.pendingProps,Q=m.context,H=o.contextType,N=co,typeof H=="object"&&H!==null&&(N=En(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||Q!==N)&&Uv(s,m,u,N),ls=!1,Q=s.memoizedState,m.state=Q,ql(s,u,m,f),Hl();var X=s.memoizedState;E!==ne||Q!==X||ls||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof A=="function"&&(Hd(s,o,A,u),X=s.memoizedState),(W=ls||Lv(s,o,W,u,Q,X,N)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),m.props=u,m.state=X,m.context=N,u=W):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Bl(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=ma(s,r.child,null,f),s.child=ma(s,null,o,f)):cn(r,s,o,f),s.memoizedState=m.state,r=s.child):r=Ei(r,s,f),r}function Jv(r,s,o,u){return Il(),s.flags|=256,cn(r,s,o,u),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function $d(r){return{baseLanes:r,cachePool:tv()}}function Qd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=gr),r}function e_(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ge){if(f?rs(s):is(),Ge){var A=un,N;if(N=A){e:{for(N=A,A=qr;N.nodeType!==8;){if(!A){A=null;break e}if(N=wr(N.nextSibling),N===null){A=null;break e}}A=N}A!==null?(s.memoizedState={dehydrated:A,treeContext:fa!==null?{id:pi,overflow:yi}:null,retryLane:536870912},N=dr(18,null,null,0),N.stateNode=A,N.return=s,s.child=N,Nn=s,un=null,N=!0):N=!1}N||ga(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;vi(s)}return A=u.children,u=u.fallback,f?(is(),f=s.mode,A=Xd({mode:"hidden",children:A},f),u=Aa(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=$d(o),f.childLanes=Qd(r,E,o),s.memoizedState=Kd,u):(rs(s),Yd(s,A))}if(N=r.memoizedState,N!==null&&(A=N.dehydrated,A!==null)){if(m)s.flags&256?(rs(s),s.flags&=-257,s=Wd(r,s,o)):s.memoizedState!==null?(is(),s.child=r.child,s.flags|=128,s=null):(is(),f=u.fallback,A=s.mode,u=Xd({mode:"visible",children:u.children},A),f=Aa(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,ma(s,r.child,null,o),u=s.child,u.memoizedState=$d(o),u.childLanes=Qd(r,E,o),s.memoizedState=Kd,s=f);else if(rs(s),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(i(419)),u.stack="",u.digest=E,Dl({value:u,source:null,stack:null}),s=Wd(r,s,o)}else if(Zt||jl(r,s,o,!1),E=(o&r.childLanes)!==0,Zt||E){if(E=nt,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,ns(r,u),On(E,r,u),Gv}A.data==="$?"||Sg(),s=Wd(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=i1.bind(null,r),A._reactRetry=s,s=null):(r=N.treeContext,un=wr(A.nextSibling),Nn=s,Ge=!0,Tr=null,qr=!1,r!==null&&(lr[ur++]=pi,lr[ur++]=yi,lr[ur++]=fa,pi=r.id,yi=r.overflow,fa=s),s=Yd(s,u.children),s.flags|=4096);return s}return f?(is(),f=u.fallback,A=s.mode,N=r.child,H=N.sibling,u=gs(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,H!==null?f=gs(H,f):(f=Aa(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=$d(o):(N=A.cachePool,N!==null?(H=Ft._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=tv(),A={baseLanes:A.baseLanes|o,cachePool:N}),f.memoizedState=A,f.childLanes=Qd(r,E,o),s.memoizedState=Kd,u):(rs(s),o=r.child,r=o.sibling,o=gs(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Yd(r,s){return s=Xd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Xd(r,s){return R_(r,s,0,null)}function Wd(r,s,o){return ma(s,r.child,null,o),r=Yd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function t_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),tg(r.return,s,o)}function Zd(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function n_(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(cn(r,s,u.children,o),u=qt.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&t_(r,o,s);else if(r.tag===19)t_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ye(qt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Pc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Zd(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Pc(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Zd(s,!0,o,null,m);break;case"together":Zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ei(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ms|=s.lanes,!(o&s.childLanes))if(r!==null){if(jl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=gs(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=gs(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Jd(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function FS(r,s,o){switch(s.tag){case 3:Cn(s,s.stateNode.containerInfo),os(s,Ft,r.memoizedState.cache),Il();break;case 27:case 5:qi(s);break;case 4:Cn(s,s.stateNode.containerInfo);break;case 10:os(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(rs(s),s.flags|=128,null):o&s.child.childLanes?e_(r,s,o):(rs(s),r=Ei(r,s,o),r!==null?r.sibling:null);rs(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(jl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return n_(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(qt,qt.current),u)break;return null;case 22:case 23:return s.lanes=0,Yv(r,s,o);case 24:os(s,Ft,r.memoizedState.cache)}return Ei(r,s,o)}function r_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Jd(r,o)&&!(s.flags&128))return Zt=!1,FS(r,s,o);Zt=!!(r.flags&131072)}else Zt=!1,Ge&&s.flags&1048576&&zy(s,Oc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")dg(u)?(r=Ea(u,r),s.tag=1,s=Zv(null,s,u,r,o)):(s.tag=0,s=Gd(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===V){s.tag=11,s=Kv(null,s,u,r,o);break e}else if(f===B){s.tag=14,s=$v(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Gd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ea(u,s.pendingProps),Zv(r,s,u,f,o);case 3:e:{if(Cn(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var m=s.pendingProps;f=s.memoizedState,u=f.element,ig(r,s),ql(s,m,null,o);var E=s.memoizedState;if(m=E.cache,os(s,Ft,m),m!==f.cache&&ng(s,[Ft],o,!0),Hl(),m=E.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Jv(r,s,m,o);break e}else if(m!==u){u=or(Error(i(424)),s),Dl(u),s=Jv(r,s,m,o);break e}else for(un=wr(s.stateNode.containerInfo.firstChild),Nn=s,Ge=!0,Tr=null,qr=!0,o=Xy(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Il(),m===u){s=Ei(r,s,o);break e}cn(r,s,m,o)}s=s.child}return s;case 26:return Bl(r,s),r===null?(o=a0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,r=s.pendingProps,u=ch(Vt.current).createElement(o),u[pt]=s,u[jt]=r,hn(u,o,r),ht(u),s.stateNode=u):s.memoizedState=a0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return qi(s),r===null&&Ge&&(u=s.stateNode=r0(s.type,s.pendingProps,Vt.current),Nn=s,qr=!0,un=wr(u.firstChild)),u=s.pendingProps.children,r!==null||Ge?cn(r,s,u,o):s.child=ma(s,null,u,o),Bl(r,s),s.child;case 5:return r===null&&Ge&&((f=u=un)&&(u=E1(u,s.type,s.pendingProps,qr),u!==null?(s.stateNode=u,Nn=s,un=wr(u.firstChild),qr=!1,f=!0):f=!1),f||ga(s)),qi(s),f=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,Bg(f,m)?u=null:E!==null&&Bg(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Cd(r,s,LS,null,null,o),iu._currentValue=f),Bl(r,s),cn(r,s,u,o),s.child;case 6:return r===null&&Ge&&((r=o=un)&&(o=T1(o,s.pendingProps,qr),o!==null?(s.stateNode=o,Nn=s,un=null,r=!0):r=!1),r||ga(s)),null;case 13:return e_(r,s,o);case 4:return Cn(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=ma(s,null,u,o):cn(r,s,u,o),s.child;case 11:return Kv(r,s,s.type,s.pendingProps,o);case 7:return cn(r,s,s.pendingProps,o),s.child;case 8:return cn(r,s,s.pendingProps.children,o),s.child;case 12:return cn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,os(s,s.type,u.value),cn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ba(s),f=En(f),u=u(f),s.flags|=1,cn(r,s,u,o),s.child;case 14:return $v(r,s,s.type,s.pendingProps,o);case 15:return Qv(r,s,s.type,s.pendingProps,o);case 19:return n_(r,s,o);case 22:return Yv(r,s,o);case 24:return ba(s),u=En(Ft),r===null?(f=Sd(),f===null&&(f=nt,m=wd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},rg(s),os(s,Ft,f)):(r.lanes&o&&(ig(r,s),ql(s,null,null,o),Hl()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),os(s,Ft,u)):(u=m.cache,os(s,Ft,u),u!==f.cache&&ng(s,[Ft],o,!0))),cn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var eg=Ie(null),Ta=null,Ti=null;function os(r,s,o){ye(eg,s._currentValue),s._currentValue=o}function bi(r){r._currentValue=eg.current,qe(eg)}function tg(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function ng(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var N=0;N<s.length;N++)if(A.context===s[N]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),tg(m.return,o,r),u||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),tg(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function jl(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=f.type;Kn(f.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(f===$t.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(iu):r=[iu])}f=f.return}r!==null&&ng(s,r,o,u),s.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!Kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ba(r){Ta=r,Ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function En(r){return i_(Ta,r)}function Yc(r,s){return Ta===null&&ba(r),i_(r,s)}function i_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ti===null){if(r===null)throw Error(i(308));Ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ti=Ti.next=s;return o}var ls=!1;function rg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function us(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function cs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,dt&2){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Dc(r),By(r,null,o),s}return Ic(r,u,s,o),Dc(r)}function zl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Yt(r,o)}}function sg(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ag=!1;function Hl(){if(ag){var r=yo;if(r!==null)throw r}}function ql(r,s,o,u){ag=!1;var f=r.updateQueue;ls=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,E===null?m=H:E.next=H,E=N;var W=r.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;E=0,W=H=N=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(ze&Q)===Q:(u&Q)===Q){Q!==0&&Q===po&&(ag=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=r,Re=A;Q=s;var Et=o;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){ne=pe.call(Et,ne,Q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,Q=typeof pe=="function"?pe.call(Et,ne,Q):pe,Q==null)break e;ne=D({},ne,Q);break e;case 2:ls=!0}}Q=A.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=X,N=ne):W=W.next=X,E|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ms|=E,r.lanes=E,r.memoizedState=ne}}function s_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function a_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)s_(o[r],s)}function Fl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){Je(s,s.return,A)}}function hs(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var N=o;try{A()}catch(H){Je(f,N,H)}}}u=u.next}while(u!==m)}}catch(H){Je(s,s.return,H)}}function o_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{a_(s,o)}catch(u){Je(r,r.return,u)}}}function l_(r,s,o){o.props=Ea(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Je(r,s,u)}}function wa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(m){Je(r,s,m)}}function $n(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(r,s,f)}else o.current=null}function u_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(r,r.return,f)}}function c_(r,s,o){try{var u=r.stateNode;m1(u,r.type,o,s),u[jt]=s}catch(f){Je(r,r.return,f)}}function h_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function og(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||h_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lg(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=uh));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(lg(r,s,o),r=r.sibling;r!==null;)lg(r,s,o),r=r.sibling}function Xc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Xc(r,s,o),r=r.sibling;r!==null;)Xc(r,s,o),r=r.sibling}var wi=!1,vt=!1,ug=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Jt=null,d_=!1;function GS(r,s){if(r=r.containerInfo,Lg=ph,r=Ny(r),hd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,N=-1,H=0,W=0,ne=r,Q=null;t:for(;;){for(var X;ne!==o||f!==0&&ne.nodeType!==3||(A=E+f),ne!==m||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===r)break t;if(Q===o&&++H===f&&(A=E),Q===m&&++W===u&&(N=E),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}o=A===-1||N===-1?null:{start:A,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ug={focusedElem:r,selectionRange:o},ph=!1,Jt=s;Jt!==null;)if(s=Jt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Jt=r;else for(;Jt!==null;){switch(s=Jt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var pe=Ea(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){Je(o,o.return,Re)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Hg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jt=r;break}Jt=s.return}return pe=d_,d_=!1,pe}function g_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Si(r,o),u&4&&Fl(5,o);break;case 1:if(Si(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){Je(o,o.return,A)}else{var f=Ea(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Je(o,o.return,A)}}u&64&&o_(o),u&512&&wa(o,o.return);break;case 3:if(Si(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{a_(u,r)}catch(A){Je(o,o.return,A)}}break;case 26:Si(r,o),u&512&&wa(o,o.return);break;case 27:case 5:Si(r,o),s===null&&u&4&&u_(o),u&512&&wa(o,o.return);break;case 12:Si(r,o);break;case 13:Si(r,o),u&4&&y_(r,o);break;case 22:if(f=o.memoizedState!==null||wi,!f){s=s!==null&&s.memoizedState!==null||vt;var m=wi,E=vt;wi=f,(vt=s)&&!E?fs(r,o,(o.subtreeFlags&8772)!==0):Si(r,o),wi=m,vt=E}u&512&&(o.memoizedProps.mode==="manual"?wa(o,o.return):$n(o,o.return));break;default:Si(r,o)}}function m_(r){var s=r.alternate;s!==null&&(r.alternate=null,m_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Js(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,Qn=!1;function Ai(r,s,o){for(o=o.child;o!==null;)p_(r,s,o),o=o.sibling}function p_(r,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(xr,o)}catch{}switch(o.tag){case 26:vt||$n(o,s),Ai(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||$n(o,s);var u=xt,f=Qn;for(xt=o.stateNode,Ai(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Js(o),xt=u,Qn=f;break;case 5:vt||$n(o,s);case 6:f=xt;var m=Qn;if(xt=null,Ai(r,s,o),xt=f,Qn=m,xt!==null)if(Qn)try{r=xt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){Je(o,s,E)}else try{xt.removeChild(o.stateNode)}catch(E){Je(o,s,E)}break;case 18:xt!==null&&(Qn?(s=xt,o=o.stateNode,s.nodeType===8?zg(s.parentNode,o):s.nodeType===1&&zg(s,o),lu(s)):zg(xt,o.stateNode));break;case 4:u=xt,f=Qn,xt=o.stateNode.containerInfo,Qn=!0,Ai(r,s,o),xt=u,Qn=f;break;case 0:case 11:case 14:case 15:vt||hs(2,o,s),vt||hs(4,o,s),Ai(r,s,o);break;case 1:vt||($n(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l_(o,s,u)),Ai(r,s,o);break;case 21:Ai(r,s,o);break;case 22:vt||$n(o,s),vt=(u=vt)||o.memoizedState!==null,Ai(r,s,o),vt=u;break;default:Ai(r,s,o)}}function y_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lu(r)}catch(o){Je(s,s.return,o)}}function KS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new f_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new f_),s;default:throw Error(i(435,r.tag))}}function cg(r,s){var o=KS(r);s.forEach(function(u){var f=s1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function hr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:case 5:xt=A.stateNode,Qn=!1;break e;case 3:xt=A.stateNode.containerInfo,Qn=!0;break e;case 4:xt=A.stateNode.containerInfo,Qn=!0;break e}A=A.return}if(xt===null)throw Error(i(160));p_(m,E,f),xt=null,Qn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)v_(s,r),s=s.sibling}var br=null;function v_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hr(s,r),fr(r),u&4&&(hs(3,r,r.return),Fl(3,r),hs(5,r,r.return));break;case 1:hr(s,r),fr(r),u&512&&(vt||o===null||$n(o,o.return)),u&64&&wi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=br;if(hr(s,r),fr(r),u&512&&(vt||o===null||$n(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Qi]||m[pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),hn(m,u,o),m[pt]=r,ht(m),u=m;break e;case"link":var E=u0("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(u),hn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=u0("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=f.createElement(u),hn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[pt]=r,ht(m),u=m}r.stateNode=u}else c0(f,r.type,r.stateNode);else r.stateNode=l0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?c0(f,r.type,r.stateNode):l0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&c_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){f=r.stateNode,m=r.memoizedProps;try{for(var N=f.firstChild;N;){var H=N.nextSibling,W=N.nodeName;N[Qi]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=H}for(var ne=r.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);hn(f,ne,m),f[pt]=r,f[jt]=m}catch(pe){Je(r,r.return,pe)}}case 5:if(hr(s,r),fr(r),u&512&&(vt||o===null||$n(o,o.return)),r.flags&32){f=r.stateNode;try{nr(f,"")}catch(pe){Je(r,r.return,pe)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,c_(r,f,o!==null?o.memoizedProps:f)),u&1024&&(ug=!0);break;case 6:if(hr(s,r),fr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(pe){Je(r,r.return,pe)}}break;case 3:if(dh=null,f=br,br=hh(s.containerInfo),hr(s,r),br=f,fr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lu(s.containerInfo)}catch(pe){Je(r,r.return,pe)}ug&&(ug=!1,__(r));break;case 4:u=br,br=hh(r.stateNode.containerInfo),hr(s,r),fr(r),br=u;break;case 12:hr(s,r),fr(r);break;case 13:hr(s,r),fr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_g=rn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,cg(r,u)));break;case 22:if(u&512&&(vt||o===null||$n(o,o.return)),N=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,W=wi,ne=vt,wi=W||N,vt=ne||H,hr(s,r),vt=ne,wi=W,fr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=wi||vt,o===null||H||s||To(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(f=H.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=H.stateNode,A=H.memoizedProps.style;var X=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(H,H.return,pe)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=N?"":H.memoizedProps}catch(pe){Je(H,H.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,cg(r,o))));break;case 19:hr(s,r),fr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,cg(r,u)));break;case 21:break;default:hr(s,r),fr(r)}}function fr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(h_(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var f=u.stateNode,m=og(r);Xc(r,m,f);break;case 5:var E=u.stateNode;u.flags&32&&(nr(E,""),u.flags&=-33);var A=og(r);Xc(r,A,E);break;case 3:case 4:var N=u.stateNode.containerInfo,H=og(r);lg(r,H,N);break;default:throw Error(i(161))}}}catch(W){Je(r,r.return,W)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function __(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;__(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Si(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g_(r,s.alternate,s),s=s.sibling}function To(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),To(s);break;case 1:$n(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&l_(s,s.return,o),To(s);break;case 26:case 27:case 5:$n(s,s.return),To(s);break;case 22:$n(s,s.return),s.memoizedState===null&&To(s);break;default:To(s)}r=r.sibling}}function fs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:fs(f,m,o),Fl(4,m);break;case 1:if(fs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(u,u.return,H)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)s_(N[f],A)}catch(H){Je(u,u.return,H)}}o&&E&64&&o_(m),wa(m,m.return);break;case 26:case 27:case 5:fs(f,m,o),o&&u===null&&E&4&&u_(m),wa(m,m.return);break;case 12:fs(f,m,o);break;case 13:fs(f,m,o),o&&E&4&&y_(f,m);break;case 22:m.memoizedState===null&&fs(f,m,o),wa(m,m.return);break;default:fs(f,m,o)}s=s.sibling}}function hg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&kl(o))}function fg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r))}function ds(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E_(r,s,o,u),s=s.sibling}function E_(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ds(r,s,o,u),f&2048&&Fl(9,s);break;case 3:ds(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r)));break;case 12:if(f&2048){ds(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){Je(s,s.return,N)}}else ds(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?ds(r,s,o,u):Gl(r,s):m._visibility&4?ds(r,s,o,u):(m._visibility|=4,bo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&hg(s.alternate,s);break;case 24:ds(r,s,o,u),f&2048&&fg(s.alternate,s);break;default:ds(r,s,o,u)}}function bo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,A=o,N=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:bo(m,E,A,N,f),Fl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?bo(m,E,A,N,f):Gl(m,E):(W._visibility|=4,bo(m,E,A,N,f)),f&&H&2048&&hg(E.alternate,E);break;case 24:bo(m,E,A,N,f),f&&H&2048&&fg(E.alternate,E);break;default:bo(m,E,A,N,f)}s=s.sibling}}function Gl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Gl(o,u),f&2048&&hg(u.alternate,u);break;case 24:Gl(o,u),f&2048&&fg(u.alternate,u);break;default:Gl(o,u)}s=s.sibling}}var Kl=8192;function wo(r){if(r.subtreeFlags&Kl)for(r=r.child;r!==null;)T_(r),r=r.sibling}function T_(r){switch(r.tag){case 26:wo(r),r.flags&Kl&&r.memoizedState!==null&&k1(br,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var s=br;br=hh(r.stateNode.containerInfo),wo(r),br=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Kl,Kl=16777216,wo(r),Kl=s):wo(r));break;default:wo(r)}}function b_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function $l(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,A_(u,r)}b_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)w_(r),r=r.sibling}function w_(r){switch(r.tag){case 0:case 11:case 15:$l(r),r.flags&2048&&hs(9,r,r.return);break;case 3:$l(r);break;case 12:$l(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Wc(r)):$l(r);break;default:$l(r)}}function Wc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Jt=u,A_(u,r)}b_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:hs(8,s,s.return),Wc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Wc(s));break;default:Wc(s)}r=r.sibling}}function A_(r,s){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:hs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Jt=u;else e:for(o=r;Jt!==null;){u=Jt;var f=u.sibling,m=u.return;if(m_(u),u===o){Jt=null;break e}if(f!==null){f.return=m,Jt=f;break e}Jt=m}}}function $S(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,s,o,u){return new $S(r,s,o,u)}function dg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gs(r,s){var o=r.alternate;return o===null?(o=dr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function S_(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Zc(r,s,o,u,f,m){var E=0;if(u=r,typeof r=="function")dg(r)&&(E=1);else if(typeof r=="string")E=x1(r,o,wt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case g:return Aa(o.children,f,m,s);case p:E=8,f|=24;break;case v:return r=dr(12,o,s,f|2),r.elementType=v,r.lanes=m,r;case z:return r=dr(13,o,s,f),r.elementType=z,r.lanes=m,r;case O:return r=dr(19,o,s,f),r.elementType=O,r.lanes=m,r;case $:return R_(o,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case w:E=10;break e;case b:E=9;break e;case V:E=11;break e;case B:E=14;break e;case K:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=dr(E,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function Aa(r,s,o,u){return r=dr(7,r,u,s),r.lanes=o,r}function R_(r,s,o,u){r=dr(22,r,u,s),r.elementType=$,r.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(i(456));if(!(f._pendingVisibility&2)){var E=ns(m,2);E!==null&&(f._pendingVisibility|=2,On(E,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(i(456));if(f._pendingVisibility&2){var E=ns(m,2);E!==null&&(f._pendingVisibility&=-3,On(E,m,2))}}};return r.stateNode=f,r}function gg(r,s,o){return r=dr(6,r,null,s),r.lanes=o,r}function mg(r,s,o){return s=dr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ri(r){r.flags|=4}function C_(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!h0(s)){if(s=cr.current,s!==null&&((ze&4194176)===ze?Fr!==null:(ze&62914560)!==ze&&!(ze&536870912)||s!==Fr))throw Ol=Ed,Fy;r.flags|=8192}}function Jc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ut():536870912,r.lanes|=s,So|=s)}function Ql(r,s){if(!Ge)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function QS(r,s,o){var u=s.pendingProps;switch(vd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),bi(Ft),pn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Cl(s)?Ri(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Tr!==null&&(wg(Tr),Tr=null))),ft(s),null;case 26:return o=s.memoizedState,r===null?(Ri(s),o!==null?(ft(s),C_(s,o)):(ft(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ri(s),ft(s),C_(s,o)):(ft(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ri(s),ft(s),s.flags&=-16777217),null;case 27:si(s),o=Vt.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}r=wt.current,Cl(s)?Hy(s):(r=r0(f,u,o),s.stateNode=r,Ri(s))}return ft(s),null;case 5:if(si(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(r=wt.current,Cl(s))Hy(s);else{switch(f=ch(Vt.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[pt]=s,r[jt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(hn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ri(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,Cl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||W_(r.nodeValue,o)),r||ga(s)}else r=ch(r).createTextNode(u),r[pt]=s,s.stateNode=r}return ft(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Cl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[pt]=s}else Il(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ft(s),f=!1}else Tr!==null&&(wg(Tr),Tr=null),f=!0;if(!f)return s.flags&256?(vi(s),s):(vi(s),null)}if(vi(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Jc(s,s.updateQueue),ft(s),null;case 4:return pn(),r===null&&kg(s.stateNode.containerInfo),ft(s),null;case 10:return bi(s.type),ft(s),null;case 19:if(qe(qt),f=s.memoizedState,f===null)return ft(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)Ql(f,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(m=Pc(r),m!==null){for(s.flags|=128,Ql(f,!1),r=m.updateQueue,s.updateQueue=r,Jc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)S_(o,r),o=o.sibling;return ye(qt,qt.current&1|2),s.child}r=r.sibling}f.tail!==null&&rn()>eh&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304)}else{if(!u)if(r=Pc(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Jc(s,r),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return ft(s),null}else 2*rn()-f.renderingStartTime>eh&&o!==536870912&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=rn(),s.sibling=null,r=qt.current,ye(qt,u?r&1|2:r&1),s):(ft(s),null);case 22:case 23:return vi(s),bd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),o=s.updateQueue,o!==null&&Jc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&qe(pa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),bi(Ft),ft(s),null;case 25:return null}throw Error(i(156,s.tag))}function YS(r,s){switch(vd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bi(Ft),pn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return si(s),null;case 13:if(vi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Il()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return qe(qt),null;case 4:return pn(),null;case 10:return bi(s.type),null;case 22:case 23:return vi(s),bd(),r!==null&&qe(pa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return bi(Ft),null;case 25:return null;default:return null}}function I_(r,s){switch(vd(s),s.tag){case 3:bi(Ft),pn();break;case 26:case 27:case 5:si(s);break;case 4:pn();break;case 13:vi(s);break;case 19:qe(qt);break;case 10:bi(s.type);break;case 22:case 23:vi(s),bd(),r!==null&&qe(pa);break;case 24:bi(Ft)}}var XS={getCacheForType:function(r){var s=En(Ft),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},WS=typeof WeakMap=="function"?WeakMap:Map,dt=0,nt=null,ke=null,ze=0,rt=0,Yn=null,Ci=!1,Ao=!1,pg=!1,Ii=0,_t=0,ms=0,Sa=0,yg=0,gr=0,So=0,Yl=null,Kr=null,vg=!1,_g=0,eh=1/0,th=null,ps=null,nh=!1,Ra=null,Xl=0,Eg=0,Tg=null,Wl=0,bg=null;function Xn(){if(dt&2&&ze!==0)return ze&-ze;if(R.T!==null){var r=po;return r!==0?r:Ng()}return kr()}function D_(){gr===0&&(gr=!(ze&536870912)||Ge?Lt():536870912);var r=cr.current;return r!==null&&(r.flags|=32),gr}function On(r,s,o){(r===nt&&rt===2||r.cancelPendingCommit!==null)&&(Ro(r,0),Di(r,ze,gr,!1)),Oe(r,o),(!(dt&2)||r!==nt)&&(r===nt&&(!(dt&2)&&(Sa|=o),_t===4&&Di(r,ze,gr,!1)),$r(r))}function N_(r,s,o){if(dt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||an(r,s),f=u?e1(r,s):Rg(r,s,!0),m=u;do{if(f===0){Ao&&!u&&Di(r,s,0,!1);break}else if(f===6)Di(r,s,0,!Ci);else{if(o=r.current.alternate,m&&!ZS(o)){f=Rg(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;f=Yl;var N=A.current.memoizedState.isDehydrated;if(N&&(Ro(A,E).flags|=256),E=Rg(A,E,!1),E!==2){if(pg&&!N){A.errorRecoveryDisabledLanes|=m,Sa|=m,f=4;break e}m=Kr,Kr=f,m!==null&&wg(m)}f=E}if(m=!1,f!==2)continue}}if(f===1){Ro(r,0),Di(r,s,0,!0);break}e:{switch(u=r,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Di(u,s,gr,!Ci);break e}break;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(m=_g+300-rn(),10<m)){if(Di(u,s,gr,!Ci),tt(u,0)!==0)break e;u.timeoutHandle=e0(O_.bind(null,u,o,Kr,th,vg,s,gr,Sa,So,Ci,2,-0,0),m);break e}O_(u,o,Kr,th,vg,s,gr,Sa,So,Ci,0,-0,0)}}break}while(!0);$r(r)}function wg(r){Kr===null?Kr=r:Kr.push.apply(Kr,r)}function O_(r,s,o,u,f,m,E,A,N,H,W,ne,Q){var X=s.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:M1},T_(s),s=V1(),s!==null)){r.cancelPendingCommit=s(U_.bind(null,r,o,u,f,E,A,N,1,ne,Q)),Di(r,m,E,!H);return}U_(r,o,u,f,E,A,N,W,ne,Q)}function ZS(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Kn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(r,s,o,u){s&=~yg,s&=~Sa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-sn(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Bt(r,o,s)}function rh(){return dt&6?!0:(Zl(0),!1)}function Ag(){if(ke!==null){if(rt===0)var r=ke.return;else r=ke,Ti=Ta=null,Nd(r),go=null,xl=0,r=ke;for(;r!==null;)I_(r.alternate,r),r=r.return;ke=null}}function Ro(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,y1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ag(),nt=r,ke=o=gs(r.current,null),ze=s,rt=0,Yn=null,Ci=!1,Ao=an(r,s),pg=!1,So=gr=yg=Sa=ms=_t=0,Kr=Yl=null,vg=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-sn(u),m=1<<f;s|=r[f],u&=~m}return Ii=s,Cc(),o}function x_(r,s){xe=null,R.H=Gr,s===Nl?(s=$y(),rt=3):s===Fy?(s=$y(),rt=4):rt=s===Gv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yn=s,ke===null&&(_t=1,$c(r,or(s,r.current)))}function M_(){var r=R.H;return R.H=Gr,r===null?Gr:r}function k_(){var r=R.A;return R.A=XS,r}function Sg(){_t=4,Ci||(ze&4194176)!==ze&&cr.current!==null||(Ao=!0),!(ms&134217727)&&!(Sa&134217727)||nt===null||Di(nt,ze,gr,!1)}function Rg(r,s,o){var u=dt;dt|=2;var f=M_(),m=k_();(nt!==r||ze!==s)&&(th=null,Ro(r,s)),s=!1;var E=_t;e:do try{if(rt!==0&&ke!==null){var A=ke,N=Yn;switch(rt){case 8:Ag(),E=6;break e;case 3:case 2:case 6:cr.current===null&&(s=!0);var H=rt;if(rt=0,Yn=null,Co(r,A,N,H),o&&Ao){E=0;break e}break;default:H=rt,rt=0,Yn=null,Co(r,A,N,H)}}JS(),E=_t;break}catch(W){x_(r,W)}while(!0);return s&&r.shellSuspendCounter++,Ti=Ta=null,dt=u,R.H=f,R.A=m,ke===null&&(nt=null,ze=0,Cc()),E}function JS(){for(;ke!==null;)V_(ke)}function e1(r,s){var o=dt;dt|=2;var u=M_(),f=k_();nt!==r||ze!==s?(th=null,eh=rn()+500,Ro(r,s)):Ao=an(r,s);e:do try{if(rt!==0&&ke!==null){s=ke;var m=Yn;t:switch(rt){case 1:rt=0,Yn=null,Co(r,s,m,1);break;case 2:if(Gy(m)){rt=0,Yn=null,P_(s);break}s=function(){rt===2&&nt===r&&(rt=7),$r(r)},m.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Gy(m)?(rt=0,Yn=null,P_(s)):(rt=0,Yn=null,Co(r,s,m,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var A=ke;if(!E||h0(E)){rt=0,Yn=null;var N=A.sibling;if(N!==null)ke=N;else{var H=A.return;H!==null?(ke=H,ih(H)):ke=null}break t}}rt=0,Yn=null,Co(r,s,m,5);break;case 6:rt=0,Yn=null,Co(r,s,m,6);break;case 8:Ag(),_t=6;break e;default:throw Error(i(462))}}t1();break}catch(W){x_(r,W)}while(!0);return Ti=Ta=null,R.H=u,R.A=f,dt=o,ke!==null?0:(nt=null,ze=0,Cc(),_t)}function t1(){for(;ke!==null&&!Fi();)V_(ke)}function V_(r){var s=r_(r.alternate,r,Ii);r.memoizedProps=r.pendingProps,s===null?ih(r):ke=s}function P_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Wv(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=Wv(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Nd(s);default:I_(o,s),s=ke=S_(s,Ii),s=r_(o,s,Ii)}r.memoizedProps=r.pendingProps,s===null?ih(r):ke=s}function Co(r,s,o,u){Ti=Ta=null,Nd(s),go=null,xl=0;var f=s.return;try{if(qS(r,f,s,o,ze)){_t=1,$c(r,or(o,r.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;_t=1,$c(r,or(o,r.current)),ke=null;return}s.flags&32768?(Ge||u===1?r=!0:Ao||ze&536870912?r=!1:(Ci=r=!0,(u===2||u===3||u===6)&&(u=cr.current,u!==null&&u.tag===13&&(u.flags|=16384))),L_(s,r)):ih(s)}function ih(r){var s=r;do{if(s.flags&32768){L_(s,Ci);return}r=s.return;var o=QS(s.alternate,s,Ii);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=r}while(s!==null);_t===0&&(_t=5)}function L_(r,s){do{var o=YS(r.alternate,r);if(o!==null){o.flags&=32767,ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ke=r;return}ke=r=o}while(r!==null);_t=6,ke=null}function U_(r,s,o,u,f,m,E,A,N,H){var W=R.T,ne=ue.p;try{ue.p=2,R.T=null,n1(r,s,o,u,ne,f,m,E,A,N,H)}finally{R.T=W,ue.p=ne}}function n1(r,s,o,u,f,m,E,A){do Io();while(Ra!==null);if(dt&6)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=N.lanes|N.childLanes;if(H|=md,qn(r,u,H,m,E,A),r===nt&&(ke=nt=null,ze=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||nh||(nh=!0,Eg=H,Tg=o,a1(vn,function(){return Io(),null})),o=(N.flags&15990)!==0,N.subtreeFlags&15990||o?(o=R.T,R.T=null,m=ue.p,ue.p=2,E=dt,dt|=4,GS(r,N),v_(N,r),RS(Ug,r.containerInfo),ph=!!Lg,Ug=Lg=null,r.current=N,g_(r,N.alternate,N),Gi(),dt=E,ue.p=m,R.T=o):r.current=N,nh?(nh=!1,Ra=r,Xl=u):B_(r,H),H=r.pendingLanes,H===0&&(ps=null),ai(N.stateNode),$r(r),s!==null)for(f=r.onRecoverableError,N=0;N<s.length;N++)H=s[N],f(H.value,{componentStack:H.stack});return Xl&3&&Io(),H=r.pendingLanes,u&4194218&&H&42?r===bg?Wl++:(Wl=0,bg=r):Wl=0,Zl(0),null}function B_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,kl(s)))}function Io(){if(Ra!==null){var r=Ra,s=Eg;Eg=0;var o=Mr(Xl),u=R.T,f=ue.p;try{if(ue.p=32>o?32:o,R.T=null,Ra===null)var m=!1;else{o=Tg,Tg=null;var E=Ra,A=Xl;if(Ra=null,Xl=0,dt&6)throw Error(i(331));var N=dt;if(dt|=4,w_(E.current),E_(E,E.current,A,o),dt=N,Zl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(xr,E)}catch{}m=!0}return m}finally{ue.p=f,R.T=u,B_(r,s)}}return!1}function j_(r,s,o){s=or(o,s),s=Fd(r.stateNode,s,2),r=cs(r,s,2),r!==null&&(Oe(r,2),$r(r))}function Je(r,s,o){if(r.tag===3)j_(r,r,o);else for(;s!==null;){if(s.tag===3){j_(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){r=or(o,r),o=qv(2),u=cs(s,o,2),u!==null&&(Fv(o,u,s,r),Oe(u,2),$r(u));break}}s=s.return}}function Cg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new WS;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(pg=!0,f.add(o),r=r1.bind(null,r,s,o),s.then(r,r))}function r1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(ze&o)===o&&(_t===4||_t===3&&(ze&62914560)===ze&&300>rn()-_g?!(dt&2)&&Ro(r,0):yg|=o,So===ze&&(So=0)),$r(r)}function z_(r,s){s===0&&(s=Ut()),r=ns(r,s),r!==null&&(Oe(r,s),$r(r))}function i1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),z_(r,o)}function s1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),z_(r,o)}function a1(r,s){return yn(r,s)}var sh=null,Do=null,Ig=!1,ah=!1,Dg=!1,Ca=0;function $r(r){r!==Do&&r.next===null&&(Do===null?sh=Do=r:Do=Do.next=r),ah=!0,Ig||(Ig=!0,l1(o1))}function Zl(r,s){if(!Dg&&ah){Dg=!0;do for(var o=!1,u=sh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-sn(42|r)+1)-1,m&=f&~(E&~A),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,F_(u,m))}else m=ze,m=tt(u,u===nt?m:0),!(m&3)||an(u,m)||(o=!0,F_(u,m));u=u.next}while(o);Dg=!1}}function o1(){ah=Ig=!1;var r=0;Ca!==0&&(p1()&&(r=Ca),Ca=0);for(var s=rn(),o=null,u=sh;u!==null;){var f=u.next,m=H_(u,s);m===0?(u.next=null,o===null?sh=f:o.next=f,f===null&&(Do=o)):(o=u,(r!==0||m&3)&&(ah=!0)),u=f}Zl(r)}function H_(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-sn(m),A=1<<E,N=f[E];N===-1?(!(A&o)||A&u)&&(f[E]=Pt(A,s)):N<=s&&(r.expiredLanes|=A),m&=~A}if(s=nt,o=ze,o=tt(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&rt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&vr(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||an(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&vr(u),Mr(o)){case 2:case 8:o=st;break;case 32:o=vn;break;case 268435456:o=Ki;break;default:o=vn}return u=q_.bind(null,r),o=yn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&vr(u),r.callbackPriority=2,r.callbackNode=null,2}function q_(r,s){var o=r.callbackNode;if(Io()&&r.callbackNode!==o)return null;var u=ze;return u=tt(r,r===nt?u:0),u===0?null:(N_(r,u,s),H_(r,rn()),r.callbackNode!=null&&r.callbackNode===o?q_.bind(null,r):null)}function F_(r,s){if(Io())return null;N_(r,s,!0)}function l1(r){v1(function(){dt&6?yn(At,r):r()})}function Ng(){return Ca===0&&(Ca=Lt()),Ca}function G_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pr(""+r)}function K_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function u1(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=G_((f[jt]||null).action),E=u.submitter;E&&(s=(s=E[jt]||null)?G_(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var A=new Ja("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ca!==0){var N=E?K_(f,E):new FormData(f);Bd(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(A.preventDefault(),N=E?K_(f,E):new FormData(f),Bd(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Og=0;Og<Uy.length;Og++){var xg=Uy[Og],c1=xg.toLowerCase(),h1=xg[0].toUpperCase()+xg.slice(1);Er(c1,"on"+h1)}Er(My,"onAnimationEnd"),Er(ky,"onAnimationIteration"),Er(Vy,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(IS,"onTransitionRun"),Er(DS,"onTransitionStart"),Er(NS,"onTransitionCancel"),Er(Py,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function $_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Kc(W)}f.currentTarget=null,m=N}else for(E=0;E<u.length;E++){if(A=u[E],N=A.instance,H=A.currentTarget,A=A.listener,N!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Kc(W)}f.currentTarget=null,m=N}}}}function Le(r,s){var o=s[Zs];o===void 0&&(o=s[Zs]=new Set);var u=r+"__bubble";o.has(u)||(Q_(s,r,2,!1),o.add(u))}function Mg(r,s,o){var u=0;s&&(u|=4),Q_(o,r,u,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function kg(r){if(!r[oh]){r[oh]=!0,hl.forEach(function(o){o!=="selectionchange"&&(f1.has(o)||Mg(o,!1,r),Mg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[oh]||(s[oh]=!0,Mg("selectionchange",!1,s))}}function Q_(r,s,o,u){switch(y0(s)){case 2:var f=U1;break;case 8:f=B1;break;default:f=$g}o=f.bind(null,s,o,r),f=void 0,!ir||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Vg(r,s,o,u,f){var m=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;A!==null;){if(E=_r(A),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=m=E;continue e}A=A.parentNode}}u=u.return}fc(function(){var H=m,W=Za(o),ne=[];e:{var Q=Ly.get(r);if(Q!==void 0){var X=Ja,pe=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":pe="focus",X=no;break;case"focusout":pe="blur",X=no;break;case"beforeblur":case"afterblur":X=no;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ec;break;case My:case ky:case Vy:X=ro;break;case Py:X=bc;break;case"scroll":case"scrollend":X=dc;break;case"wheel":X=ao;break;case"copy":case"cut":case"paste":X=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=wl;break;case"toggle":case"beforetoggle":X=Ac}var Re=(s&4)!==0,Et=!Re&&(r==="scroll"||r==="scrollend"),q=Re?Q!==null?Q+"Capture":null:Q;Re=[];for(var j=H,G;j!==null;){var J=j;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||q===null||(J=ra(j,q),J!=null&&Re.push(eu(j,J,G))),Et)break;j=j.return}0<Re.length&&(Q=new X(Q,pe,null,o,W),ne.push({event:Q,listeners:Re}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&o!==rr&&(pe=o.relatedTarget||o.fromElement)&&(_r(pe)||pe[oi]))break e;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=H,pe=pe?_r(pe):null,pe!==null&&(Et=me(pe),Re=pe.tag,pe!==Et||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(X=null,pe=H),X!==pe)){if(Re=sr,J="onMouseLeave",q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Re=wl,J="onPointerLeave",q="onPointerEnter",j="pointer"),Et=X==null?Q:Yi(X),G=pe==null?Q:Yi(pe),Q=new Re(J,j+"leave",X,o,W),Q.target=Et,Q.relatedTarget=G,J=null,_r(W)===H&&(Re=new Re(q,j+"enter",pe,o,W),Re.target=G,Re.relatedTarget=Et,J=Re),Et=J,X&&pe)t:{for(Re=X,q=pe,j=0,G=Re;G;G=No(G))j++;for(G=0,J=q;J;J=No(J))G++;for(;0<j-G;)Re=No(Re),j--;for(;0<G-j;)q=No(q),G--;for(;j--;){if(Re===q||q!==null&&Re===q.alternate)break t;Re=No(Re),q=No(q)}Re=null}else Re=null;X!==null&&Y_(ne,Q,X,Re,!1),pe!==null&&Et!==null&&Y_(ne,Et,pe,Re,!0)}}e:{if(Q=H?Yi(H):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var de=by;else if(Ht(Q))if(wy)de=AS;else{de=bS;var Me=TS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&pl(H.elementType)&&(de=by):de=wS;if(de&&(de=de(r,H))){mi(ne,de,o,W);break e}Me&&Me(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&Wa(Q,"number",Q.value)}switch(Me=H?Yi(H):window,r){case"focusin":(Ht(Me)||Me.contentEditable==="true")&&(oo=Me,fd=H,Rl=null);break;case"focusout":Rl=fd=oo=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Oy(ne,o,W);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Oy(ne,o,W)}var ve;if(zr)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?Y(r,o)&&(Te="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(_&&o.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ve=vl()):(Lr=W,ts="value"in Lr?Lr.value:Lr.textContent,Be=!0)),Me=lh(H,Te),0<Me.length&&(Te=new Tl(Te,r,null,o,W),ne.push({event:Te,listeners:Me}),ve?Te.data=ve:(ve=se(o),ve!==null&&(Te.data=ve)))),(ve=y?zt(r,o):je(r,o))&&(Te=lh(H,"onBeforeInput"),0<Te.length&&(Me=new Tl("onBeforeInput","beforeinput",null,o,W),ne.push({event:Me,listeners:Te}),Me.data=ve)),u1(ne,r,H,o,W)}$_(ne,s)})}function eu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function lh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ra(r,o),f!=null&&u.unshift(eu(r,f,m)),f=ra(r,s),f!=null&&u.push(eu(r,f,m))),r=r.return}return u}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Y_(r,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var A=o,N=A.alternate,H=A.stateNode;if(A=A.tag,N!==null&&N===u)break;A!==5&&A!==26&&A!==27||H===null||(N=H,f?(H=ra(o,m),H!=null&&E.unshift(eu(o,H,N))):f||(H=ra(o,m),H!=null&&E.push(eu(o,H,N)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var d1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function X_(r){return(typeof r=="string"?r:""+r).replace(d1,`
`).replace(g1,"")}function W_(r,s){return s=X_(s),X_(r)===s}function uh(){}function Ze(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||nr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&nr(r,""+u);break;case"className":Zi(r,"class",u);break;case"tabIndex":Zi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(r,o,u);break;case"style":hc(r,u,m);break;case"data":if(s!=="object"){Zi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Ze(r,s,"name",f.name,f,null),Ze(r,s,"formEncType",f.formEncType,f,null),Ze(r,s,"formMethod",f.formMethod,f,null),Ze(r,s,"formTarget",f.formTarget,f,null)):(Ze(r,s,"encType",f.encType,f,null),Ze(r,s,"method",f.method,f,null),Ze(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=uh);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Pr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Wi(r,"popover",u);break;case"xlinkActuate":tr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,Wi(r,o,u))}}function Pg(r,s,o,u,f,m){switch(o){case"style":hc(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?nr(r,u):(typeof u=="number"||typeof u=="bigint")&&nr(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[jt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Wi(r,o,u)}}}function hn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,m,E,o,null)}}f&&Ze(r,s,"srcSet",o.srcSet,o,null),u&&Ze(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=m=E=f=null,N=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Ze(r,s,u,W,o,null)}}ta(r,m,A,N,H,E,f,!1),ea(r);return;case"select":Le("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Ze(r,s,f,A,o,null)}s=m,o=E,r.multiple=!!u,s!=null?Fe(r,!!u,s,!1):o!=null&&Fe(r,!!u,o,!0);return;case"textarea":Le("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Ze(r,s,E,A,o,null)}es(r,u,f,m),ea(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,s,N,u,o,null)}return;case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Jl.length;u++)Le(Jl[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,H,u,o,null)}return;default:if(pl(s)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Pg(r,s,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Ze(r,s,A,u,o,null))}function m1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,N=null,H=null,W=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(X)||Ze(r,s,X,null,u,ne)}}for(var Q in u){var X=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":H=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ne&&Ze(r,s,Q,X,u,ne)}}Ji(r,E,A,N,H,W,m,f);return;case"select":X=E=A=Q=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(m)||Ze(r,s,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==N&&Ze(r,s,f,m,u,N)}s=A,o=E,u=X,Q!=null?Fe(r,!!o,Q,!1):!!u!=!!o&&(s!=null?Fe(r,!!o,s,!0):Fe(r,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(r,s,A,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Ze(r,s,E,f,u,m)}na(r,Q,X);return;case"option":for(var pe in o)if(Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":r.selected=!1;break;default:Ze(r,s,pe,null,u,Q)}for(N in u)if(Q=u[N],X=o[N],u.hasOwnProperty(N)&&Q!==X&&(Q!=null||X!=null))switch(N){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ze(r,s,N,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Q=o[Re],o.hasOwnProperty(Re)&&Q!=null&&!u.hasOwnProperty(Re)&&Ze(r,s,Re,null,u,Q);for(H in u)if(Q=u[H],X=o[H],u.hasOwnProperty(H)&&Q!==X&&(Q!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Ze(r,s,H,Q,u,X)}return;default:if(pl(s)){for(var Et in o)Q=o[Et],o.hasOwnProperty(Et)&&Q!==void 0&&!u.hasOwnProperty(Et)&&Pg(r,s,Et,void 0,u,Q);for(W in u)Q=u[W],X=o[W],!u.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||Pg(r,s,W,Q,u,X);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&Ze(r,s,q,null,u,Q);for(ne in u)Q=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Q===X||Q==null&&X==null||Ze(r,s,ne,Q,u,X)}var Lg=null,Ug=null;function ch(r){return r.nodeType===9?r:r.ownerDocument}function Z_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Bg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jg=null;function p1(){var r=window.event;return r&&r.type==="popstate"?r===jg?!1:(jg=r,!0):(jg=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,v1=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(r){return t0.resolve(null).then(r).catch(_1)}:e0;function _1(r){setTimeout(function(){throw r})}function zg(r,s){var o=s,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){r.removeChild(f),lu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);lu(s)}function Hg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hg(o),Js(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function E1(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Qi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=wr(r.nextSibling),r===null)break}return null}function T1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wr(r.nextSibling),r===null))return null;return r}function wr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function n0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function r0(r,s,o){switch(s=ch(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var mr=new Map,i0=new Set;function hh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Ni=ue.d;ue.d={f:b1,r:w1,D:A1,C:S1,L:R1,m:C1,X:D1,S:I1,M:N1};function b1(){var r=Ni.f(),s=rh();return r||s}function w1(r){var s=li(r);s!==null&&s.tag===5&&s.type==="form"?Ov(s):Ni.r(r)}var Oo=typeof document>"u"?null:document;function s0(r,s,o){var u=Oo;if(u&&typeof s=="string"&&s){var f=yt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),i0.has(f)||(i0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),hn(s,"link",r),ht(s),u.head.appendChild(s)))}}function A1(r){Ni.D(r),s0("dns-prefetch",r,null)}function S1(r,s){Ni.C(r,s),s0("preconnect",r,s)}function R1(r,s,o){Ni.L(r,s,o);var u=Oo;if(u&&r&&s){var f='link[rel="preload"][as="'+yt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yt(o.imageSizes)+'"]')):f+='[href="'+yt(r)+'"]';var m=f;switch(s){case"style":m=xo(r);break;case"script":m=Mo(r)}mr.has(m)||(r=D({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),mr.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(tu(m))||s==="script"&&u.querySelector(nu(m))||(s=u.createElement("link"),hn(s,"link",r),ht(s),u.head.appendChild(s)))}}function C1(r,s){Ni.m(r,s);var o=Oo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+yt(u)+'"][href="'+yt(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(r)}if(!mr.has(m)&&(r=D({rel:"modulepreload",href:r},s),mr.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nu(m)))return}u=o.createElement("link"),hn(u,"link",r),ht(u),o.head.appendChild(u)}}}function I1(r,s,o){Ni.S(r,s,o);var u=Oo;if(u&&r){var f=Xi(u).hoistableStyles,m=xo(r);s=s||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(tu(m)))A.loading=5;else{r=D({rel:"stylesheet",href:r,"data-precedence":s},o),(o=mr.get(m))&&qg(r,o);var N=E=u.createElement("link");ht(N),hn(N,"link",r),N._p=new Promise(function(H,W){N.onload=H,N.onerror=W}),N.addEventListener("load",function(){A.loading|=1}),N.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function D1(r,s){Ni.X(r,s);var o=Oo;if(o&&r){var u=Xi(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(nu(f)),m||(r=D({src:r,async:!0},s),(s=mr.get(f))&&Fg(r,s),m=o.createElement("script"),ht(m),hn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function N1(r,s){Ni.M(r,s);var o=Oo;if(o&&r){var u=Xi(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(nu(f)),m||(r=D({src:r,async:!0,type:"module"},s),(s=mr.get(f))&&Fg(r,s),m=o.createElement("script"),ht(m),hn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function a0(r,s,o,u){var f=(f=Vt.current)?hh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=xo(o.href),o=Xi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=xo(o.href);var m=Xi(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(tu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mr.set(r,o),m||O1(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(o),o=Xi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function xo(r){return'href="'+yt(r)+'"'}function tu(r){return'link[rel="stylesheet"]['+r+"]"}function o0(r){return D({},r,{"data-precedence":r.precedence,precedence:null})}function O1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),hn(s,"link",o),ht(s),r.head.appendChild(s))}function Mo(r){return'[src="'+yt(r)+'"]'}function nu(r){return"script[async]"+r}function l0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+yt(o.href)+'"]');if(u)return s.instance=u,ht(u),u;var f=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ht(u),hn(u,"style",f),fh(u,o.precedence,r),s.instance=u;case"stylesheet":f=xo(o.href);var m=r.querySelector(tu(f));if(m)return s.state.loading|=4,s.instance=m,ht(m),m;u=o0(o),(f=mr.get(f))&&qg(u,f),m=(r.ownerDocument||r).createElement("link"),ht(m);var E=m;return E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),hn(m,"link",u),s.state.loading|=4,fh(m,o.precedence,r),s.instance=m;case"script":return m=Mo(o.src),(f=r.querySelector(nu(m)))?(s.instance=f,ht(f),f):(u=o,(f=mr.get(m))&&(u=D({},o),Fg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ht(f),hn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,fh(u,o.precedence,r));return s.instance}function fh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Fg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var dh=null;function u0(r,s,o){if(dh===null){var u=new Map,f=dh=new Map;f.set(o,u)}else f=dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Qi]||m[pt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function c0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function x1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h0(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var ru=null;function M1(){}function k1(r,s,o){if(ru===null)throw Error(i(475));var u=ru;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var f=xo(o.href),m=r.querySelector(tu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,ht(m);return}m=r.ownerDocument||r,o=o0(o),(f=mr.get(f))&&qg(o,f),m=m.createElement("link"),ht(m);var E=m;E._p=new Promise(function(A,N){E.onload=A,E.onerror=N}),hn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=gh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function V1(){if(ru===null)throw Error(i(475));var r=ru;return r.stylesheets&&r.count===0&&Gg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Gg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)Gg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mh=null;function Gg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mh=new Map,s.forEach(P1,r),mh=null,gh.call(r))}function P1(r,s){if(!(s.state.loading&4)){var o=mh.get(r);if(o)var u=o.get(null);else{o=new Map,mh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var iu={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function L1(r,s,o,u,f,m,E,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function f0(r,s,o,u,f,m,E,A,N,H,W,ne){return r=new L1(r,s,o,E,A,N,H,ne),s=1,m===!0&&(s|=24),m=dr(3,null,null,s),r.current=m,m.stateNode=r,s=wd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},rg(m),r}function d0(r){return r?(r=co,r):co}function g0(r,s,o,u,f,m){f=d0(f),u.context===null?u.context=f:u.pendingContext=f,u=us(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=cs(r,u,s),o!==null&&(On(o,r,s),zl(o,r,s))}function m0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Kg(r,s){m0(r,s),(r=r.alternate)&&m0(r,s)}function p0(r){if(r.tag===13){var s=ns(r,67108864);s!==null&&On(s,r,67108864),Kg(r,67108864)}}var ph=!0;function U1(r,s,o,u){var f=R.T;R.T=null;var m=ue.p;try{ue.p=2,$g(r,s,o,u)}finally{ue.p=m,R.T=f}}function B1(r,s,o,u){var f=R.T;R.T=null;var m=ue.p;try{ue.p=8,$g(r,s,o,u)}finally{ue.p=m,R.T=f}}function $g(r,s,o,u){if(ph){var f=Qg(u);if(f===null)Vg(r,s,u,yh,o),v0(r,u);else if(z1(f,r,s,o,u))u.stopPropagation();else if(v0(r,u),s&4&&-1<j1.indexOf(r)){for(;f!==null;){var m=li(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=ot(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var N=1<<31-sn(E);A.entanglements[1]|=N,E&=~N}$r(m),!(dt&6)&&(eh=rn()+500,Zl(0))}}break;case 13:A=ns(m,2),A!==null&&On(A,m,2),rh(),Kg(m,2)}if(m=Qg(u),m===null&&Vg(r,s,u,yh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Vg(r,s,u,null,o)}}function Qg(r){return r=Za(r),Yg(r)}var yh=null;function Yg(r){if(yh=null,r=_r(r),r!==null){var s=me(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ne(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return yh=r,null}function y0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ga()){case At:return 2;case st:return 8;case vn:case Nr:return 32;case Ki:return 268435456;default:return 32}default:return 32}}var Xg=!1,ys=null,vs=null,_s=null,su=new Map,au=new Map,Es=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(r,s){switch(r){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function ou(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=li(s),s!==null&&p0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function z1(r,s,o,u,f){switch(s){case"focusin":return ys=ou(ys,r,s,o,u,f),!0;case"dragenter":return vs=ou(vs,r,s,o,u,f),!0;case"mouseover":return _s=ou(_s,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return su.set(m,ou(su.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,au.set(m,ou(au.get(m)||null,r,s,o,u,f)),!0}return!1}function _0(r){var s=_r(r.target);if(s!==null){var o=me(s);if(o!==null){if(s=o.tag,s===13){if(s=Ne(o),s!==null){r.blockedOn=s,on(r.priority,function(){if(o.tag===13){var u=Xn(),f=ns(o,u);f!==null&&On(f,o,u),Kg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);rr=u,o.target.dispatchEvent(u),rr=null}else return s=li(o),s!==null&&p0(s),r.blockedOn=o,!1;s.shift()}return!0}function E0(r,s,o){vh(r)&&o.delete(s)}function H1(){Xg=!1,ys!==null&&vh(ys)&&(ys=null),vs!==null&&vh(vs)&&(vs=null),_s!==null&&vh(_s)&&(_s=null),su.forEach(E0),au.forEach(E0)}function _h(r,s){r.blockedOn===s&&(r.blockedOn=null,Xg||(Xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H1)))}var Eh=null;function T0(r){Eh!==r&&(Eh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Yg(u||o)===null)continue;break}var m=li(o);m!==null&&(r.splice(s,3),s-=3,Bd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function lu(r){function s(N){return _h(N,r)}ys!==null&&_h(ys,r),vs!==null&&_h(vs,r),_s!==null&&_h(_s,r),su.forEach(s),au.forEach(s);for(var o=0;o<Es.length;o++){var u=Es[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Es.length&&(o=Es[0],o.blockedOn===null);)_0(o),o.blockedOn===null&&Es.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[jt]||null;if(typeof m=="function")E||T0(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[jt]||null)A=E.formAction;else if(Yg(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),T0(o)}}}function Wg(r){this._internalRoot=r}Th.prototype.render=Wg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Xn();g0(o,u,r,s,null,null)},Th.prototype.unmount=Wg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Io(),g0(r.current,2,null,r,null,null),rh(),s[oi]=null}};function Th(r){this._internalRoot=r}Th.prototype.unstable_scheduleHydration=function(r){if(r){var s=kr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Es.length&&s!==0&&s<Es[o].priority;o++);Es.splice(o,0,r),o===0&&_0(r)}};var b0=e.version;if(b0!=="19.0.0")throw Error(i(527,b0,"19.0.0"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=re(s),r=r!==null?ce(r):null,r=r===null?null:r.stateNode,r};var q1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:_r,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{xr=bh.inject(q1),Qt=bh}catch{}}return cu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=Bv,m=jv,E=zv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=f0(r,1,!1,null,null,o,u,f,m,E,A,null),r[oi]=s.current,kg(r.nodeType===8?r.parentNode:r),new Wg(s)},cu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=Bv,E=jv,A=zv,N=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=f0(r,1,!0,s,o??null,u,f,m,E,A,N,H),s.context=d0(null),o=s.current,u=Xn(),f=us(u),f.callback=null,cs(o,f,u),s.current.lanes=u,Oe(s,u),$r(s),r[oi]=s.current,kg(r),new Th(s)},cu.version="19.0.0",cu}var x0;function J1(){if(x0)return em.exports;x0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),em.exports=Z1(),em.exports}var eR=J1(),hu={},M0;function tR(){if(M0)return hu;M0=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.parse=c,hu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const V=new l,z=b.length;if(z<2)return V;const O=(w==null?void 0:w.decode)||v;let B=0;do{const K=b.indexOf("=",B);if(K===-1)break;const $=b.indexOf(";",B),ie=$===-1?z:$;if(K>ie){B=b.lastIndexOf(";",K-1)+1;continue}const ee=d(b,B,K),ae=g(b,K,ee),M=b.slice(ee,ae);if(V[M]===void 0){let I=d(b,K+1,ie),R=g(b,ie,I);const D=O(b.slice(I,R));V[M]=D}B=ie+1}while(B<z);return V}function d(b,w,V){do{const z=b.charCodeAt(w);if(z!==32&&z!==9)return w}while(++w<V);return V}function g(b,w,V){for(;w>V;){const z=b.charCodeAt(--w);if(z!==32&&z!==9)return w+1}return V}function p(b,w,V){const z=(V==null?void 0:V.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const O=z(w);if(!e.test(O))throw new TypeError(`argument val is invalid: ${w}`);let B=b+"="+O;if(!V)return B;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);B+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);B+="; Domain="+V.domain}if(V.path){if(!i.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);B+="; Path="+V.path}if(V.expires){if(!T(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);B+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(B+="; HttpOnly"),V.secure&&(B+="; Secure"),V.partitioned&&(B+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return B}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return hu}tR();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k0="popstate";function nR(n={}){function e(a,l){let{pathname:c="/",search:d="",hash:g=""}=ja(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Am("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let g=a.location.href,p=g.indexOf("#");d=p===-1?g:g.slice(0,p)}return d+"#"+(typeof l=="string"?l:Nu(l))}function i(a,l){Rr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iR(e,t,i,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rR(){return Math.random().toString(36).substring(2,10)}function V0(n,e){return{usr:n.state,key:n.key,idx:e}}function Am(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:t,key:e&&e.key||i||rR()}}function Nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ja(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function iR(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let O=v(),B=O==null?null:O-p;p=O,g&&g({action:d,location:z.location,delta:B})}function b(O,B){d="PUSH";let K=Am(z.location,O,B);t&&t(K,O),p=v()+1;let $=V0(K,p),ie=z.createHref(K);try{c.pushState($,"",ie)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(ie)}l&&g&&g({action:d,location:z.location,delta:1})}function w(O,B){d="REPLACE";let K=Am(z.location,O,B);t&&t(K,O),p=v();let $=V0(K,p),ie=z.createHref(K);c.replaceState($,"",ie),l&&g&&g({action:d,location:z.location,delta:0})}function V(O){let B=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof O=="string"?O:Nu(O);return K=K.replace(/ $/,"%20"),gt(B,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,B)}let z={get action(){return d},get location(){return n(a,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(k0,T),g=O,()=>{a.removeEventListener(k0,T),g=null}},createHref(O){return e(a,O)},createURL:V,encodeLocation(O){let B=V(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:w,go(O){return c.go(O)}};return z}function VT(n,e,t="/"){return sR(n,e,t,!1)}function sR(n,e,t,i){let a=typeof e=="string"?ja(e):e,l=Ms(a.pathname||"/",t);if(l==null)return null;let c=PT(n);aR(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=yR(l);d=mR(c[g],p,i)}return d}function PT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(gt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=Vi([i,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),PT(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:dR(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let g of LT(l.path))a(l,c,g)}),e}function LT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=LT(i.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&d.push(...c),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function aR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var oR=/^:[\w-]+$/,lR=3,uR=2,cR=1,hR=10,fR=-2,P0=n=>n==="*";function dR(n,e){let t=n.split("/"),i=t.length;return t.some(P0)&&(i+=fR),e&&(i+=uR),t.filter(a=>!P0(a)).reduce((a,l)=>a+(oR.test(l)?lR:l===""?cR:hR),i)}function gR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function mR(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let g=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!T&&p&&t&&!i[i.length-1].route.index&&(T=Qh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Vi([l,T.pathname]),pathnameBase:TR(Vi([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=Vi([l,T.pathnameBase]))}return c}function Qh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=pR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:T},b)=>{if(v==="*"){let V=d[b]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const w=d[b];return T&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function pR(n,e=!1,t=!0){Rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(i.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function yR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ms(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function vR(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ja(n):n;return{pathname:t?t.startsWith("/")?t:_R(t,e):e,search:bR(i),hash:wR(a)}}function _R(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function im(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ER(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UT(n){let e=ER(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function BT(n,e,t,i=!1){let a;typeof n=="string"?a=ja(n):(a={...n},gt(!a.pathname||!a.pathname.includes("?"),im("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),im("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),im("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let g=vR(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),TR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jT=["POST","PUT","PATCH","DELETE"];new Set(jT);var SR=["GET",...jT];new Set(SR);var Zo=C.createContext(null);Zo.displayName="DataRouter";var wf=C.createContext(null);wf.displayName="DataRouterState";var zT=C.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var RR=C.createContext(new Map);RR.displayName="Fetchers";var CR=C.createContext(null);CR.displayName="Await";var ni=C.createContext(null);ni.displayName="Navigation";var qu=C.createContext(null);qu.displayName="Location";var ri=C.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var sp=C.createContext(null);sp.displayName="RouteError";function IR(n,{relative:e}={}){gt(Fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(ni),{hash:a,pathname:l,search:c}=Gu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Vi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Fu(){return C.useContext(qu)!=null}function qs(){return gt(Fu(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(qu).location}var HT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(n){C.useContext(ni).static||C.useLayoutEffect(n)}function za(){let{isDataRoute:n}=C.useContext(ri);return n?zR():DR()}function DR(){gt(Fu(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Zo),{basename:e,navigator:t}=C.useContext(ni),{matches:i}=C.useContext(ri),{pathname:a}=qs(),l=JSON.stringify(UT(i)),c=C.useRef(!1);return qT(()=>{c.current=!0}),C.useCallback((g,p={})=>{if(Rr(c.current,HT),!c.current)return;if(typeof g=="number"){t.go(g);return}let v=BT(g,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Vi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}C.createContext(null);function FT(){let{matches:n}=C.useContext(ri),e=n[n.length-1];return e?e.params:{}}function Gu(n,{relative:e}={}){let{matches:t}=C.useContext(ri),{pathname:i}=qs(),a=JSON.stringify(UT(t));return C.useMemo(()=>BT(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function NR(n,e){return GT(n,e)}function GT(n,e,t,i){var K;gt(Fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=C.useContext(ni),{matches:c}=C.useContext(ri),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";KT(p,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=qs(),w;if(e){let $=typeof e=="string"?ja(e):e;gt(v==="/"||((K=$.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),w=$}else w=b;let V=w.pathname||"/",z=V;if(v!=="/"){let $=v.replace(/^\//,"").split("/");z="/"+V.replace(/^\//,"").split("/").slice($.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:VT(n,{pathname:z});Rr(T||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Rr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=VR(O&&O.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:Vi([v,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Vi([v,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&B?C.createElement(qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},B):B}function OR(){let n=jR(),e=AR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:a},t):null,c)}var xR=C.createElement(OR,null),MR=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(ri.Provider,{value:this.props.routeContext},C.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kR({routeContext:n,match:e,children:t}){let i=C.useContext(Zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(ri.Provider,{value:n},t)}function VR(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let g=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=g),p.route.id){let{loaderData:v,errors:T}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,p,v)=>{let T,b=!1,w=null,V=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||xR,c&&(d<0&&v===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):d===v&&(b=!0,V=p.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,v+1)),O=()=>{let B;return T?B=w:b?B=V:p.route.Component?B=C.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=g,C.createElement(kR,{match:p,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:B})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?C.createElement(MR,{location:t.location,revalidation:t.revalidation,component:w,error:T,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function ap(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PR(n){let e=C.useContext(Zo);return gt(e,ap(n)),e}function LR(n){let e=C.useContext(wf);return gt(e,ap(n)),e}function UR(n){let e=C.useContext(ri);return gt(e,ap(n)),e}function op(n){let e=UR(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BR(){return op("useRouteId")}function jR(){var i;let n=C.useContext(sp),e=LR("useRouteError"),t=op("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function zR(){let{router:n}=PR("useNavigate"),e=op("useNavigate"),t=C.useRef(!1);return qT(()=>{t.current=!0}),C.useCallback(async(a,l={})=>{Rr(t.current,HT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var L0={};function KT(n,e,t){!e&&!L0[n]&&(L0[n]=!0,Rr(!1,t))}C.memo(HR);function HR({routes:n,future:e,state:t}){return GT(n,void 0,t,e)}function Ia(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){gt(!Fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=ja(t));let{pathname:g="/",search:p="",hash:v="",state:T=null,key:b="default"}=t,w=C.useMemo(()=>{let V=Ms(g,c);return V==null?null:{location:{pathname:V,search:p,hash:v,state:T,key:b},navigationType:i}},[c,g,p,v,T,b,i]);return Rr(w!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(ni.Provider,{value:d},C.createElement(qu.Provider,{children:e,value:w}))}function FR({children:n,location:e}){return NR(Sm(n),e)}function Sm(n,e=[]){let t=[];return C.Children.forEach(n,(i,a)=>{if(!C.isValidElement(i))return;let l=[...e,a];if(i.type===C.Fragment){t.push.apply(t,Sm(i.props.children,l));return}gt(i.type===Ia,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Sm(i.props.children,l)),t.push(c)}),t}var kh="get",Vh="application/x-www-form-urlencoded";function Af(n){return n!=null&&typeof n.tagName=="string"}function GR(n){return Af(n)&&n.tagName.toLowerCase()==="button"}function KR(n){return Af(n)&&n.tagName.toLowerCase()==="form"}function $R(n){return Af(n)&&n.tagName.toLowerCase()==="input"}function QR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YR(n,e){return n.button===0&&(!e||e==="_self")&&!QR(n)}var wh=null;function XR(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var WR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(n){return n!=null&&!WR.has(n)?(Rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):n}function ZR(n,e){let t,i,a,l,c;if(KR(n)){let d=n.getAttribute("action");i=d?Ms(d,e):null,t=n.getAttribute("method")||kh,a=sm(n.getAttribute("enctype"))||Vh,l=new FormData(n)}else if(GR(n)||$R(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(i=g?Ms(g,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||kh,a=sm(n.getAttribute("formenctype"))||sm(d.getAttribute("enctype"))||Vh,l=new FormData(d,n),!XR()){let{name:p,type:v,value:T}=n;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(Af(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kh,i=null,a=Vh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function lp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function JR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await JR(l,t);return c.links?c.links():[]}return[]}));return sC(i.flat(1).filter(eC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function U0(n,e,t,i,a,l){let c=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,d=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>c(g,p)||d(g,p)):l==="data"?e.filter((g,p)=>{var T;let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nC(n,e){return rC(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function rC(n){return[...new Set(n)]}function iC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function sC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(iC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function aC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function oC(){let n=C.useContext(Zo);return lp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function lC(){let n=C.useContext(wf);return lp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var up=C.createContext(void 0);up.displayName="FrameworkContext";function $T(){let n=C.useContext(up);return lp(n,"You must render this element inside a <HydratedRouter> element"),n}function uC(n,e){let t=C.useContext(up),[i,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,b=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=B=>{B.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[n]),C.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let w=()=>{a(!0)},V=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:fu(d,w),onBlur:fu(g,V),onMouseEnter:fu(p,w),onMouseLeave:fu(v,V),onTouchStart:fu(T,w)}]:[!1,b,{}]}function fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cC({page:n,...e}){let{router:t}=oC(),i=C.useMemo(()=>VT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?C.createElement(fC,{page:n,matches:i,...e}):null}function hC(n){let{manifest:e,routeModules:t}=$T(),[i,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return tC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function fC({page:n,matches:e,...t}){let i=qs(),{manifest:a,routeModules:l}=$T(),{loaderData:c,matches:d}=lC(),g=C.useMemo(()=>U0(n,e,d,a,i,"data"),[n,e,d,a,i]),p=C.useMemo(()=>U0(n,e,d,a,i,"assets"),[n,e,d,a,i]),v=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,V=!1;if(e.forEach(O=>{var K;let B=a.routes[O.route.id];!B||!B.hasLoader||(!g.some($=>$.route.id===O.route.id)&&O.route.id in c&&((K=l[O.route.id])!=null&&K.shouldRevalidate)||B.hasClientLoader?V=!0:w.add(O.route.id))}),w.size===0)return[];let z=aC(n);return V&&w.size>0&&z.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[z.pathname+z.search]},[c,i,a,g,e,n,l]),T=C.useMemo(()=>nC(p,a),[p,a]),b=hC(p);return C.createElement(C.Fragment,null,v.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),T.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:V})=>C.createElement("link",{key:w,...V})))}function dC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.1.5")}catch{}function gC({basename:n,children:e,window:t}){let i=C.useRef();i.current==null&&(i.current=nR({window:t,v5Compat:!0}));let a=i.current,[l,c]=C.useState({action:a.action,location:a.location}),d=C.useCallback(g=>{C.startTransition(()=>c(g))},[c]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.createElement(qR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:g,to:p,preventScrollReset:v,viewTransition:T,...b},w){let{basename:V}=C.useContext(ni),z=typeof p=="string"&&YT.test(p),O,B=!1;if(typeof p=="string"&&z&&(O=p,QT))try{let R=new URL(window.location.href),D=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=Ms(D.pathname,V);D.origin===R.origin&&P!=null?p=P+D.search+D.hash:B=!0}catch{Rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=IR(p,{relative:a}),[$,ie,ee]=uC(i,b),ae=vC(p,{replace:c,state:d,target:g,preventScrollReset:v,relative:a,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||ae(R)}let I=C.createElement("a",{...b,...ee,href:O||K,onClick:B||l?e:M,ref:dC(w,ie),target:g,"data-discover":!z&&t==="render"?"true":void 0});return $&&!z?C.createElement(C.Fragment,null,I,C.createElement(cC,{page:K})):I});Na.displayName="Link";var mC=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:g,...p},v){let T=Gu(c,{relative:p.relative}),b=qs(),w=C.useContext(wf),{navigator:V,basename:z}=C.useContext(ni),O=w!=null&&wC(T)&&d===!0,B=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,K=b.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(K=K.toLowerCase(),$=$?$.toLowerCase():null,B=B.toLowerCase()),$&&z&&($=Ms($,z)||$);const ie=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=K===B||!a&&K.startsWith(B)&&K.charAt(ie)==="/",ae=$!=null&&($===B||!a&&$.startsWith(B)&&$.charAt(B.length)==="/"),M={isActive:ee,isPending:ae,isTransitioning:O},I=ee?e:void 0,R;typeof i=="function"?R=i(M):R=[i,ee?"active":null,ae?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return C.createElement(Na,{...p,"aria-current":I,className:R,ref:v,style:D,to:c,viewTransition:d},typeof g=="function"?g(M):g)});mC.displayName="NavLink";var pC=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=kh,action:d,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,...b},w)=>{let V=TC(),z=bC(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&YT.test(d),K=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ie=$.nativeEvent.submitter,ee=(ie==null?void 0:ie.getAttribute("formmethod"))||c;V(ie||$.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return C.createElement("form",{ref:w,method:O,action:z,onSubmit:i?g:K,...b,"data-discover":!B&&n==="render"?"true":void 0})});pC.displayName="Form";function yC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(n){let e=C.useContext(Zo);return gt(e,yC(n)),e}function vC(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=za(),g=qs(),p=Gu(n,{relative:l});return C.useCallback(v=>{if(YR(v,e)){v.preventDefault();let T=t!==void 0?t:Nu(g)===Nu(p);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[g,d,p,t,i,e,n,a,l,c])}var _C=0,EC=()=>`__${String(++_C)}__`;function TC(){let{router:n}=XT("useSubmit"),{basename:e}=C.useContext(ni),t=BR();return C.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:g,body:p}=ZR(i,e);if(a.navigate===!1){let v=a.fetcherKey||EC();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function bC(n,{relative:e}={}){let{basename:t}=C.useContext(ni),i=C.useContext(ri);gt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Gu(n||".",{relative:e})},c=qs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Vi([t,l.pathname])),Nu(l)}function wC(n,e={}){let t=C.useContext(zT);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XT("useViewTransitionState"),a=Gu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ms(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ms(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Qh(a.pathname,c)!=null||Qh(a.pathname,l)!=null}new TextEncoder;var gu=kT();const Ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAA61JREFUeF7tmT1uFEEQhbf3AEi2yddC4gBICDl25CMgMjgYZMARiBw7cwiSJWTn/jkBM0iw7NaIrpnX3dVbvTvPoV1T1f2+etU947Dgj6sCwbU6iy8IwLkJCIAAnBVwLk8HEICzAs7l6QACcFbAuTwdQADOCjiXpwMIwFkB5/J0AAE4K+Bcfj8dcPfQR3U7Oo7L+fQY//3qxH3/7gvIakACyJLN7iECsNNyNJMUWo4XbaRoI0gWaWwctT2CCGBHna6VIQAHAEL08KjcXsSy+mPl5iOXjowmGf8s7Gwy7KwQjJIAYKnqBBJAHV3Hsobrm/iLFbAUaARpeZAXt8ova02MIAIAOq1mCAHUVBfITQCASDVDCKCmukBuAgBEsg4Jl1fbm8/RyWT6/tXLaEy4von+Xr0dreK1tDyLp4dN/v78zPzSYp5wUsl1AAH8FYIA/jWE4qRZOKC/u90YJ6xOtyYSo0kdQZdX0XjNiamjjADWShIAOtzBOHkG0AGgaJZhg0NYJJYw+u+voyWXF/fxpQC3Kflg9yV+BGr5D/cWRACWvY3logMauoaG259Rar9+vJkcQf352fYGJW9E0lVKTPft+WR+GXCwI4gAsKlhGiVHEAGYSoslQwCoL1OnL6J/kuNIBgRlNGEr3UbNbgQRQGqLJMTTAc63oAGrT183n6aXfZeAcRjahWX02cH3pcTsNcbOYDwmrqdOOAHU0RXOSgCwVHaBRqLLBWkjqGjR799W/Z9J1eSjGyeAP/IQwJQ9DtUBy4+fNzef7sO7yUZA4rUY5FnJITV+iuHY3yc3XpJ87NnUTSLxBJBACxE0tSsJIAEAIq4UdHDbUUYWARBAsgJuZwAd0NC3oJLRYXWWpOZJbnXlgb1xgHZVTRWuBLaV6M19jCsRhQAy2wIRziom9bxBXgwzt/3fY24jyEpcJA8BRNoFEc4qhgAyASDCITEISCSP1dhp4hCuIUrJYU4AE+2FACOATI+WCFcCRlsukjNzq+3cghDLI0JYxSDrsRK9iTMA2bCVuEgeZD2zA5AqCiJ0ybgjgLUCJd+FCCDznaCkuxEnIfkPygHIhluLIQBn9xAAAdj1wC7HC3IGpMZYKcHP0ZmuIoC1AoiTUrs7NWcJDDcH1BAFEc4qpkT0vfkU0TIkAsic3XRAZuuUfEJoTfTmRhDChAAQlSrGEEBFceecuolrKAHMWQHnvdMBBOCsgHN5OoAAnBVwLk8HEICzAs7l6QACcFbAuTwd4AzgN/CQ1Y5WnAF8AAAAAElFTkSuQmCC";var WT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B0=Ct.createContext&&Ct.createContext(WT),AC=["attr","size","title"];function SC(n,e){if(n==null)return{};var t=RC(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function RC(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yh.apply(this,arguments)}function j0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?j0(Object(t),!0).forEach(function(i){CC(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j0(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function CC(n,e,t){return e=IC(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IC(n){var e=DC(n,"string");return typeof e=="symbol"?e:e+""}function DC(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZT(n){return n&&n.map((e,t)=>Ct.createElement(e.tag,Xh({key:t},e.attr),ZT(e.child)))}function Fs(n){return e=>Ct.createElement(NC,Yh({attr:Xh({},n.attr)},e),ZT(n.child))}function NC(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=SC(n,AC),d=a||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Ct.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:g,style:Xh(Xh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ct.createElement("title",null,l),n.children)};return B0!==void 0?Ct.createElement(B0.Consumer,null,t=>e(t)):e(WT)}function OC(n){return Fs({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(n)}const JT="/Jellio/assets/jellyfishImage-B3gFi67c.png",xC=()=>{};var z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},MC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,g=a+2<n.length,p=g?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,w=p&63;g||(w=64,c||(b=64)),i.push(t[v],t[T],t[b],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new kC;const b=l<<2|d>>4;if(i.push(b),p!==64){const w=d<<4&240|p>>2;if(i.push(w),T!==64){const V=p<<6&192|T;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(n){const e=eb(n);return tb.encodeByteArray(e,!0)},Wh=function(n){return VC(n).replace(/\./g,"")},nb=function(n){try{return tb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>PC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof z0>"u")return;const n=z0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nb(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return xC()||LC()||UC()||BC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rb=n=>{var e,t;return(t=(e=Sf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ib=n=>{const e=rb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},sb=()=>{var n;return(n=Sf())===null||n===void 0?void 0:n.config},ab=n=>{var e;return(e=Sf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wh(JSON.stringify(t)),Wh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function HC(){var n;const e=(n=Sf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){const n=Rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $C(){return!HC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QC(){try{return typeof indexedDB=="object"}catch{return!1}}function YC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="FirebaseError";class ii extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=XC,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ku.prototype.create)}}class Ku{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?WC(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ii(a,d,i)}}function WC(n,e){return n.replace(ZC,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ZC=/\{\$([^}]+)}/g;function JC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(H0(l)&&H0(c)){if(!ks(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function H0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function pu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eI(n,e){const t=new tI(n,e);return t.subscribe.bind(t)}class tI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=am),a.error===void 0&&(a.error=am),a.complete===void 0&&(a.complete=am);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Vs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sI(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(n){return n===Da?void 0:n}function sI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const oI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},lI=Ve.INFO,uI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},cI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=uI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=lI,this._logHandler=cI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const hI=(n,e)=>e.some(t=>n instanceof t);let q0,F0;function fI(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dI(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Rm=new WeakMap,ub=new WeakMap,om=new WeakMap,hp=new WeakMap;function gI(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ds(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lb.set(t,n)}).catch(()=>{}),hp.set(e,n),e}function mI(n){if(Rm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rm.set(n,e)}let Cm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ub.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function pI(n){Cm=n(Cm)}function yI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lm(this),e,...t);return ub.set(i,e.sort?e.sort():[e]),Ds(i)}:dI().includes(n)?function(...e){return n.apply(lm(this),e),Ds(lb.get(this))}:function(...e){return Ds(n.apply(lm(this),e))}}function vI(n){return typeof n=="function"?yI(n):(n instanceof IDBTransaction&&mI(n),hI(n,fI())?new Proxy(n,Cm):n)}function Ds(n){if(n instanceof IDBRequest)return gI(n);if(om.has(n))return om.get(n);const e=vI(n);return e!==n&&(om.set(n,e),hp.set(e,n)),e}const lm=n=>hp.get(n);function _I(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Ds(c);return i&&c.addEventListener("upgradeneeded",g=>{i(Ds(c.result),g.oldVersion,g.newVersion,Ds(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const EI=["get","getKey","getAll","getAllKeys","count"],TI=["put","add","delete","clear"],um=new Map;function G0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=TI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||EI.includes(t)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&g.done]))[0]};return um.set(e,l),l}pI(n=>({...n,get:(e,t,i)=>G0(e,t)||n.get(e,t,i),has:(e,t)=>!!G0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function wI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",K0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new cp("@firebase/app"),AI="@firebase/app-compat",SI="@firebase/analytics-compat",RI="@firebase/analytics",CI="@firebase/app-check-compat",II="@firebase/app-check",DI="@firebase/auth",NI="@firebase/auth-compat",OI="@firebase/database",xI="@firebase/data-connect",MI="@firebase/database-compat",kI="@firebase/functions",VI="@firebase/functions-compat",PI="@firebase/installations",LI="@firebase/installations-compat",UI="@firebase/messaging",BI="@firebase/messaging-compat",jI="@firebase/performance",zI="@firebase/performance-compat",HI="@firebase/remote-config",qI="@firebase/remote-config-compat",FI="@firebase/storage",GI="@firebase/storage-compat",KI="@firebase/firestore",$I="@firebase/vertexai",QI="@firebase/firestore-compat",YI="firebase",XI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",WI={[Im]:"fire-core",[AI]:"fire-core-compat",[RI]:"fire-analytics",[SI]:"fire-analytics-compat",[II]:"fire-app-check",[CI]:"fire-app-check-compat",[DI]:"fire-auth",[NI]:"fire-auth-compat",[OI]:"fire-rtdb",[xI]:"fire-data-connect",[MI]:"fire-rtdb-compat",[kI]:"fire-fn",[VI]:"fire-fn-compat",[PI]:"fire-iid",[LI]:"fire-iid-compat",[UI]:"fire-fcm",[BI]:"fire-fcm-compat",[jI]:"fire-perf",[zI]:"fire-perf-compat",[HI]:"fire-rc",[qI]:"fire-rc-compat",[FI]:"fire-gcs",[GI]:"fire-gcs-compat",[KI]:"fire-fst",[QI]:"fire-fst-compat",[$I]:"fire-vertex","fire-js":"fire-js",[YI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,ZI=new Map,Nm=new Map;function $0(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ka(n){const e=n.name;if(Nm.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,n);for(const t of Zh.values())$0(t,n);for(const t of ZI.values())$0(t,n);return!0}function Rf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Ku("app","Firebase",JI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=XI;function cb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Ns.create("bad-app-name",{appName:String(a)});if(t||(t=sb()),!t)throw Ns.create("no-options");const l=Zh.get(a);if(l){if(ks(t,l.options)&&ks(i,l.config))return l;throw Ns.create("duplicate-app",{appName:a})}const c=new aI(a);for(const g of Nm.values())c.addComponent(g);const d=new e2(t,i,c);return Zh.set(a,d),d}function fp(n=Dm){const e=Zh.get(n);if(!e&&n===Dm&&sb())return cb();if(!e)throw Ns.create("no-app",{appName:n});return e}function Xr(n,e,t){var i;let a=(i=WI[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ka(new Vs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",n2=1,Ou="firebase-heartbeat-store";let cm=null;function hb(){return cm||(cm=_I(t2,n2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),cm}async function r2(n){try{const t=(await hb()).transaction(Ou),i=await t.objectStore(Ou).get(fb(n));return await t.done,i}catch(e){if(e instanceof ii)Ui.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(t.message)}}}async function Q0(n,e){try{const i=(await hb()).transaction(Ou,"readwrite");await i.objectStore(Ou).put(e,fb(n)),await i.done}catch(t){if(t instanceof ii)Ui.warn(t.message);else{const i=Ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ui.warn(i.message)}}}function fb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=1024,s2=30;class a2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new l2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>s2){const c=u2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y0(),{heartbeatsToSend:i,unsentEntries:a}=o2(this._heartbeatsCache.heartbeats),l=Wh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ui.warn(t),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function o2(n,e=i2){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),X0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),X0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QC()?YC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await r2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function X0(n){return Wh(JSON.stringify({version:2,heartbeats:n})).length}function u2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n){ka(new Vs("platform-logger",e=>new bI(e),"PRIVATE")),ka(new Vs("heartbeat",e=>new a2(e),"PRIVATE")),Xr(Im,K0,n),Xr(Im,K0,"esm2017"),Xr("fire-js","")}c2("");function dp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h2=db,gb=new Ku("auth","Firebase",db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new cp("@firebase/auth");function f2(n,...e){Jh.logLevel<=Ve.WARN&&Jh.warn(`Auth (${Ha}): ${n}`,...e)}function Lh(n,...e){Jh.logLevel<=Ve.ERROR&&Jh.error(`Auth (${Ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw mp(n,...e)}function Sr(n,...e){return mp(n,...e)}function gp(n,e,t){const i=Object.assign(Object.assign({},h2()),{[e]:t});return new Ku("auth","Firebase",i).create(e,{appName:n.name})}function Pi(n){return gp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&yr(n,"argument-error"),gp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return gb.create(n,...e)}function be(n,e,...t){if(!n)throw mp(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lh(e),new Error(e)}function Bi(n,e){n||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function g2(){return W0()==="http:"||W0()==="https:"}function W0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||FC()||"connection"in navigator)?navigator.onLine:!0}function p2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=zC()||GC()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Qu(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ks(n,e,t,i,a={}){return pb(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=$u(Object.assign({key:n.config.apiKey},c)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:g},l);return qC()||(p.referrerPolicy="no-referrer"),mb.fetch()(yb(n,n.config.apiHost,t,d),p)})}async function pb(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},y2),e);try{const a=new E2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ah(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ah(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Ah(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw Ah(n,"user-disabled",c);const v=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gp(n,v,p);yr(n,v)}}catch(a){if(a instanceof ii)throw a;yr(n,"network-request-failed",{message:String(a)})}}async function Yu(n,e,t,i,a={}){const l=await Ks(n,e,t,i,a);return"mfaPendingCredential"in l&&yr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function yb(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?pp(n.config,a):`${n.config.apiScheme}://${a}`}function _2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),v2.get())})}}function Ah(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Sr(n,e,i);return a.customData._tokenResponse=t,a}function Z0(n){return n!==void 0&&n.enterprise!==void 0}class T2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b2(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function vb(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A2(n,e=!1){const t=ct(n),i=await t.getIdToken(e),a=yp(i);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Tu(hm(a.auth_time)),issuedAtTime:Tu(hm(a.iat)),expirationTime:Tu(hm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hm(n){return Number(n)*1e3}function yp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const a=nb(t);return a?JSON.parse(a):(Lh("Failed to decode base64 JWT payload"),null)}catch(a){return Lh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function J0(n){const e=yp(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ii&&S2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function S2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(n){var e;const t=n.auth,i=await n.getIdToken(),a=await xu(n,vb(t,{idToken:i}));be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_b(l.providerUserInfo):[],d=I2(n.providerData,c),g=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function C2(n){const e=ct(n);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function _b(n){return n.map(e=>{var{providerId:t}=e,i=dp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(n,e){const t=await pb(n,{},async()=>{const i=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=yb(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mb.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function N2(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=J0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await D2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Uo;return i&&(be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A2(this,e)}reload(){return C2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ef(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await xu(this,w2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,g,p,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,O=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:ie,isAnonymous:ee,providerData:ae,stsTokenManager:M}=t;be($&&M,e,"internal-error");const I=Uo.fromJSON(this.name,M);be(typeof $=="string",e,"internal-error"),bs(T,e.name),bs(b,e.name),be(typeof ie=="boolean",e,"internal-error"),be(typeof ee=="boolean",e,"internal-error"),bs(w,e.name),bs(V,e.name),bs(z,e.name),bs(O,e.name),bs(B,e.name),bs(K,e.name);const R=new Mi({uid:$,auth:e,email:b,emailVerified:ie,displayName:T,isAnonymous:ee,photoURL:V,phoneNumber:w,tenantId:z,stsTokenManager:I,createdAt:B,lastLoginAt:K});return ae&&Array.isArray(ae)&&(R.providerData=ae.map(D=>Object.assign({},D))),O&&(R._redirectEventId=O),R}static async _fromIdTokenResponse(e,t,i=!1){const a=new Uo;a.updateFromServerResponse(t);const l=new Mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ef(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_b(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Uo;d.updateFromIdToken(i);const g=new Mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new xm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function ki(n){Bi(n instanceof Function,"Expected a class definition");let e=eE.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Eb.type="NONE";const tE=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Uh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Uh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bo(ki(tE),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ki(tE);const c=Uh(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){const T=Mi._fromJSON(e,v);p!==l&&(d=T),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Bo(l,e,i):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Bo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rb(e))return"Blackberry";if(Cb(e))return"Webos";if(bb(e))return"Safari";if((e.includes("chrome/")||wb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Tb(n=Rn()){return/firefox\//i.test(n)}function bb(n=Rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wb(n=Rn()){return/crios\//i.test(n)}function Ab(n=Rn()){return/iemobile/i.test(n)}function Sb(n=Rn()){return/android/i.test(n)}function Rb(n=Rn()){return/blackberry/i.test(n)}function Cb(n=Rn()){return/webos/i.test(n)}function vp(n=Rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function O2(n=Rn()){var e;return vp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x2(){return KC()&&document.documentMode===10}function Ib(n=Rn()){return vp(n)||Sb(n)||Cb(n)||Rb(n)||/windows phone/i.test(n)||Ab(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e=[]){let t;switch(n){case"Browser":t=nE(Rn());break;case"Worker":t=`${nE(Rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ha}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const g=e(l);c(g)}catch(g){d(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=6;class P2{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:V2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsNumericCharacter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new M2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vb(this,{idToken:e}),i=await Mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&(g!=null&&g.user)&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Pi(this));const t=e?ct(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k2(this),t=new P2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ku("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await N2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&f2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $s(n){return ct(n)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eI(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U2(n){Cf=n}function Nb(n){return Cf.loadJS(n)}function B2(){return Cf.recaptchaEnterpriseScript}function j2(){return Cf.gapiScript}function z2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class H2{constructor(){this.enterprise=new q2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class q2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const F2="recaptcha-enterprise",Ob="NO_RECAPTCHA";class G2{constructor(e){this.type=F2,this.auth=$s(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{b2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new T2(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(g=>{d(g)})})}function a(l,c,d){const g=window.grecaptcha;Z0(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Ob)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Z0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=B2();g.length!==0&&(g+=d),Nb(g).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function iE(n,e,t,i=!1,a=!1){const l=new G2(n);let c;if(a)c=Ob;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Mm(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await iE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await iE(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n,e){const t=Rf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ks(l,e??{}))return a;yr(a,"already-initialized")}return t.initialize({options:e})}function $2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Q2(n,e,t){const i=$s(n);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=xb(e),{host:c,port:d}=Y2(e),g=d===null?"":`:${d}`,p={url:`${l}//${c}${g}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(ks(p,i.config.emulator)&&ks(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,X2()}function xb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Y2(n){const e=xb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:sE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:sE(c)}}}function sE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function X2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function W2(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(n,e){return Yu(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function eD(n,e){return Yu(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends _p{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Mu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,t,"signInWithPassword",Z2);case"emailLink":return J2(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,i,"signUpPassword",W2);case"emailLink":return eD(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,e){return Yu(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="http://localhost";class Va extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=dp(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Va(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jo(e,t)}buildRequest(){const e={requestUri:tD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rD(n){const e=mu(pu(n)).link,t=e?mu(pu(e)).deep_link_id:null,i=mu(pu(n)).deep_link_id;return(i?mu(pu(i)).link:null)||i||t||e||n}class Ep{constructor(e){var t,i,a,l,c,d;const g=mu(pu(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,v=(i=g.oobCode)!==null&&i!==void 0?i:null,T=nD((a=g.mode)!==null&&a!==void 0?a:null);be(p&&v&&T,"argument-error"),this.apiKey=p,this.operation=T,this.code=v,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=g.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=rD(e);try{return new Ep(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ep.parseLink(t);return be(i,"argument-error"),Mu._fromEmailAndCode(e,i.code,i.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Xu{constructor(){super("facebook.com")}static credential(e){return Va._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Va._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Oi.credential(t,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Xu{constructor(){super("github.com")}static credential(e){return Va._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Xu{constructor(){super("twitter.com")}static credential(e,t){return Va._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Rs.credential(t,i)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return Yu(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Mi._fromIdTokenResponse(e,i,a),c=aE(i);return new Pa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=aE(i);return new Pa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function aE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends ii{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new tf(e,t,i,a)}}function Mb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(n,l,e,i):l})}async function sD(n,e,t=!1){const i=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(n,e,t=!1){const{auth:i}=n;if(Pn(i.app))return Promise.reject(Pi(i));const a="reauthenticate";try{const l=await xu(n,Mb(i,a,e,n),t);be(l.idToken,i,"internal-error");const c=yp(l.idToken);be(c,i,"internal-error");const{sub:d}=c;return be(n.uid===d,i,"user-mismatch"),Pa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&yr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(n,e,t=!1){if(Pn(n.app))return Promise.reject(Pi(n));const i="signIn",a=await Mb(n,i,e),l=await Pa._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function oD(n,e){return kb($s(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(n){const e=$s(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lD(n,e,t){if(Pn(n.app))return Promise.reject(Pi(n));const i=$s(n),c=await Mm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Vb(n),g}),d=await Pa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function uD(n,e,t){return Pn(n.app)?Promise.reject(Pi(n)):oD(ct(n),Jo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Vb(n),i})}function cD(n,e,t,i){return ct(n).onIdTokenChanged(e,t,i)}function hD(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function fD(n,e,t,i){return ct(n).onAuthStateChanged(e,t,i)}function dD(n){return ct(n).signOut()}const nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,mD=10;class Lb extends Pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);x2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lb.type="LOCAL";const pD=Lb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ub.type="SESSION";const Bb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new If(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),g=await yD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const p=bp("",20);a.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function _D(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function ED(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bD(){return jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebaseLocalStorageDb",wD=1,rf="firebaseLocalStorage",Hb="fbase_key";class Wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Df(n,e){return n.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function AD(){const n=indexedDB.deleteDatabase(zb);return new Wu(n).toPromise()}function km(){const n=indexedDB.open(zb,wD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(rf,{keyPath:Hb})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(rf)?e(i):(i.close(),await AD(),e(await km()))})})}async function oE(n,e,t){const i=Df(n,!0).put({[Hb]:e,value:t});return new Wu(i).toPromise()}async function SD(n,e){const t=Df(n,!1).get(e),i=await new Wu(t).toPromise();return i===void 0?null:i.value}function lE(n,e){const t=Df(n,!0).delete(e);return new Wu(t).toPromise()}const RD=800,CD=3;class qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>CD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(bD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await oE(e,nf,"1"),await lE(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>oE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Df(a,!1).getAll();return new Wu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qb.type="LOCAL";const ID=qb;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n,e){return e?ki(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DD(n){return kb(n.auth,new wp(n),n.bypassAuthState)}function ND(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),aD(t,new wp(n),n.bypassAuthState)}async function OD(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),sD(t,new wp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DD;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:yr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Qu(2e3,1e4);async function MD(n,e,t){if(Pn(n.app))return Promise.reject(Sr(n,"operation-not-supported-in-this-environment"));const i=$s(n);d2(n,e,Tp);const a=Fb(i,t);return new Oa(i,"signInViaPopup",e,a).executeNotNull()}class Oa extends Gb{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xD.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="pendingRedirect",Bh=new Map;class VD extends Gb{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const i=await PD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PD(n,e){const t=BD(e),i=UD(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function LD(n,e){Bh.set(n._key(),e)}function UD(n){return ki(n._redirectPersistence)}function BD(n){return Uh(kD,n.config.apiKey,n.name)}async function jD(n,e,t=!1){if(Pn(n.app))return Promise.reject(Pi(n));const i=$s(n),a=Fb(i,e),c=await new VD(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Kb(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Kb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e={}){return Ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function $D(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FD(n);for(const t of e)try{if(QD(t))return}catch{}yr(n,"unauthorized-domain")}function QD(n){const e=Om(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!KD.test(t))return!1;if(GD.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new Qu(3e4,6e4);function cE(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XD(n){return new Promise((e,t)=>{var i,a,l;function c(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),t(Sr(n,"network-request-failed"))},timeout:YD.get()})}if(!((a=(i=Wr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Wr().gapi)===null||l===void 0)&&l.load)c();else{const d=z2("iframefcb");return Wr()[d]=()=>{gapi.load?c():t(Sr(n,"network-request-failed"))},Nb(`${j2()}?onload=${d}`).catch(g=>t(g))}}).catch(e=>{throw jh=null,e})}let jh=null;function WD(n){return jh=jh||XD(n),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Qu(5e3,15e3),JD="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rN(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pp(e,eN):`https://${n.config.authDomain}/${JD}`,i={apiKey:e.apiKey,appName:n.name,v:Ha},a=nN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${$u(i).slice(1)}`}async function iN(n){const e=await WD(n),t=Wr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:rN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Sr(n,"network-request-failed"),d=Wr().setTimeout(()=>{l(c)},ZD.get());function g(){Wr().clearTimeout(d),a(i)}i.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aN=500,oN=600,lN="_blank",uN="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cN(n,e,t,i=aN,a=oN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const g=Object.assign(Object.assign({},sN),{width:i.toString(),height:a.toString(),top:l,left:c}),p=Rn().toLowerCase();t&&(d=wb(p)?lN:t),Tb(p)&&(e=e||uN,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[w,V])=>`${b}${w}=${V},`,"");if(O2(p)&&d!=="_self")return hN(e||"",d),new hE(null);const T=window.open(e||"",d,v);be(T,n,"popup-blocked");try{T.focus()}catch{}return new hE(T)}function hN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="__/auth/handler",dN="emulator/auth/handler",gN=encodeURIComponent("fac");async function fE(n,e,t,i,a,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ha,eventId:a};if(e instanceof Tp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",JC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Xu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const g=await n._getAppCheckToken(),p=g?`#${gN}=${encodeURIComponent(g)}`:"";return`${mN(n)}?${$u(d).slice(1)}${p}`}function mN({config:n}){return n.emulator?pp(n,dN):`https://${n.authDomain}/${fN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class pN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=jD,this._overrideRedirectResult=LD}async _openPopup(e,t,i,a){var l;Bi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await fE(e,t,i,Om(),a);return cN(e,c,bp())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await fE(e,t,i,Om(),a);return _D(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await iN(e),i=new HD(e);return t.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fm,{type:fm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[fm];c!==void 0&&t(!!c),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$D(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ib()||bb()||vp()}}const yN=pN;var dE="@firebase/auth",gE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EN(n){ka(new Vs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Db(n)},p=new L2(i,a,l,g);return $2(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ka(new Vs("auth-internal",e=>{const t=$s(e.getProvider("auth").getImmediate());return(i=>new vN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(dE,gE,_N(n)),Xr(dE,gE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=5*60,bN=ab("authIdTokenMaxAge")||TN;let mE=null;const wN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>bN)return;const a=t==null?void 0:t.token;mE!==a&&(mE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AN(n=fp()){const e=Rf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=K2(n,{popupRedirectResolver:yN,persistence:[ID,pD,Bb]}),i=ab("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=wN(l.toString());hD(t,c,()=>c(t.currentUser)),cD(t,d=>c(d))}}const a=rb("auth");return a&&Q2(t,`http://${a}`),t}function SN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}U2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Sr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",SN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EN("Browser");var RN="firebase",CN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(RN,CN,"app");var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,$b;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function R(){}R.prototype=I.prototype,M.D=I.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(D,P,U){for(var x=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)x[Qe-2]=arguments[Qe];return I.prototype[P].apply(D,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)D[P]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(P=0;16>P;++P)D[P]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=M.g[0],R=M.g[1],P=M.g[2];var U=M.g[3],x=I+(U^R&(P^U))+D[0]+3614090360&4294967295;I=R+(x<<7&4294967295|x>>>25),x=U+(P^I&(R^P))+D[1]+3905402710&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(R^U&(I^R))+D[2]+606105819&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(I^P&(U^I))+D[3]+3250441966&4294967295,R=P+(x<<22&4294967295|x>>>10),x=I+(U^R&(P^U))+D[4]+4118548399&4294967295,I=R+(x<<7&4294967295|x>>>25),x=U+(P^I&(R^P))+D[5]+1200080426&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(R^U&(I^R))+D[6]+2821735955&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(I^P&(U^I))+D[7]+4249261313&4294967295,R=P+(x<<22&4294967295|x>>>10),x=I+(U^R&(P^U))+D[8]+1770035416&4294967295,I=R+(x<<7&4294967295|x>>>25),x=U+(P^I&(R^P))+D[9]+2336552879&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(R^U&(I^R))+D[10]+4294925233&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(I^P&(U^I))+D[11]+2304563134&4294967295,R=P+(x<<22&4294967295|x>>>10),x=I+(U^R&(P^U))+D[12]+1804603682&4294967295,I=R+(x<<7&4294967295|x>>>25),x=U+(P^I&(R^P))+D[13]+4254626195&4294967295,U=I+(x<<12&4294967295|x>>>20),x=P+(R^U&(I^R))+D[14]+2792965006&4294967295,P=U+(x<<17&4294967295|x>>>15),x=R+(I^P&(U^I))+D[15]+1236535329&4294967295,R=P+(x<<22&4294967295|x>>>10),x=I+(P^U&(R^P))+D[1]+4129170786&4294967295,I=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(I^R))+D[6]+3225465664&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^R&(U^I))+D[11]+643717713&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^I&(P^U))+D[0]+3921069994&4294967295,R=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(R^P))+D[5]+3593408605&4294967295,I=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(I^R))+D[10]+38016083&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^R&(U^I))+D[15]+3634488961&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^I&(P^U))+D[4]+3889429448&4294967295,R=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(R^P))+D[9]+568446438&4294967295,I=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(I^R))+D[14]+3275163606&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^R&(U^I))+D[3]+4107603335&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^I&(P^U))+D[8]+1163531501&4294967295,R=P+(x<<20&4294967295|x>>>12),x=I+(P^U&(R^P))+D[13]+2850285829&4294967295,I=R+(x<<5&4294967295|x>>>27),x=U+(R^P&(I^R))+D[2]+4243563512&4294967295,U=I+(x<<9&4294967295|x>>>23),x=P+(I^R&(U^I))+D[7]+1735328473&4294967295,P=U+(x<<14&4294967295|x>>>18),x=R+(U^I&(P^U))+D[12]+2368359562&4294967295,R=P+(x<<20&4294967295|x>>>12),x=I+(R^P^U)+D[5]+4294588738&4294967295,I=R+(x<<4&4294967295|x>>>28),x=U+(I^R^P)+D[8]+2272392833&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^R)+D[11]+1839030562&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^I)+D[14]+4259657740&4294967295,R=P+(x<<23&4294967295|x>>>9),x=I+(R^P^U)+D[1]+2763975236&4294967295,I=R+(x<<4&4294967295|x>>>28),x=U+(I^R^P)+D[4]+1272893353&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^R)+D[7]+4139469664&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^I)+D[10]+3200236656&4294967295,R=P+(x<<23&4294967295|x>>>9),x=I+(R^P^U)+D[13]+681279174&4294967295,I=R+(x<<4&4294967295|x>>>28),x=U+(I^R^P)+D[0]+3936430074&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^R)+D[3]+3572445317&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^I)+D[6]+76029189&4294967295,R=P+(x<<23&4294967295|x>>>9),x=I+(R^P^U)+D[9]+3654602809&4294967295,I=R+(x<<4&4294967295|x>>>28),x=U+(I^R^P)+D[12]+3873151461&4294967295,U=I+(x<<11&4294967295|x>>>21),x=P+(U^I^R)+D[15]+530742520&4294967295,P=U+(x<<16&4294967295|x>>>16),x=R+(P^U^I)+D[2]+3299628645&4294967295,R=P+(x<<23&4294967295|x>>>9),x=I+(P^(R|~U))+D[0]+4096336452&4294967295,I=R+(x<<6&4294967295|x>>>26),x=U+(R^(I|~P))+D[7]+1126891415&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~R))+D[14]+2878612391&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~I))+D[5]+4237533241&4294967295,R=P+(x<<21&4294967295|x>>>11),x=I+(P^(R|~U))+D[12]+1700485571&4294967295,I=R+(x<<6&4294967295|x>>>26),x=U+(R^(I|~P))+D[3]+2399980690&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~R))+D[10]+4293915773&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~I))+D[1]+2240044497&4294967295,R=P+(x<<21&4294967295|x>>>11),x=I+(P^(R|~U))+D[8]+1873313359&4294967295,I=R+(x<<6&4294967295|x>>>26),x=U+(R^(I|~P))+D[15]+4264355552&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~R))+D[6]+2734768916&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~I))+D[13]+1309151649&4294967295,R=P+(x<<21&4294967295|x>>>11),x=I+(P^(R|~U))+D[4]+4149444226&4294967295,I=R+(x<<6&4294967295|x>>>26),x=U+(R^(I|~P))+D[11]+3174756917&4294967295,U=I+(x<<10&4294967295|x>>>22),x=P+(I^(U|~R))+D[2]+718787259&4294967295,P=U+(x<<15&4294967295|x>>>17),x=R+(U^(P|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+U&4294967295}i.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var R=I-this.blockSize,D=this.B,P=this.h,U=0;U<I;){if(P==0)for(;U<=R;)a(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<I;)if(D[P++]=M.charCodeAt(U++),P==this.blockSize){a(this,D),P=0;break}}else for(;U<I;)if(D[P++]=M[U++],P==this.blockSize){a(this,D),P=0;break}}this.h=P,this.o+=I},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var R=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=R&255,R/=256;for(this.u(M),M=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)M[R++]=this.g[I]>>>D&255;return M};function l(M,I){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=I(M)}function c(M,I){this.h=I;for(var R=[],D=!0,P=M.length-1;0<=P;P--){var U=M[P]|0;D&&U==I||(R[P]=U,D=!1)}this.g=R}var d={};function g(M){return-128<=M&&128>M?l(M,function(I){return new c([I|0],0>I?-1:0)}):new c([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return O(p(-M));for(var I=[],R=1,D=0;M>=R;D++)I[D]=M/R|0,R*=4294967296;return new c(I,0)}function v(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return O(v(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(I,8)),D=T,P=0;P<M.length;P+=8){var U=Math.min(8,M.length-P),x=parseInt(M.substring(P,P+U),I);8>U?(U=p(Math.pow(I,U)),D=D.j(U).add(p(x))):(D=D.j(R),D=D.add(p(x)))}return D}var T=g(0),b=g(1),w=g(16777216);n=c.prototype,n.m=function(){if(z(this))return-O(this).m();for(var M=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(z(this))return"-"+O(this).toString(M);for(var I=p(Math.pow(M,6)),R=this,D="";;){var P=ie(R,I).g;R=B(R,P.j(I));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,V(R))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function z(M){return M.h==-1}n.l=function(M){return M=B(this,M),z(M)?-1:V(M)?0:1};function O(M){for(var I=M.g.length,R=[],D=0;D<I;D++)R[D]=~M.g[D];return new c(R,~M.h).add(b)}n.abs=function(){return z(this)?O(this):this},n.add=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0,P=0;P<=I;P++){var U=D+(this.i(P)&65535)+(M.i(P)&65535),x=(U>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);D=x>>>16,U&=65535,x&=65535,R[P]=x<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function B(M,I){return M.add(O(I))}n.j=function(M){if(V(this)||V(M))return T;if(z(this))return z(M)?O(this).j(O(M)):O(O(this).j(M));if(z(M))return O(this.j(O(M)));if(0>this.l(w)&&0>M.l(w))return p(this.m()*M.m());for(var I=this.g.length+M.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<M.g.length;P++){var U=this.i(D)>>>16,x=this.i(D)&65535,Qe=M.i(P)>>>16,et=M.i(P)&65535;R[2*D+2*P]+=x*et,K(R,2*D+2*P),R[2*D+2*P+1]+=U*et,K(R,2*D+2*P+1),R[2*D+2*P+1]+=x*Qe,K(R,2*D+2*P+1),R[2*D+2*P+2]+=U*Qe,K(R,2*D+2*P+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new c(R,0)};function K(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function $(M,I){this.g=M,this.h=I}function ie(M,I){if(V(I))throw Error("division by zero");if(V(M))return new $(T,T);if(z(M))return I=ie(O(M),I),new $(O(I.g),O(I.h));if(z(I))return I=ie(M,O(I)),new $(O(I.g),I.h);if(30<M.g.length){if(z(M)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var R=b,D=I;0>=D.l(M);)R=ee(R),D=ee(D);var P=ae(R,1),U=ae(D,1);for(D=ae(D,2),R=ae(R,2);!V(D);){var x=U.add(D);0>=x.l(M)&&(P=P.add(R),U=x),D=ae(D,1),R=ae(R,1)}return I=B(M,P.j(I)),new $(P,I)}for(P=T;0<=M.l(I);){for(R=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=p(R),x=U.j(I);z(x)||0<x.l(M);)R-=D,U=p(R),x=U.j(I);V(U)&&(U=b),P=P.add(U),M=B(M,x)}return new $(P,M)}n.A=function(M){return ie(this,M).h},n.and=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&M.i(D);return new c(R,this.h&M.h)},n.or=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|M.i(D);return new c(R,this.h|M.h)},n.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^M.i(D);return new c(R,this.h^M.h)};function ee(M){for(var I=M.g.length+1,R=[],D=0;D<I;D++)R[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(R,M.h)}function ae(M,I){var R=I>>5;I%=32;for(var D=M.g.length-R,P=[],U=0;U<D;U++)P[U]=0<I?M.i(U+R)>>>I|M.i(U+R+1)<<32-I:M.i(U+R);return new c(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$b=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Os=c}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qb,yu,Yb,zh,Vm,Xb,Wb,Zb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in _))break e;_=_[F]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,F={next:function(){if(!S&&_<h.length){var Y=_++;return{value:y(Y,h[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function b(h,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function w(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function V(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,F,Y){for(var se=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)se[Be-2]=arguments[Be];return y.prototype[F].apply(S,se)}}function z(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function O(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const F=h.length||0,Y=S.length||0;h.length=F+Y;for(let se=0;se<Y;se++)h[F+se]=S[se]}else h.push(S)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ie(h){return ie[" "](h),h}ie[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ae(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function M(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function I(h){const y={};for(const _ in h)y[_]=h[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)h[_]=S[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function U(h){d.setTimeout(()=>{throw h},0)}function x(){var h=Ne;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,_){const S=et.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new B(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,Ne=new Qe,L=()=>{const h=d.Promise.resolve(void 0);ge=()=>{h.then(re)}};var re=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(_){U(_)}var y=et;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Ae(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ee){e:{try{ie(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}V(Ae,le);var _e={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function qe(h,y,_,S,F){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++Ie,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function wt(h){this.src=h,this.g={},this.h=0}wt.prototype.add=function(h,y,_,S,F){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var se=Vt(h,y,S,F);return-1<se?(y=h[se],_||(y.fa=!1)):(y=new qe(y,this.src,Y,!!S,F),y.fa=_,h.push(y)),y};function Dt(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],F=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(S,F,1),Y&&(ye(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Vt(h,y,_,S){for(var F=0;F<h.length;++F){var Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==S)return F}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),Cn={};function pn(h,y,_,S,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)pn(h,y[Y],_,S,F);return null}return _=Ga(_),h&&h[it]?h.K(y,_,p(S)?!!S.capture:!1,F):qi(h,y,_,!1,S,F)}function qi(h,y,_,S,F,Y){if(!y)throw Error("Invalid event type");var se=p(F)?!!F.capture:!!F,Be=Gi(h);if(Be||(h[$t]=Be=new wt(h)),_=Be.add(y,_,S,se,Y),_.proxy)return _;if(S=si(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)ue||(F=se),F===void 0&&(F=!1),h.addEventListener(y.toString(),S,F);else if(h.attachEvent)h.attachEvent(vr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function si(){function h(_){return y.call(h.src,h.listener,_)}const y=Fi;return h}function Dr(h,y,_,S,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Dr(h,y[Y],_,S,F);else S=p(S)?!!S.capture:!!S,_=Ga(_),h&&h[it]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],_=Vt(Y,_,S,F),-1<_&&(ye(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=Gi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Vt(y,_,S,F)),(_=-1<h?y[h]:null)&&yn(_))}function yn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])Dt(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(vr(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Gi(y))?(Dt(_,h),_.h==0&&(_.src=null,y[$t]=null)):ye(h)}}}function vr(h){return h in Cn?Cn[h]:Cn[h]="on"+h}function Fi(h,y){if(h.da)h=!0;else{y=new Ae(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&yn(h),h=_.call(S,y)}return h}function Gi(h){return h=h[$t],h instanceof wt?h:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(h){return typeof h=="function"?h:(h[rn]||(h[rn]=function(y){return h.handleEvent(y)}),h[rn])}function At(){ce.call(this),this.i=new wt(this),this.M=this,this.F=null}V(At,ce),At.prototype[it]=!0,At.prototype.removeEventListener=function(h,y,_,S){Dr(this,h,y,_,S)};function st(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var F=y;y=new le(S,h),D(y,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var se=y.g=_[Y];F=vn(se,S,!0,y)&&F}if(se=y.g=h,F=vn(se,S,!0,y)&&F,F=vn(se,S,!1,y)&&F,_)for(Y=0;Y<_.length;Y++)se=y.g=_[Y],F=vn(se,S,!1,y)&&F}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)ye(_[S]);delete h.g[y],h.h--}}this.F=null},At.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},At.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function vn(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==_){var Be=se.listener,zt=se.ha||se.src;se.fa&&Dt(h.i,se),F=Be.call(zt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Nr(h,y,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Ki(h){h.g=Nr(()=>{h.g=null,h.i&&(h.i=!1,Ki(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Jn extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ki(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){ce.call(this),this.h=h,this.g={}}V(Or,ce);var xr=[];function Qt(h){ae(h.g,function(y,_){this.g.hasOwnProperty(_)&&yn(y)},h),h.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Qt(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=d.JSON.stringify,zn=d.JSON.parse,sn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function $i(){}$i.prototype.h=null;function Ka(h){return h.h||(h.h=h.i())}function $a(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){le.call(this,"d")}V(at,le);function ot(){le.call(this,"c")}V(ot,le);var tt={},an=null;function Pt(){return an=an||new At}tt.La="serverreachability";function Lt(h){le.call(this,tt.La,h)}V(Lt,le);function Ut(h){const y=Pt();st(y,new Lt(y))}tt.STAT_EVENT="statevent";function Hn(h,y){le.call(this,tt.STAT_EVENT,h),this.stat=y}V(Hn,le);function Oe(h){const y=Pt();st(y,new Hn(y,h))}tt.Ma="timingevent";function qn(h,y){le.call(this,tt.Ma,h),this.size=y}V(qn,le);function Bt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function Mr(h,y,_,S,F,Y){h.info(function(){if(h.g)if(Y)for(var se="",Be=Y.split("&"),zt=0;zt<Be.length;zt++){var je=Be[zt].split("=");if(1<je.length){var Wt=je[0];je=je[1];var Ht=Wt.split("_");se=2<=Ht.length&&Ht[1]=="type"?se+(Wt+"="+je+"&"):se+(Wt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+se})}function kr(h,y,_,S,F,Y,se){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+Y+" "+se})}function on(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+pt(h,_)+(S?" "+S:"")})}function _n(h,y){h.info(function(){return"TIMEOUT: "+y})}Yt.prototype.info=function(){};function pt(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<F.length;se++)F[se]=""}}}}return ai(_)}catch{return y}}var jt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zs;function Qa(){}V(Qa,$i),Qa.prototype.g=function(){return new XMLHttpRequest},Qa.prototype.i=function(){return{}},Zs=new Qa;function Vr(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cl}function cl(){this.i=null,this.g="",this.h=!1}var Qi={},Js={};function _r(h,y,_){h.L=1,h.v=na(yt(y)),h.m=_,h.P=!0,li(h,null)}function li(h,y){h.F=Date.now(),ht(h),h.A=yt(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),hi(_.i,"t",S),h.C=0,_=h.j.J,h.h=new cl,h.g=bc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Jn(b(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(xr[0]=F.toString()),F=xr);for(var Y=0;Y<F.length;Y++){var se=pn(_,F[Y],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ut(),Mr(h.i,h.u,h.A,h.l,h.R,h.m)}Vr.prototype.ca=function(h){h=h.target;const y=this.M;y&&sr(h)==3?y.j():this.Y(h)},Vr.prototype.Y=function(h){try{if(h==this.g)e:{const Ht=sr(this.g);var y=this.g.Ba();const mi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=mi?Ut(3):Ut(2)),Ya(this);var _=this.g.Z();this.X=_;t:if(Yi(this)){var S=gc(this.g);h="";var F=S.length,Y=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Fn(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Y&&y==F-1)});S.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,kr(this.i,this.u,this.A,this.l,this.R,Ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,zt=this.g;if((Be=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Be)){var je=Be;break t}}je=null}if(_=je)on(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gn(this,_);else{this.o=!1,this.s=3,Oe(12),Mn(this),Fn(this);break e}}if(this.P){_=!0;let ln;for(;!this.J&&this.C<se.length;)if(ln=Xi(this,se),ln==Js){Ht==4&&(this.s=4,Oe(14),_=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Qi){this.s=4,Oe(15),on(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else on(this.i,this.l,ln,null),Gn(this,ln);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||se.length!=0||this.h.h||(this.s=1,Oe(16),_=!1),this.o=this.o&&_,!_)on(this.i,this.l,se,"[Invalid Chunked Response]"),Mn(this),Fn(this);else if(0<se.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ua(Wt),Wt.M=!0,Oe(11))}}else on(this.i,this.l,se,null),Gn(this,se);Ht==4&&Mn(this),this.o&&!this.J&&(Ht==4?_c(this.j,this):(this.o=!1,ht(this)))}else od(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),Mn(this),Fn(this)}}}catch{}finally{}};function Yi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Xi(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?Js:(_=Number(y.substring(_,S)),isNaN(_)?Qi:(S+=1,S+_>y.length?Js:(y=y.slice(S,S+_),h.C=S+_,y)))}Vr.prototype.cancel=function(){this.J=!0,Mn(this)};function ht(h){h.S=Date.now()+h.I,hl(h,h.I)}function hl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Bt(b(h.ba,h),y)}function Ya(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(_n(this.i,this.A),this.L!=2&&(Ut(),Oe(17)),Mn(this),this.s=2,Fn(this)):hl(this,this.S-h)};function Fn(h){h.j.G==0||h.J||_c(h.j,h)}function Mn(h){Ya(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Qt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Gn(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Wi(_.h,h))){if(!h.K&&Wi(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)so(_),ro(_);else break e;bl(_),Oe(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Bt(b(_.Za,_),6e3));if(1>=uc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else gi(_,11)}else if((h.K||_.g==h)&&so(_),!K(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let je=F[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Wt=je[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const Ht=je[4];Ht!=null&&(_.Aa=Ht,_.j.info("SVER="+_.Aa));const mi=je[5];mi!=null&&typeof mi=="number"&&0<mi&&(S=1.5*mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ln=h.g;if(ln){const Hr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Y=S.h;Y.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Zi(Y,Y.h),Y.h=null))}if(S.D){const Al=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(S.ya=Al,Fe(S.I,S.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=h;if(S.qa=Tc(S,S.J?S.ia:null,S.W),se.K){tr(S.h,se);var Be=se,zt=S.L;zt&&(Be.I=zt),Be.B&&(Ya(Be),ht(Be)),S.g=se}else yc(S);0<_.i.length&&io(_)}else je[0]!="stop"&&je[0]!="close"||gi(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?gi(_,7):El(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Ut(4)}catch{}}var nd=class{constructor(h,y){this.g=h,this.map=y}};function fl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function uc(h){return h.h?1:h.g?h.g.size:0}function Wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Zi(h,y){h.g?h.g.add(y):h.h=y}function tr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}fl.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function In(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return z(h.i)}function cc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function rd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ea(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=rd(h),S=cc(h),F=S.length,Y=0;Y<F;Y++)y.call(void 0,S[Y],_&&_[Y],h)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),F=null;if(0<=S){var Y=h[_].substring(0,S);F=h[_].substring(S+1)}else Y=h[_];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ui(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ui){this.h=h.h,Ji(this,h.j),this.o=h.o,this.g=h.g,ta(this,h.s),this.l=h.l;var y=h.i,_=new Pr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Wa(this,_),this.m=h.m}else h&&(y=String(h).match(gl))?(this.h=!1,Ji(this,y[1]||"",!0),this.o=es(y[2]||""),this.g=es(y[3]||"",!0),ta(this,y[4]),this.l=es(y[5]||"",!0),Wa(this,y[6]||"",!0),this.m=es(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}ui.prototype.toString=function(){var h=[],y=this.j;y&&h.push(nr(y,ml,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(nr(y,ml,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(nr(_,_.charAt(0)=="/"?pl:hc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",nr(_,ad)),h.join("")};function yt(h){return new ui(h)}function Ji(h,y,_){h.j=_?es(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ta(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Wa(h,y,_){y instanceof Pr?(h.i=y,yl(h.i,h.h)):(_||(y=nr(y,sd)),h.i=new Pr(y,h.h))}function Fe(h,y,_){h.i.set(y,_)}function na(h){return Fe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function es(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function nr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,id),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function id(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,hc=/[#\?:]/g,pl=/[#\?]/g,sd=/[#\?@]/g,ad=/#/g;function Pr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function rr(h){h.g||(h.g=new Map,h.h=0,h.i&&Xa(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Pr.prototype,n.add=function(h,y){rr(this),this.i=null,h=fi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Za(h,y){rr(h),y=fi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ci(h,y){return rr(h),y=fi(h,y),h.g.has(y)}n.forEach=function(h,y){rr(this),this.g.forEach(function(_,S){_.forEach(function(F){h.call(y,F,S,this)},this)},this)},n.na=function(){rr(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=h[S];for(let Y=0;Y<F.length;Y++)_.push(y[S])}return _},n.V=function(h){rr(this);let y=[];if(typeof h=="string")ci(this,h)&&(y=y.concat(this.g.get(fi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return rr(this),this.i=null,h=fi(this,h),ci(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function hi(h,y,_){Za(h,y),0<_.length&&(h.i=null,h.g.set(fi(h,y),z(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Y=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var F=Y;se[S]!==""&&(F+="="+encodeURIComponent(String(se[S]))),h.push(F)}}return this.i=h.join("&")};function fi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function yl(h,y){y&&!h.j&&(rr(h),h.i=null,h.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Za(this,S),hi(this,F,_))},h)),h.j=y}function fc(h,y){const _=new Yt;if(d.Image){const S=new Image;S.onload=w(ir,_,"TestLoadImage: loaded",!0,y,S),S.onerror=w(ir,_,"TestLoadImage: error",!1,y,S),S.onabort=w(ir,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=w(ir,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function ra(h,y){const _=new Yt,S=new AbortController,F=setTimeout(()=>{S.abort(),ir(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?ir(_,"TestPingServer: ok",!0,y):ir(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),ir(_,"TestPingServer: error",!1,y)})}function ir(h,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function ia(){this.g=new sn}function Lr(h,y,_){const S=_||"";try{ea(h,function(F,Y){let se=F;p(F)&&(se=ai(F)),y.push(S+Y+"="+encodeURIComponent(se))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function ts(h){this.l=h.Ub||null,this.j=h.eb||!1}V(ts,$i),ts.prototype.g=function(){return new di(this.l,this.j)},ts.prototype.i=function(h){return function(){return h}}({});function di(h,y){At.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(di,At),n=di.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Br(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):Br(this),this.readyState==3&&vl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},n.Qa=function(h){this.g&&(this.response=h,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Br(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Br(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _l(h){let y="";return ae(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Xt(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=_l(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Fe(h,y,_))}function Ye(h){At.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ye,At);var Ja=/^https?$/i,sa=["POST","PUT"];n=Ye.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zs.g(),this.v=this.o?Ka(this.o):Ka(Zs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){dc(this,Y);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(sa,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of _)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){dc(this,Y)}};function dc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,eo(h),jr(h)}function eo(h){h.A||(h.A=!0,st(h,"complete"),st(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,st(this,"complete"),st(this,"abort"),jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},n.bb=function(){to(this)};function to(h){if(h.h&&typeof c<"u"&&(!h.v[1]||sr(h)!=4||h.Z()!=2)){if(h.u&&sr(h)==4)Nr(h.Ea,0,h);else if(st(h,"readystatechange"),sr(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var F=String(h.D).match(gl)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Ja.test(F?F.toLowerCase():"")}_=S}if(_)st(h,"complete"),st(h,"success");else{h.m=6;try{var Y=2<sr(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",eo(h)}}finally{jr(h)}}}}function jr(h,y){if(h.g){aa(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||st(h,"ready");try{_.onreadystatechange=S}catch{}}}function aa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function sr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),zn(y)}};function gc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function od(h){const y={};h=(h.g&&2<=sr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(K(h[S]))continue;var _=P(h[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[F]||[];y[F]=Y,Y.push(_)}M(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function no(h){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,h),this.cb=oa("retryDelaySeedMs",1e4,h),this.Wa=oa("forwardChannelMaxRetries",2,h),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new fl(h&&h.concurrentRequestLimit),this.Da=new ia,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=no.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){Oe(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Tc(this,null,this.W),io(this)};function El(h){if(mc(h),h.G==3){var y=h.U++,_=yt(h.I);if(Fe(_,"SID",h.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),la(h,_),y=new Vr(h,h.j,y),y.L=2,y.v=na(yt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}Ec(h)}function ro(h){h.g&&(ua(h),h.g.cancel(),h.g=null)}function mc(h){ro(h),h.u&&(d.clearTimeout(h.u),h.u=null),so(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function io(h){if(!dl(h.h)&&!h.s){h.s=!0;var y=h.Ga;ge||L(),me||(ge(),me=!0),Ne.add(y,h),h.B=0}}function ld(h,y){return uc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Bt(b(h.Ga,h,y),wl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Vr(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=I(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=pc(this,F,y),_=yt(this.I),Fe(_,"RID",h),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),la(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(_l(Y)))+"&"+y:this.m&&Xt(_,this.m,Y)),Zi(this.h,F),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),F.T=!0,_r(F,_,null)):_r(F,_,y),this.G=2}}else this.G==3&&(h?Tl(this,h):this.i.length==0||dl(this.h)||Tl(this))};function Tl(h,y){var _;y?_=y.l:_=h.U++;const S=yt(h.I);Fe(S,"SID",h.K),Fe(S,"RID",_),Fe(S,"AID",h.T),la(h,S),h.m&&h.o&&Xt(S,h.m,h.o),_=new Vr(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=pc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Zi(h.h,_),_r(_,S,y)}function la(h,y){h.H&&ae(h.H,function(_,S){Fe(y,S,_)}),h.l&&ea({},function(_,S){Fe(y,S,_)})}function pc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?b(h.l.Na,h.l,h):null;e:{var F=h.i;let Y=-1;for(;;){const se=["count="+_];Y==-1?0<_?(Y=F[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Be=!0;for(let zt=0;zt<_;zt++){let je=F[zt].g;const Wt=F[zt].map;if(je-=Y,0>je)Y=Math.max(0,F[zt].g-100),Be=!1;else try{Lr(Wt,se,"req"+je+"_")}catch{S&&S(Wt)}}if(Be){S=se.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function yc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ge||L(),me||(ge(),me=!0),Ne.add(y,h),h.v=0}}function bl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Bt(b(h.Fa,h),wl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Bt(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),ro(this),vc(this))};function ua(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function vc(h){h.g=new Vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=yt(h.qa);Fe(y,"RID","rpc"),Fe(y,"SID",h.K),Fe(y,"AID",h.T),Fe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Fe(y,"TO",h.ja),Fe(y,"TYPE","xmlhttp"),la(h,y),h.m&&h.o&&Xt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=na(yt(y)),_.m=null,_.P=!0,li(_,h)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),bl(this),Oe(19))};function so(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function _c(h,y){var _=null;if(h.g==y){so(h),ua(h),h.g=null;var S=2}else if(Wi(h.h,y))_=y.D,tr(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;S=Pt(),st(S,new qn(S,_)),io(h)}else yc(h);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&ld(h,y)||S==2&&bl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),F){case 1:gi(h,5);break;case 4:gi(h,10);break;case 3:gi(h,6);break;default:gi(h,2)}}}function wl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function gi(h,y){if(h.j.info("Error code "+y),y==2){var _=b(h.fb,h),S=h.Xa;const F=!S;S=new ui(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ji(S,"https"),na(S),F?fc(S.toString(),_):ra(S.toString(),_)}else Oe(2);h.G=0,h.l&&h.l.sa(y),Ec(h),mc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Ec(h){if(h.G=0,h.ka=[],h.l){const y=In(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Tc(h,y,_){var S=_ instanceof ui?yt(_):new ui(_);if(S.g!="")y&&(S.g=y+"."+S.g),ta(S,S.s);else{var F=d.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new ui(null);S&&Ji(Y,S),y&&(Y.g=y),F&&ta(Y,F),_&&(Y.l=_),S=Y}return _=h.D,y=h.ya,_&&y&&Fe(S,_,y),Fe(S,"VER",h.la),la(h,S),S}function bc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ye(new ts({eb:_})):new Ye(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ao(){}ao.prototype.g=function(h,y){return new Dn(h,y)};function Dn(h,y){At.call(this),this.g=new no(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!K(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new zr(this)}V(Dn,At),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){El(this.g)},Dn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=ai(h),h=_);y.i.push(new nd(y.Ya++,h)),y.G==3&&io(y)},Dn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Dn.aa.N.call(this)};function Ac(h){at.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}V(Ac,at);function Sc(){ot.call(this),this.status=1}V(Sc,ot);function zr(h){this.g=h}V(zr,wc),zr.prototype.ua=function(){st(this.g,"a")},zr.prototype.ta=function(h){st(this.g,new Ac(h))},zr.prototype.sa=function(h){st(this.g,new Sc)},zr.prototype.ra=function(){st(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,Zb=function(){return new ao},Wb=function(){return Pt()},Xb=tt,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jt.NO_ERROR=0,jt.TIMEOUT=8,jt.HTTP_ERROR=6,zh=jt,oi.COMPLETE="complete",Yb=oi,$a.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",At.prototype.listen=At.prototype.K,yu=$a,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Qb=Ye}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",vE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new cp("@firebase/firestore");function ko(){return La.logLevel}function fe(n,...e){if(La.logLevel<=Ve.DEBUG){const t=e.map(Ap);La.debug(`Firestore (${el}): ${n}`,...t)}}function ji(n,...e){if(La.logLevel<=Ve.ERROR){const t=e.map(Ap);La.error(`Firestore (${el}): ${n}`,...t)}}function qo(n,...e){if(La.logLevel<=Ve.WARN){const t=e.map(Ap);La.warn(`Firestore (${el}): ${n}`,...t)}}function Ap(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function Xe(n,e){n||we()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wn.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NN{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Li,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Li)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string"),new Jb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new wn(e)}}class ON{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ON(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new _E(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new _E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=kN(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,TE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*TE);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<EE)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(),i===void 0?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),a=Qr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class lt extends Qr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const VN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Qr{construct(e,t,i){return new dn(e,t,i)}static isValidIdentifier(e){return VN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new dn([bE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=-1;function PN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Ps(a,Ee.empty(),e)}function LN(n){return new Ps(n.readTime,n.key,ku)}class Ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ps(Se.min(),Ee.empty(),ku)}static max(){return new Ps(Se.max(),Ee.empty(),ku)}}function UN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==BN)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},g=>i(g))}),c=!0,l===a&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(a=>a?te.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new te((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(v=>{c[p]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new te((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function zN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function Of(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function HN(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function qN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wE(e)),e=FN(n.get(t),e);return wE(e)}function FN(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case tw:t+="";break;default:t+=l}}return t}function wE(n){return n+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,a,l){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SE(this.data.getIterator())}getIteratorFrom(e){return new SE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class SE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Kt(dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rw("Invalid base64 string: "+l):l}}(e);return new gn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const GN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=GN.exec(n);if(Xe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="server_timestamp",sw="__type__",aw="__previous_value__",ow="__local_write_time__";function Rp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===iw}function xf(n){const e=n.mapValue.fields[aw];return Rp(e)?xf(e):e}function Vu(n){const e=Ls(n.mapValue.fields[ow].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,i,a,l,c,d,g,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p}}const af="(default)";class Pu{constructor(e,t){this.projectId=e,this.database=t||af}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__type__",$N="__max__",Ch={mapValue:{}},uw="__vector__",of="value";function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rp(n)?4:YN(n)?9007199254740991:QN(n)?10:11:we()}function ei(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vu(n).isEqual(Vu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ls(a.timestampValue),d=Ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Us(a.bytesValue).isEqual(Us(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?sf(c)===sf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(AE(c)!==AE(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!ei(c[g],d[g])))return!1;return!0}(n,e);default:return we()}}function Lu(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function Go(n,e){if(n===e)return 0;const t=Bs(n),i=Bs(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Rt(l.integerValue||l.doubleValue),g=Rt(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return RE(n.timestampValue,e.timestampValue);case 4:return RE(Vu(n),Vu(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Us(l),g=Us(c);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const v=Ue(d[p],g[p]);if(v!==0)return v}return Ue(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ue(Rt(l.latitude),Rt(c.latitude));return d!==0?d:Ue(Rt(l.longitude),Rt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return CE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,g,p,v;const T=l.fields||{},b=c.fields||{},w=(d=T[of])===null||d===void 0?void 0:d.arrayValue,V=(g=b[of])===null||g===void 0?void 0:g.arrayValue,z=Ue(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((v=V==null?void 0:V.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:CE(w,V)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ch.mapValue&&c===Ch.mapValue)return 0;if(l===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const b=Ue(g[T],v[T]);if(b!==0)return b;const w=Go(d[g[T]],p[v[T]]);if(w!==0)return w}return Ue(g.length,v.length)}(n.mapValue,e.mapValue);default:throw we()}}function RE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Ls(n),i=Ls(e),a=Ue(t.seconds,i.seconds);return a!==0?a:Ue(t.nanos,i.nanos)}function CE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Go(t[a],i[a]);if(l)return l}return Ue(t.length,i.length)}function Ko(n){return Pm(n)}function Pm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ls(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Pm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Pm(t.fields[c])}`;return a+"}"}(n.mapValue):we()}function Hh(n){switch(Bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(n);return e?16+Hh(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Hh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,c)=>{a+=l.length+Hh(c)}),a}(n.mapValue);default:throw we()}}function IE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lm(n){return!!n&&"integerValue"in n}function Cp(n){return!!n&&"arrayValue"in n}function DE(n){return!!n&&"nullValue"in n}function NE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function QN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===uw}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function YN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=dn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=bu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Qs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Ln(bu(this.value))}}function cw(n){const e=[];return Qs(n.fields,(t,i)=>{const a=new dn([t]);if(qh(i)){const l=cw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new An(e,0,Se.min(),Se.min(),Se.min(),Ln.empty(),0)}static newFoundDocument(e,t,i,a){return new An(e,1,t,Se.min(),i,a,0)}static newNoDocument(e,t){return new An(e,2,t,Se.min(),Se.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Se.min(),Se.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.position=e,this.inclusive=t}}function OE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Go(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,t="asc"){this.field=e,this.dir=t}}function XN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class kt extends hw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ZN(e,t,i):t==="array-contains"?new tO(e,i):t==="in"?new nO(e,i):t==="not-in"?new rO(e,i):t==="array-contains-any"?new iO(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new JN(e,i):new eO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Go(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Cr(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fw(n){return n.op==="and"}function dw(n){return WN(n)&&fw(n)}function WN(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function Um(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(dw(n))return n.filters.map(e=>Um(e)).join(",");{const e=n.filters.map(t=>Um(t)).join(",");return`${n.op}(${e})`}}function gw(n,e){return n instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&ei(i.value,a.value)}(n,e):n instanceof Cr?function(i,a){return a instanceof Cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&gw(c,a.filters[d]),!0):!1}(n,e):void we()}function mw(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(n):"Filter"}class ZN extends kt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class JN extends kt{constructor(e,t){super(e,"in",t),this.keys=pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eO extends kt{constructor(e,t){super(e,"not-in",t),this.keys=pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class tO extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&Lu(t.arrayValue,this.value)}}class nO extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class rO extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Lu(this.value.arrayValue,t)}}class iO extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function ME(n,e=null,t=[],i=[],a=null,l=null,c=null){return new sO(n,e,t,i,a,l,c)}function Ip(n){const e=Ce(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Um(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.le=t}return e.le}function Dp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xE(n.startAt,e.startAt)&&xE(n.endAt,e.endAt)}function Bm(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function aO(n,e,t,i,a,l,c,d){return new rl(n,e,t,i,a,l,c,d)}function Mf(n){return new rl(n)}function kE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yw(n){return n.collectionGroup!==null}function wu(n){const e=Ce(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Kt(dn.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Uu(l,i))}),t.has(dn.keyField().canonicalString())||e.he.push(new Uu(dn.keyField(),i))}return e.he}function Zr(n){const e=Ce(n);return e.Pe||(e.Pe=oO(e,wu(n))),e.Pe}function oO(n,e){if(n.limitType==="F")return ME(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Uu(a.field,l)});const t=n.endAt?new lf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new lf(n.startAt.position,n.startAt.inclusive):null;return ME(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function jm(n,e){const t=n.filters.concat([e]);return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zm(n,e,t){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Dp(Zr(n),Zr(e))&&n.limitType===e.limitType}function vw(n){return`${Ip(Zr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>mw(a)).join(", ")}]`),Of(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ko(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ko(a)).join(",")),`Target(${i})`}(Zr(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of wu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,g){const p=OE(c,d,g);return c.inclusive?p<=0:p<0}(i.startAt,wu(i),a)||i.endAt&&!function(c,d,g){const p=OE(c,d,g);return c.inclusive?p>=0:p>0}(i.endAt,wu(i),a))}(n,e)}function lO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _w(n){return(e,t)=>{let i=!1;for(const a of wu(n)){const l=uO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function uO(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Go(g,p):we()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new mt(Ee.comparator);function zi(){return cO}const Ew=new mt(Ee.comparator);function vu(...n){let e=Ew;for(const t of n)e=e.insert(t.key,t);return e}function Tw(n){let e=Ew;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xa(){return Au()}function bw(){return Au()}function Au(){return new qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const hO=new mt(Ee.comparator),fO=new Kt(Ee.comparator);function Pe(...n){let e=fO;for(const t of n)e=e.add(t);return e}const dO=new Kt(Ue);function gO(){return dO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function ww(n){return{integerValue:""+n}}function mO(n,e){return HN(e)?ww(e):Np(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function pO(n,e,t){return n instanceof uf?function(a,l){const c={fields:{[sw]:{stringValue:iw},[ow]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Rp(l)&&(l=xf(l)),l&&(c.fields[aw]=l),{mapValue:c}}(t,e):n instanceof $o?Sw(n,e):n instanceof Bu?Rw(n,e):function(a,l){const c=Aw(a,l),d=VE(c)+VE(a.Ie);return Lm(c)&&Lm(a.Ie)?ww(d):Np(a.serializer,d)}(n,e)}function yO(n,e,t){return n instanceof $o?Sw(n,e):n instanceof Bu?Rw(n,e):t}function Aw(n,e){return n instanceof cf?function(i){return Lm(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class uf extends Pf{}class $o extends Pf{constructor(e){super(),this.elements=e}}function Sw(n,e){const t=Cw(e);for(const i of n.elements)t.some(a=>ei(a,i))||t.push(i);return{arrayValue:{values:t}}}class Bu extends Pf{constructor(e){super(),this.elements=e}}function Rw(n,e){let t=Cw(e);for(const i of n.elements)t=t.filter(a=>!ei(a,i));return{arrayValue:{values:t}}}class cf extends Pf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VE(n){return Rt(n.integerValue||n.doubleValue)}function Cw(n){return Cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.field=e,this.transform=t}}function _O(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof $o&&a instanceof $o||i instanceof Bu&&a instanceof Bu?Fo(i.elements,a.elements,ei):i instanceof cf&&a instanceof cf?ei(i.Ie,a.Ie):i instanceof uf&&a instanceof uf}(n.transform,e.transform)}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Lf{}function Iw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Uf(n.key,Un.none()):new Zu(n.key,n.data,Un.none());{const t=n.data,i=Ln.empty();let a=new Kt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ys(n.key,i,new Wn(a.toArray()),Un.none())}}function TO(n,e,t){n instanceof Zu?function(a,l,c){const d=a.value.clone(),g=LE(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(a,l,c){if(!Fh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=LE(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(Dw(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Su(n,e,t,i){return n instanceof Zu?function(l,c,d,g){if(!Fh(l.precondition,c))return d;const p=l.value.clone(),v=UE(l.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ys?function(l,c,d,g){if(!Fh(l.precondition,c))return d;const p=UE(l.fieldTransforms,g,c),v=c.data;return v.setAll(Dw(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Fh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function bO(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=Aw(i.transform,a||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(i.field,l))}return t||null}function PE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Fo(i,a,(l,c)=>_O(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Zu extends Lf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ys extends Lf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function LE(n,e,t){const i=new Map;Xe(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,yO(c,d,t[a]))}return i}function UE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,pO(l,c,e))}return i}class Uf extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wO extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&TO(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const g=Iw(c,d);g!==null&&i.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,i)=>PE(t,i))&&Fo(this.baseMutations,e.baseMutations,(t,i)=>PE(t,i))}}class Op{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Xe(e.mutations.length===i.length);let a=function(){return hO}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Op(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function CO(n){switch(n){case Z.OK:return we();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we()}}function Nw(n){if(n===void 0)return ji("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Mt.OK:return Z.OK;case Mt.CANCELLED:return Z.CANCELLED;case Mt.UNKNOWN:return Z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Z.INTERNAL;case Mt.UNAVAILABLE:return Z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Z.NOT_FOUND;case Mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Mt.ABORTED:return Z.ABORTED;case Mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Mt.DATA_LOSS:return Z.DATA_LOSS;default:return we()}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new Os([4294967295,4294967295],0);function BE(n){const e=IO().encode(n),t=new $b;return t.update(e),new Uint8Array(t.digest())}function jE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([t,i],0),new Os([a,l],0)]}class xp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(i<0)throw new _u(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Os.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Os.fromNumber(i)));return a.compare(DO)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=BE(e),[i,a]=jE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new xp(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=BE(e),[i,a]=jE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bf(Se.min(),a,new mt(Ue),zi(),Pe())}}class Ju{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ju(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class Ow{constructor(e,t){this.targetId=e,this.ge=t}}class xw{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class zE{constructor(){this.pe=0,this.ye=HE(),this.we=gn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),i=Pe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we()}}),new Ju(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=HE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class NO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=zi(),this.$e=Ih(),this.Ke=Ih(),this.Ue=new mt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Bm(l))if(i===0){const c=new Ee(l.path);this.ze(t,c,An.newNoDocument(c,Se.min()))}else Xe(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),g=d?this.nt(d,e,c):1;if(g!==0){this.Ye(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Us(i).toUint8Array()}catch(g){if(g instanceof rw)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new xp(c,a,l)}catch(g){return qo(g instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Bm(d.target)){const g=new Ee(d.target.path);this._t(g).has(c)||this.ut(c,g)||this.ze(c,g,An.newNoDocument(g,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Pe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(g=>{const p=this.Xe(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Bf(e,t,this.Ue,this.Qe,i);return this.Qe=zi(),this.$e=Ih(),this.Ke=Ih(),this.Ue=new mt(Ue),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new zE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Kt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Kt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new zE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new mt(Ee.comparator)}function HE(){return new mt(Ee.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class kO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hm(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function hf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VO(n,e){return hf(n,e.toTimestamp())}function Jr(n){return Xe(!!n),Se.fromTimestamp(function(t){const i=Ls(t);return new ut(i.seconds,i.nanos)}(n))}function Mp(n,e){return qm(n,e).canonicalString()}function qm(n,e){const t=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kw(n){const e=lt.fromString(n);return Xe(Bw(e)),e}function Fm(n,e){return Mp(n.databaseId,e.path)}function dm(n,e){const t=kw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(Pw(t))}function Vw(n,e){return Mp(n.databaseId,e)}function PO(n){const e=kw(n);return e.length===4?lt.emptyPath():Pw(e)}function Gm(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pw(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qE(n,e,t){return{name:Fm(n,e),fields:t.value.mapValue.fields}}function LO(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Xe(v===void 0||typeof v=="string"),gn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),gn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?Z.UNKNOWN:Nw(p.code);return new he(v,p.message||"")}(c);t=new xw(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=dm(n,i.document.name),l=Jr(i.document.updateTime),c=i.document.createTime?Jr(i.document.createTime):Se.min(),d=new Ln({mapValue:{fields:i.document.fields}}),g=An.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Gh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=dm(n,i.document),l=i.readTime?Jr(i.readTime):Se.min(),c=An.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Gh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=dm(n,i.document),l=i.removedTargetIds||[];t=new Gh([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new RO(a,l),d=i.targetId;t=new Ow(d,c)}}return t}function UO(n,e){let t;if(e instanceof Zu)t={update:qE(n,e.key,e.value)};else if(e instanceof Uf)t={delete:Fm(n,e.key)};else if(e instanceof Ys)t={update:qE(n,e.key,e.data),updateMask:$O(e.fieldMask)};else{if(!(e instanceof wO))return we();t={verify:Fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $o)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:VO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(n,e.precondition)),t}function BO(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Jr(a.updateTime):Jr(l);return c.isEqual(Se.min())&&(c=Jr(l)),new EO(c,a.transformResults||[])}(t,e))):[]}function jO(n,e){return{documents:[Vw(n,e.path)]}}function zO(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Vw(n,a);const l=function(p){if(p.length!==0)return Uw(Cr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Po(b.field),direction:FO(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Hm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:a}}function HO(n){let e=PO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Xe(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const b=Lw(T);return b instanceof Cr&&dw(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(V){return new Uu(Lo(V.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Of(b)?null:b}(t.limit));let g=null;t.startAt&&(g=function(T){const b=!!T.before,w=T.values||[];return new lf(w,b)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const b=!T.before,w=T.values||[];return new lf(w,b)}(t.endAt)),aO(e,a,c,l,d,"F",g,p)}function qO(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(t.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Lo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(i=>Lw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function FO(n){return OO[n]}function GO(n){return xO[n]}function KO(n){return MO[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Lo(n){return dn.fromServerFormat(n.fieldPath)}function Uw(n){return n instanceof kt?function(t){if(t.op==="=="){if(NE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(DE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(DE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:GO(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const i=t.getFilters().map(a=>Uw(a));return i.length===1?i[0]:{compositeFilter:{op:KO(t.op),filters:i}}}(n):we()}function $O(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i,a,l=Se.min(),c=Se.min(),d=gn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.Tt=e}}function YO(n){const e=HO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.Tn=new WO}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ps.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class WO{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Kt(lt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(jw,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Qo(0)}static Un(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",ZO=1048576;function KE([n,e],[t,i]){const a=Ue(n,t);return a===0?Ue(e,i):a}class JO{constructor(e){this.Hn=e,this.buffer=new Kt(KE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();KE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(GE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nl(t)?fe(GE,"Ignoring IndexedDB error during garbage collection: ",t):await tl(t)}await this.er(3e5)})}}class tx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Nf.ae);const i=new JO(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(FE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(p=Date.now(),ko()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function nx(n,e){return new tx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Su(i.mutation,a,Wn.empty(),ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const a=xa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=vu();return l.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=zi();const c=Au(),d=function(){return Au()}();return t.forEach((g,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ys)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Su(v.mutation,p,v.mutation.getFieldMask(),ut.now())):c.set(p.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var T;return d.set(p,new ix(v,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Au();let a=new mt((c,d)=>c-d),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=i.get(g)||Wn.empty();v=d.applyToLocalView(p,v),i.set(g,v);const T=(a.get(d.batchId)||Pe()).add(g);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,v=g.value,T=bw();v.forEach(b=>{if(!l.has(b)){const w=Iw(t.get(b),i.get(b));w!==null&&T.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):te.resolve(xa());let d=ku,g=l;return c.next(p=>te.forEach(p,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,Pe())).next(v=>({batchId:d,changes:Tw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let a=vu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=vu();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,g=>{const p=function(T,b){return new rl(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,An.newInvalidDocument(v)))});let d=vu();return c.forEach((g,p)=>{const v=l.get(g);v!==void 0&&Su(v.mutation,p,Wn.empty(),ut.now()),Vf(t,p)&&(d=d.insert(g,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Jr(a.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:YO(a.bundledQuery),readTime:Jr(a.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new mt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xa();return te.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const a=xa(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>i&&a.set(g.getKey(),g)}return te.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=xa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=xa(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return te.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new SO(t,i));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Vr=new Kt(tn.mr),this.gr=new Kt(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new tn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new tn(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new Ee(new lt([])),i=new tn(t,e),a=new tn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new lt([])),i=new tn(t,e),a=new tn(t,e+1);let l=Pe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new tn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Kt(tn.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AO(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new tn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Sp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new tn(t,0),a=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Kt(Ue);return t.forEach(a=>{const l=new tn(a,0),c=new tn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),te.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new tn(new Ee(l),0);let d=new Kt(Ue);return this.Mr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(g.Cr)),!0)},c),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return te.forEach(t.mutations,a=>{const l=new tn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new tn(t,0),a=this.Mr.firstAfterOrEqual(i);return te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.kr=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let i=zi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():An.newInvalidDocument(a))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=zi();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||UN(LN(v),i)<=0||(a.has(v.key)||Vf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we()}qr(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new hx(this)}getSize(e){return te.resolve(this.size)}}class hx extends rx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.Qr=new qa(t=>Ip(t),Dp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new kp,this.targetCount=0,this.Ur=Qo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),te.waitFor(l).next(()=>a)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Nf(0),this.zr=!1,this.zr=!0,this.jr=new lx,this.referenceDelegate=e(this),this.Hr=new fx(this),this.indexManager=new XO,this.remoteDocumentCache=function(a){return new cx(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new QO(t),this.Yr=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ox,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new ux(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new dx(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class dx extends jN{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.ti=new kp,this.ni=null}static ri(e){return new Vp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,i=>{const a=Ee.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ff{constructor(e,t){this.persistence=e,this.oi=new qa(i=>qN(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=nx(this,t)}static ri(e,t){return new ff(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?te.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}ar(e,t,i){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return te.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pp(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $C()?8:zN(Rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new gx;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(ko()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(ko()<=Ve.DEBUG&&fe("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(ko()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):te.resolve())}rs(e,t){if(kE(t))return te.resolve(null);let i=Zr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=zm(t,null,"F"),i=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Pe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.cs(t,d);return this.ls(t,p,c,g.readTime)?this.rs(e,zm(t,null,"F")):this.hs(e,p,t,g)}))})))}ss(e,t,i,a){return kE(t)||a.isEqual(Se.min())?te.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?te.resolve(null):(ko()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(t)),this.hs(e,c,t,PN(a,ku)).next(d=>d))})}cs(e,t){let i=new Kt(_w(e));return t.forEach((a,l)=>{Vf(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return ko()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ns.getDocumentsMatchingQuery(e,t,Ps.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",px=3e8;class yx{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new mt(Ue),this.Is=new qa(l=>Ip(l),Dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function vx(n,e,t,i){return new yx(n,e,t,i)}async function Hw(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let g=Pe();for(const p of a){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(i,g).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function _x(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,g,p,v){const T=p.batch,b=T.keys();let w=te.resolve();return b.forEach(V=>{w=w.next(()=>v.getEntry(g,V)).next(z=>{const O=p.docVersions.get(V);Xe(O!==null),z.version.compareTo(O)<0&&(T.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=Pe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function qw(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Ex(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const b=a.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(gn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),a=a.insert(T,w),function(z,O,B){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=px?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(b,w,v)&&d.push(t.Hr.updateTargetData(l,w))});let g=zi(),p=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Tx(l,c,e.documentUpdates).next(v=>{g=v.Vs,p=v.fs})),!i.isEqual(Se.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return te.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.Ts=a,l))}function Tx(n,e,t){let i=Pe(),a=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=zi();return t.forEach((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):fe(Lp,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)}),{Vs:c,fs:a}})}function bx(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wx(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,te.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Is(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Km(n,e,t){const i=Ce(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!nl(c))throw c;fe(Lp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function $E(n,e,t){const i=Ce(n);let a=Se.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(g,p,v){const T=Ce(g),b=T.Is.get(v);return b!==void 0?te.resolve(T.Ts.get(b)):T.Hr.getTargetData(p,v)}(i,c,Zr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(g=>{l=g})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:Se.min(),t?l:Pe())).next(d=>(Ax(i,lO(e),d),{documents:d,gs:l})))}function Ax(n,e,t){let i=n.Es.get(e)||Se.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class QE{constructor(){this.activeTargetIds=gO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sx{constructor(){this.ho=new QE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new QE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="ConnectivityMonitor";class XE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(YE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(YE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function $m(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ix{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===af?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,t,i,a,l){const c=$m(),d=this.So(e,t.toUriEncodedString());fe(gm,`Sending RPC '${e}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,l),this.vo(e,d,g,i).then(p=>(fe(gm,`Received RPC '${e}' ${c}: `,p),p),p=>{throw qo(gm,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Co(e,t,i,a,l,c){return this.bo(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,t){const i=Cx[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class Nx extends Ix{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=$m();return new Promise((c,d)=>{const g=new Qb;g.setWithCredentials(!0),g.listenOnce(Yb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case zh.NO_ERROR:const v=g.getResponseJson();fe(bn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case zh.TIMEOUT:fe(bn,`RPC '${e}' ${l} timed out`),d(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const T=g.getStatus();if(fe(bn,`RPC '${e}' ${l} failed with status:`,T,"response text:",g.getResponseText()),T>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const V=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(B)>=0?B:Z.UNKNOWN}(w.status);d(new he(V,w.message))}else d(new he(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new he(Z.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe(bn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);fe(bn,`RPC '${e}' ${l} sending request:`,a),g.send(t,"POST",p,i,15)})}Wo(e,t,i){const a=$m(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Zb(),d=Wb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const v=l.join("");fe(bn,`Creating RPC '${e}' stream ${a}: ${v}`,g);const T=c.createWebChannel(v,g);let b=!1,w=!1;const V=new Dx({Fo:O=>{w?fe(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(fe(bn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),fe(bn,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Mo:()=>T.close()}),z=(O,B,K)=>{O.listen(B,$=>{try{K($)}catch(ie){setTimeout(()=>{throw ie},0)}})};return z(T,yu.EventType.OPEN,()=>{w||(fe(bn,`RPC '${e}' stream ${a} transport opened.`),V.Qo())}),z(T,yu.EventType.CLOSE,()=>{w||(w=!0,fe(bn,`RPC '${e}' stream ${a} transport closed`),V.Ko())}),z(T,yu.EventType.ERROR,O=>{w||(w=!0,qo(bn,`RPC '${e}' stream ${a} transport errored:`,O),V.Ko(new he(Z.UNAVAILABLE,"The operation could not be completed")))}),z(T,yu.EventType.MESSAGE,O=>{var B;if(!w){const K=O.data[0];Xe(!!K);const $=K,ie=($==null?void 0:$.error)||((B=$[0])===null||B===void 0?void 0:B.error);if(ie){fe(bn,`RPC '${e}' stream ${a} received error:`,ie);const ee=ie.status;let ae=function(R){const D=Mt[R];if(D!==void 0)return Nw(D)}(ee),M=ie.message;ae===void 0&&(ae=Z.INTERNAL,M="Unknown error status: "+ee+" with message "+ie.message),w=!0,V.Ko(new he(ae,M)),T.close()}else fe(bn,`RPC '${e}' stream ${a} received:`,K),V.Uo(K)}}),z(d,Xb.STAT_EVENT,O=>{O.stat===Vm.PROXY?fe(bn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Vm.NOPROXY&&fe(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return new kO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class Gw{constructor(e,t,i,a,l,c,d,g){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new he(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ox extends Gw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=LO(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Jr(c.readTime):Se.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Gm(this.serializer),t.addTarget=function(l,c){let d;const g=c.target;if(d=Bm(g)?{documents:jO(l,g)}:{query:zO(l,g).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(l,c.resumeToken);const p=Hm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=hf(l,c.snapshotVersion.toTimestamp());const p=Hm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=qO(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Gm(this.serializer),t.removeTarget=e,this.I_(t)}}class xx extends Gw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=BO(e.writeResults,e.commitTime),i=Jr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Gm(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>UO(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class kx extends Mx{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,qm(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Z.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,qm(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Vx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class Px{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Fa(this)&&(fe(Ua,"Restarting streams for network reachability change."),await async function(g){const p=Ce(g);p.W_.add(4),await ec(p),p.j_.set("Unknown"),p.W_.delete(4),await zf(p)}(this))})}),this.j_=new Vx(i,a)}}async function zf(n){if(Fa(n))for(const e of n.G_)await e(!0)}async function ec(n){for(const e of n.G_)await e(!1)}function Kw(n,e){const t=Ce(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),zp(t)?jp(t):il(t).c_()&&Bp(t,e))}function Up(n,e){const t=Ce(n),i=il(t);t.U_.delete(e),i.c_()&&$w(t,e),t.U_.size===0&&(i.c_()?i.P_():Fa(t)&&t.j_.set("Unknown"))}function Bp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}il(n).y_(e)}function $w(n,e){n.H_.Ne(e),il(n).w_(e)}function jp(n){n.H_=new NO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),il(n).start(),n.j_.B_()}function zp(n){return Fa(n)&&!il(n).u_()&&n.U_.size>0}function Fa(n){return Ce(n).W_.size===0}function Qw(n){n.H_=void 0}async function Lx(n){n.j_.set("Online")}async function Ux(n){n.U_.forEach((e,t)=>{Bp(n,e)})}async function Bx(n,e){Qw(n),zp(n)?(n.j_.q_(e),jp(n)):n.j_.set("Unknown")}async function jx(n,e,t){if(n.j_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){fe(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await df(n,i)}else if(e instanceof Gh?n.H_.We(e):e instanceof Ow?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Se.min()))try{const i=await qw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l.U_.get(p);v&&l.U_.set(p,v.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,p)=>{const v=l.U_.get(g);if(!v)return;l.U_.set(g,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),$w(l,g);const T=new Is(v.target,g,p,v.sequenceNumber);Bp(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(Ua,"Failed to raise snapshot:",i),await df(n,i)}}async function df(n,e,t){if(!nl(e))throw e;n.W_.add(1),await ec(n),n.j_.set("Offline"),t||(t=()=>qw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Ua,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await zf(n)})}function Yw(n,e){return e().catch(t=>df(n,t,e))}async function Hf(n){const e=Ce(n),t=js(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Sp;for(;zx(e);)try{const a=await bx(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,Hx(e,a)}catch(a){await df(e,a)}Xw(e)&&Ww(e)}function zx(n){return Fa(n)&&n.K_.length<10}function Hx(n,e){n.K_.push(e);const t=js(n);t.c_()&&t.b_&&t.S_(e.mutations)}function Xw(n){return Fa(n)&&!js(n).u_()&&n.K_.length>0}function Ww(n){js(n).start()}async function qx(n){js(n).C_()}async function Fx(n){const e=js(n);for(const t of n.K_)e.S_(t.mutations)}async function Gx(n,e,t){const i=n.K_.shift(),a=Op.from(i,e,t);await Yw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Hf(n)}async function Kx(n,e){e&&js(n).b_&&await async function(i,a){if(function(c){return CO(c)&&c!==Z.ABORTED}(a.code)){const l=i.K_.shift();js(i).h_(),await Yw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Hf(i)}}(n,e),Xw(n)&&Ww(n)}async function ZE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),fe(Ua,"RemoteStore received new credentials");const i=Fa(t);t.W_.add(3),await ec(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await zf(t)}async function $x(n,e){const t=Ce(n);e?(t.W_.delete(2),await zf(t)):e||(t.W_.add(2),await ec(t),t.j_.set("Unknown"))}function il(n){return n.J_||(n.J_=function(t,i,a){const l=Ce(t);return l.M_(),new Ox(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:Lx.bind(null,n),No:Ux.bind(null,n),Lo:Bx.bind(null,n),p_:jx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),zp(n)?jp(n):n.j_.set("Unknown")):(await n.J_.stop(),Qw(n))})),n.J_}function js(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ce(t);return l.M_(),new xx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:qx.bind(null,n),Lo:Kx.bind(null,n),D_:Fx.bind(null,n),v_:Gx.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Hf(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(Ua,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Hp(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(n,e){if(ji("AsyncQueue",`${e}: ${n}`),nl(n))return new he(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=vu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.Z_=new mt(Ee.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yo{constructor(e,t,i,a,l,c,d,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Yo(e,t,zo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Yx{constructor(){this.queries=eT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ce(t),l=a.queries;a.queries=eT(),l.forEach((c,d)=>{for(const g of d.ta)g.onError(i)})})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function eT(){return new qa(n=>vw(n),kf)}async function Fp(n,e){const t=Ce(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new Qx,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=qp(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Kp(t)}async function Gp(n,e){const t=Ce(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Xx(n,e){const t=Ce(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&Kp(t)}function Wx(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function Kp(n){n.ia.forEach(e=>{e.next()})}var Qm,tT;(tT=Qm||(Qm={}))._a="default",tT.Cache="cache";class $p{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class Zx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=_w(e),this.wa=new zo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new JE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const b=a.get(v),w=Vf(this.query,T)?T:null,V=!!b&&this.mutatedKeys.has(b.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;b&&w?b.data.isEqual(w.data)?V!==z&&(i.track({type:3,doc:w}),O=!0):this.va(b,w)||(i.track({type:2,doc:w}),O=!0,(g&&this.ya(w,g)>0||p&&this.ya(w,p)<0)&&(d=!0)):!b&&w?(i.track({type:0,doc:w}),O=!0):b&&!w&&(i.track({type:1,doc:b}),O=!0,(g||p)&&(d=!0)),O&&(w?(c=c.add(w),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(w,V){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return z(w)-z(V)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,p=g!==this.ga;return this.ga=g,c.length!==0||p?{snapshot:new Yo(this.query,e.wa,l,c,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new JE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Jw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Zw(i))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qp="SyncEngine";class Jx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eM{constructor(e){this.key=e,this.Ba=!1}}class tM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new qa(d=>vw(d),kf),this.qa=new Map,this.Qa=new Set,this.$a=new mt(Ee.comparator),this.Ka=new Map,this.Ua=new kp,this.Wa={},this.Ga=new Map,this.za=Qo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nM(n,e,t=!0){const i=sA(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await eA(i,e,t,!0),a}async function rM(n,e){const t=sA(n);await eA(t,e,!0,!1)}async function eA(n,e,t,i){const a=await wx(n.localStore,Zr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await iM(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Kw(n.remoteStore,a),d}async function iM(n,e,t,i,a){n.Ha=(T,b,w)=>async function(z,O,B,K){let $=O.view.Sa(B);$.ls&&($=await $E(z.localStore,O.query,!1).then(({documents:M})=>O.view.Sa(M,$)));const ie=K&&K.targetChanges.get(O.targetId),ee=K&&K.targetMismatches.get(O.targetId)!=null,ae=O.view.applyChanges($,z.isPrimaryClient,ie,ee);return rT(z,O.targetId,ae.Ma),ae.snapshot}(n,T,b,w);const l=await $E(n.localStore,e,!0),c=new Zx(e,l.gs),d=c.Sa(l.documents),g=Ju.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,g);rT(n,t,p.Ma);const v=new Jx(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function sM(n,e,t){const i=Ce(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!kf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Km(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Up(i.remoteStore,a.targetId),Ym(i,a.targetId)}).catch(tl)):(Ym(i,a.targetId),await Km(i.localStore,a.targetId,!0))}async function aM(n,e){const t=Ce(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Up(t.remoteStore,i.targetId))}async function oM(n,e,t){const i=gM(n);try{const a=await function(c,d){const g=Ce(c),p=ut.now(),v=d.reduce((w,V)=>w.add(V.key),Pe());let T,b;return g.persistence.runTransaction("Locally write mutations","readwrite",w=>{let V=zi(),z=Pe();return g.ds.getEntries(w,v).next(O=>{V=O,V.forEach((B,K)=>{K.isValidDocument()||(z=z.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(w,V)).next(O=>{T=O;const B=[];for(const K of d){const $=bO(K,T.get(K.key).overlayedDocument);$!=null&&B.push(new Ys(K.key,$,cw($.value.mapValue),Un.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,B,d)}).next(O=>{b=O;const B=O.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(w,O.batchId,B)})}).then(()=>({batchId:b.batchId,changes:Tw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,g){let p=c.Wa[c.currentUser.toKey()];p||(p=new mt(Ue)),p=p.insert(d,g),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,t),await tc(i,a.changes),await Hf(i.remoteStore)}catch(a){const l=qp(a,"Failed to persist write");t.reject(l)}}async function tA(n,e){const t=Ce(n);try{const i=await Ex(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Xe(c.Ba):a.removedDocuments.size>0&&(Xe(c.Ba),c.Ba=!1))}),await tc(t,i,e)}catch(i){await tl(i)}}function nT(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const g=Ce(c);g.onlineState=d;let p=!1;g.queries.forEach((v,T)=>{for(const b of T.ta)b.sa(d)&&(p=!0)}),p&&Kp(g)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lM(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new mt(Ee.comparator);c=c.insert(l,An.newNoDocument(l,Se.min()));const d=Pe().add(l),g=new Bf(Se.min(),new Map,new mt(Ue),c,d);await tA(i,g),i.$a=i.$a.remove(l),i.Ka.delete(e),Yp(i)}else await Km(i.localStore,e,!1).then(()=>Ym(i,e,t)).catch(tl)}async function uM(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await _x(t.localStore,e);rA(t,i,null),nA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await tc(t,a)}catch(a){await tl(a)}}async function cM(n,e,t){const i=Ce(n);try{const a=await function(c,d){const g=Ce(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,d).next(T=>(Xe(T!==null),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(i.localStore,e);rA(i,e,t),nA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await tc(i,a)}catch(a){await tl(a)}}function nA(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rA(n,e,t){const i=Ce(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Ym(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||iA(n,i)})}function iA(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Up(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Yp(n))}function rT(n,e,t){for(const i of t)i instanceof Zw?(n.Ua.addReference(i.key,e),hM(n,i)):i instanceof Jw?(fe(Qp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||iA(n,i.key)):we()}function hM(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(Qp,"New document in limbo: "+t),n.Qa.add(i),Yp(n))}function Yp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(lt.fromString(e)),i=n.za.next();n.Ka.set(i,new eM(t)),n.$a=n.$a.insert(t,i),Kw(n.remoteStore,new Is(Zr(Mf(t.path)),i,"TargetPurposeLimboResolution",Nf.ae))}}async function tc(n,e,t){const i=Ce(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,g)=>{c.push(i.Ha(g,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){a.push(p);const T=Pp.Yi(g.targetId,p);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(g,p){const v=Ce(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(p,b=>te.forEach(b.Hi,w=>v.persistence.referenceDelegate.addReference(T,b.targetId,w)).next(()=>te.forEach(b.Ji,w=>v.persistence.referenceDelegate.removeReference(T,b.targetId,w)))))}catch(T){if(!nl(T))throw T;fe(Lp,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const w=v.Ts.get(b),V=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(V);v.Ts=v.Ts.insert(b,z)}}}(i.localStore,l))}async function fM(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){fe(Qp,"User change. New user:",e.toKey());const i=await Hw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(g=>{g.reject(new he(Z.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tc(t,i.Rs)}}function dM(n,e){const t=Ce(n),i=t.Ka.get(e);if(i&&i.Ba)return Pe().add(i.key);{let a=Pe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function sA(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lM.bind(null,e),e.La.p_=Xx.bind(null,e.eventManager),e.La.Ja=Wx.bind(null,e.eventManager),e}function gM(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,e),e}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return vx(this.persistence,new mx,e.initialUser,this.serializer)}Xa(e){return new zw(Vp.ri,this.serializer)}Za(e){return new Sx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class mM extends gf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof ff);const i=this.persistence.referenceDelegate.garbageCollector;return new ex(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new zw(i=>ff.ri(i,t),this.serializer)}}class Xm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fM.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yx}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),i=function(l){return new Nx(l)}(e.databaseInfo);return function(l,c,d,g){return new kx(l,c,d,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new Px(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>nT(this.syncEngine,t,0),function(){return XE.D()?new XE:new Rx}())}createSyncEngine(e,t){return function(a,l,c,d,g,p,v){const T=new tM(a,l,c,d,g,p);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);fe(Ua,"RemoteStore shutting down."),l.W_.add(5),await ec(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class pM{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=wn.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=qp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function pm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(zs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Hw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function iT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yM(n);fe(zs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ZE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>ZE(e.remoteStore,a)),n._onlineComponents=e}async function yM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(zs,"Using user provided OfflineComponentProvider");try{await pm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await pm(n,new gf)}}else fe(zs,"Using default OfflineComponentProvider"),await pm(n,new mM(void 0));return n._offlineComponents}async function aA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(zs,"Using user provided OnlineComponentProvider"),await iT(n,n._uninitializedComponentsProvider._online)):(fe(zs,"Using default OnlineComponentProvider"),await iT(n,new Xm))),n._onlineComponents}function vM(n){return aA(n).then(e=>e.syncEngine)}async function mf(n){const e=await aA(n),t=e.eventManager;return t.onListen=nM.bind(null,e.syncEngine),t.onUnlisten=sM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aM.bind(null,e.syncEngine),t}function _M(n,e,t={}){const i=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new Xp({next:b=>{v.su(),c.enqueueAndForget(()=>Gp(l,T));const w=b.docs.has(d);!w&&b.fromCache?p.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&g&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new $p(Mf(d.path),v,{includeMetadataChanges:!0,Ta:!0});return Fp(l,T)}(await mf(n),n.asyncQueue,e,t,i)),i.promise}function EM(n,e,t={}){const i=new Li;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new Xp({next:b=>{v.su(),c.enqueueAndForget(()=>Gp(l,T)),b.fromCache&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new $p(d,v,{includeMetadataChanges:!0,Ta:!0});return Fp(l,T)}(await mf(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e,t){if(!t)throw new he(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TM(n,e,t,i){if(e===!0&&i===!0)throw new he(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aT(n){if(!Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oT(n){if(Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qf(n);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firestore.googleapis.com",lT=!0;class uT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uA,this.ssl=lT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZO)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IN;switch(i.type){case"firstParty":return new xN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=sT.get(t);i&&(fe("ComponentProvider","Removing Datastore"),sT.delete(t),i.terminate())}(this),Promise.resolve()}}function bM(n,e,t,i={}){var a;const l=(n=Bn(n,Ff))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==uA&&l.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!ks(g,c)&&(n._setSettings(g),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=wn.MOCK_USER;else{p=ob(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wn(T)}n._authCredentials=new DN(new Jb(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class xs extends Xs{constructor(e,t,i){super(e,t,Mf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function nc(n,e,...t){if(n=ct(n),lA("collection","path",e),n instanceof Ff){const i=lt.fromString(e,...t);return oT(i),new xs(n,null,i)}{if(!(n instanceof Sn||n instanceof xs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return oT(i),new xs(n.firestore,null,i)}}function mn(n,e,...t){if(n=ct(n),arguments.length===1&&(e=ew.newId()),lA("doc","path",e),n instanceof Ff){const i=lt.fromString(e,...t);return aT(i),new Sn(n,null,new Ee(i))}{if(!(n instanceof Sn||n instanceof xs))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return aT(i),new Sn(n.firestore,n instanceof xs?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fw(this,"async_queue_retry"),this.bu=()=>{const i=mm();i&&fe(cT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=mm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=mm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Li;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!nl(e))throw e;fe(cT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ji("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Hp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function fT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Hi extends Ff{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new hT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function wM(n,e){const t=typeof n=="object"?n:fp(),i=typeof n=="string"?n:af,a=Rf(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=ib("firestore");l&&bM(a,...l)}return a}function rc(n){if(n._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AM(n),n._firestoreClient}function AM(n){var e,t,i;const a=n._freezeSettings(),l=function(d,g,p,v){return new KN(d,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,oA(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new pM(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(gn.fromBase64String(e))}catch(t){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^__.*__$/;class RM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zu(e,this.data,t,this.fieldTransforms)}}class cA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Kf{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return pf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hA(this.Lu)&&SM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CM{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jf(e)}ju(e,t,i,a=!1){return new Kf({Lu:e,methodName:t,zu:i,path:dn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(n){const e=n._freezeSettings(),t=jf(n._databaseId);return new CM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fA(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);ey("Data must be an object, but it was:",c,i);const d=mA(i,c);let g,p;if(l.merge)g=new Wn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const b=Wm(e,T,t);if(!c.contains(b))throw new he(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);yA(v,b)||v.push(b)}g=new Wn(v),p=c.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=c.fieldTransforms;return new RM(new Ln(d),g,p)}class Qf extends Gf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function IM(n,e,t){return new Kf({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jp extends Gf{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=IM(this,e,!0),i=this.Hu.map(l=>sl(l,t)),a=new $o(i);return new vO(e.path,a)}isEqual(e){return e instanceof Jp&&ks(this.Hu,e.Hu)}}function dA(n,e,t,i){const a=n.ju(1,e,t);ey("Data must be an object, but it was:",a,i);const l=[],c=Ln.empty();Qs(i,(g,p)=>{const v=ty(e,g,t);p=ct(p);const T=a.Ku(v);if(p instanceof Qf)l.push(v);else{const b=sl(p,T);b!=null&&(l.push(v),c.set(v,b))}});const d=new Wn(l);return new cA(c,d,a.fieldTransforms)}function gA(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[Wm(e,i,t)],g=[a];if(l.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Wm(e,l[b])),g.push(l[b+1]);const p=[],v=Ln.empty();for(let b=d.length-1;b>=0;--b)if(!yA(p,d[b])){const w=d[b];let V=g[b];V=ct(V);const z=c.Ku(w);if(V instanceof Qf)p.push(w);else{const O=sl(V,z);O!=null&&(p.push(w),v.set(w,O))}}const T=new Wn(p);return new cA(v,T,c.fieldTransforms)}function DM(n,e,t,i=!1){return sl(t,n.ju(i?4:3,e))}function sl(n,e){if(pA(n=ct(n)))return ey("Unsupported field value:",e,n),mA(n,e);if(n instanceof Gf)return function(i,a){if(!hA(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let g=sl(d,a.Uu(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return mO(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ut.fromDate(i);return{timestampValue:hf(a.serializer,l)}}if(i instanceof ut){const l=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hf(a.serializer,l)}}if(i instanceof Wp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:Mw(a.serializer,i._byteString)};if(i instanceof Sn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Zp)return function(c,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[of]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Np(d.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${qf(i)}`)}(n,e)}function mA(n,e){const t={};return nw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(i,a)=>{const l=sl(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function pA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Wp||n instanceof Xo||n instanceof Sn||n instanceof Gf||n instanceof Zp)}function ey(n,e,t){if(!pA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=qf(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Wm(n,e,t){if((e=ct(e))instanceof ic)return e._internalPath;if(typeof e=="string")return ty(n,e);throw pf("Field path arguments must be of type string or ",n,!1,void 0,t)}const NM=new RegExp("[~\\*/\\[\\]]");function ty(n,e,t){if(e.search(NM)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ic(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${a}`),g+=")"),new he(Z.INVALID_ARGUMENT,d+n+g)}function yA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OM extends vA{data(){return super.data()}}function Yf(n,e){return typeof e=="string"?ty(n,e):e instanceof ic?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class EA extends ny{}function ry(n,e,...t){let i=[];e instanceof ny&&i.push(e),i=i.concat(t),function(l){const c=l.filter(g=>g instanceof iy).length,d=l.filter(g=>g instanceof Xf).length;if(c>1||c>0&&d>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Xf extends EA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Xf(e,t,i)}_apply(e){const t=this._parse(e);return bA(e._query,t),new Xs(e.firestore,e.converter,jm(e._query,t))}_parse(e){const t=$f(e.firestore);return function(l,c,d,g,p,v,T){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){gT(T,v);const V=[];for(const z of T)V.push(dT(g,l,z));b={arrayValue:{values:V}}}else b=dT(g,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||gT(T,v),b=DM(d,c,T,v==="in"||v==="not-in");return kt.create(p,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function TA(n,e,t){const i=e,a=Yf("where",n);return Xf._create(a,i,t)}class iy extends ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const g of d)bA(c,g),c=jm(c,g)}(e._query,t),new Xs(e.firestore,e.converter,jm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sy extends EA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sy(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(l,c)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new rl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function xM(n,e="asc"){const t=e,i=Yf("orderBy",n);return sy._create(i,t)}function dT(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yw(e)&&t.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Ee.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return IE(n,new Ee(i))}if(t instanceof Sn)return IE(n,t._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function gT(n,e){if(!Array.isArray(n)||n.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MM{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[of].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new Zp(l)}convertGeoPoint(e){return new Wp(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Xe(Bw(i));const a=new Pu(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(t)||ji(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AA extends vA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Yf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Kh extends AA{data(e={}){return super.data(e)}}class SA{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Eu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Kh(this._firestore,this._userDataWriter,i.key,i,new Eu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const g=new Kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new Kh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Eu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:kM(d.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n){n=Bn(n,Sn);const e=Bn(n.firestore,Hi);return _M(rc(e),n._key).then(t=>CA(e,n,t))}class ay extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function VM(n){n=Bn(n,Xs);const e=Bn(n.firestore,Hi),t=rc(e),i=new ay(e);return _A(n._query),EM(t,n._query).then(a=>new SA(e,i,n,a))}function Wf(n,e,t){n=Bn(n,Sn);const i=Bn(n.firestore,Hi),a=wA(n.converter,e,t);return Zf(i,[fA($f(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Un.none())])}function Hs(n,e,t,...i){n=Bn(n,Sn);const a=Bn(n.firestore,Hi),l=$f(a);let c;return c=typeof(e=ct(e))=="string"||e instanceof ic?gA(l,"updateDoc",n._key,e,t,i):dA(l,"updateDoc",n._key,e),Zf(a,[c.toMutation(n._key,Un.exists(!0))])}function PM(n){return Zf(Bn(n.firestore,Hi),[new Uf(n._key,Un.none())])}function RA(n,...e){var t,i,a;n=ct(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||fT(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(fT(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let g,p,v;if(n instanceof Sn)p=Bn(n.firestore,Hi),v=Mf(n._key.path),g={next:T=>{e[c]&&e[c](CA(p,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Bn(n,Xs);p=Bn(T.firestore,Hi),v=T._query;const b=new ay(p);g={next:w=>{e[c]&&e[c](new SA(p,b,T,w))},error:e[c+1],complete:e[c+2]},_A(n._query)}return function(b,w,V,z){const O=new Xp(z),B=new $p(w,O,V);return b.asyncQueue.enqueueAndForget(async()=>Fp(await mf(b),B)),()=>{O.su(),b.asyncQueue.enqueueAndForget(async()=>Gp(await mf(b),B))}}(rc(p),v,d,g)}function Zf(n,e){return function(i,a){const l=new Li;return i.asyncQueue.enqueueAndForget(async()=>oM(await vM(i),a,l)),l.promise}(rc(n),e)}function CA(n,e,t){const i=t.docs.get(e._key),a=new ay(n);return new AA(n,a,e._key,i,new Eu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$f(e)}set(e,t,i){this._verifyNotCommitted();const a=ym(e,this._firestore),l=wA(a.converter,t,i),c=fA(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Un.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=ym(e,this._firestore);let c;return c=typeof(t=ct(t))=="string"||t instanceof ic?gA(this._dataReader,"WriteBatch.update",l._key,t,i,a):dA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ym(e,this._firestore);return this._mutations=this._mutations.concat(new Uf(t._key,Un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ym(n,e){if((n=ct(n)).firestore!==e)throw new he(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function IA(...n){return new Jp("arrayUnion",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){return rc(n=Bn(n,Hi)),new LM(n,e=>Zf(n,e))}(function(e,t=!0){(function(a){el=a})(Ha),ka(new Vs("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Hi(new NN(i.getProvider("auth-internal")),new MN(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Xr(yE,vE,e),Xr(yE,vE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firebasestorage.googleapis.com",NA="storageBucket",BM=2*60*1e3,jM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends ii{constructor(e,t,i=0){super(vm(e),`Firebase Storage: ${t} (${vm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function vm(n){return"storage/"+n}function oy(){const n="An unknown error occurred, please check the error payload for server response.";return new bt(Tt.UNKNOWN,n)}function zM(n){return new bt(Tt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function HM(n){return new bt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(Tt.UNAUTHENTICATED,n)}function FM(){return new bt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GM(n){return new bt(Tt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function KM(){return new bt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $M(){return new bt(Tt.CANCELED,"User canceled the upload/download.")}function QM(n){return new bt(Tt.INVALID_URL,"Invalid URL '"+n+"'.")}function YM(n){return new bt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function XM(){return new bt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NA+"' property when initializing the app?")}function WM(){return new bt(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZM(){return new bt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JM(n){return new bt(Tt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Zm(n){return new bt(Tt.INVALID_ARGUMENT,n)}function OA(){return new bt(Tt.APP_DELETED,"The Firebase app was deleted.")}function ek(n){return new bt(Tt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ru(n,e){return new bt(Tt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function du(n){throw new bt(Tt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Zn.makeFromUrl(e,t)}catch{return new Zn(e,"")}if(i.path==="")return i;throw YM(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),g={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${a}/o${b}`,"i"),V={bucket:1,path:3},z=t===DA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",B=new RegExp(`^https?://${z}/${a}/${O}`,"i"),$=[{regex:d,indices:g,postModify:l},{regex:w,indices:V,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<$.length;ie++){const ee=$[ie],ae=ee.regex.exec(e);if(ae){const M=ae[ee.indices.bucket];let I=ae[ee.indices.path];I||(I=""),i=new Zn(M,I),ee.postModify(i);break}}if(i==null)throw QM(e);return i}}class tk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function g(){return d===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function T(O){a=setTimeout(()=>{a=null,n(w,g())},O)}function b(){l&&clearTimeout(l)}function w(O,...B){if(p){b();return}if(O){b(),v.call(null,O,...B);return}if(g()||c){b(),v.call(null,O,...B);return}i<64&&(i*=2);let $;d===1?(d=2,$=0):$=(i+Math.random())*1e3,T($)}let V=!1;function z(O){V||(V=!0,b(),!p&&(a!==null?(O||(d=2),clearTimeout(a),T(0)):O||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,z(!0)},t),z}function rk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){return n!==void 0}function sk(n){return typeof n=="object"&&!Array.isArray(n)}function ly(n){return typeof n=="string"||n instanceof String}function mT(n){return uy()&&n instanceof Blob}function uy(){return typeof Blob<"u"}function pT(n,e,t,i){if(i<e)throw Zm(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Zm(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function xA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ma;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ma||(Ma={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i,a,l,c,d,g,p,v,T,b=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=T,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,V)=>{this.resolve_=w,this.reject_=V,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Nh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const g=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ma.NO_ERROR,g=l.getStatus();if(!d||ak(g,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ma.ABORT;i(!1,new Nh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;i(!0,new Nh(p,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());ik(g)?l(g):l()}catch(g){c(g)}else if(d!==null){const g=oy();g.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,g)):c(g)}else if(a.canceled){const g=this.appDelete_?OA():$M();c(g)}else{const g=KM();c(g)}};this.canceled_?t(!1,new Nh(!1,null,!0)):this.backoffId_=nk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function lk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function uk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ck(n,e){e&&(n["X-Firebase-GMPID"]=e)}function hk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function fk(n,e,t,i,a,l,c=!0){const d=xA(n.urlParams),g=n.url+d,p=Object.assign({},n.headers);return ck(p,e),lk(p,t),uk(p,l),hk(p,i),new ok(g,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gk(...n){const e=dk();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(uy())return new Blob(n);throw new bt(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mk(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){if(typeof atob>"u")throw JM("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _m{constructor(e,t){this.data=e,this.contentType=t||null}}function yk(n,e){switch(n){case Yr.RAW:return new _m(MA(e));case Yr.BASE64:case Yr.BASE64URL:return new _m(kA(n,e));case Yr.DATA_URL:return new _m(_k(e),Ek(e))}throw oy()}function MA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function vk(n){let e;try{e=decodeURIComponent(n)}catch{throw Ru(Yr.DATA_URL,"Malformed data URL.")}return MA(e)}function kA(n,e){switch(n){case Yr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ru(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ru(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=pk(e)}catch(a){throw a.message.includes("polyfill")?a:Ru(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class VA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ru(Yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=Tk(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function _k(n){const e=new VA(n);return e.base64?kA(Yr.BASE64,e.rest):vk(e.rest)}function Ek(n){return new VA(n).contentType}function Tk(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t){let i=0,a="";mT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(mT(this.data_)){const i=this.data_,a=mk(i,e,t);return a===null?null:new Cs(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Cs(i,!0)}}static getBlob(...e){if(uy()){const t=e.map(i=>i instanceof Cs?i.data_:i);return new Cs(gk.apply(null,t))}else{const t=e.map(c=>ly(c)?yk(Yr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Cs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n){let e;try{e=JSON.parse(n)}catch{return null}return sk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function wk(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function LA(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(n,e){return e}class xn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||Ak}}let Oh=null;function Sk(n){return!ly(n)||n.length<2?n:LA(n)}function UA(){if(Oh)return Oh;const n=[];n.push(new xn("bucket")),n.push(new xn("generation")),n.push(new xn("metageneration")),n.push(new xn("name","fullPath",!0));function e(l,c){return Sk(c)}const t=new xn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new xn("size");return a.xform=i,n.push(a),n.push(new xn("timeCreated")),n.push(new xn("updated")),n.push(new xn("md5Hash",null,!0)),n.push(new xn("cacheControl",null,!0)),n.push(new xn("contentDisposition",null,!0)),n.push(new xn("contentEncoding",null,!0)),n.push(new xn("contentLanguage",null,!0)),n.push(new xn("contentType",null,!0)),n.push(new xn("metadata","customMetadata",!0)),Oh=n,Oh}function Rk(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Zn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function Ck(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return Rk(i,n),i}function BA(n,e,t){const i=PA(e);return i===null?null:Ck(n,i,t)}function Ik(n,e,t,i){const a=PA(e);if(a===null||!ly(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,T=n.fullPath,b="/b/"+c(v)+"/o/"+c(T),w=cy(b,t,i),V=xA({alt:"media",token:p});return w+V})[0]}function Dk(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class jA{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n){if(!n)throw oy()}function Nk(n,e){function t(i,a){const l=BA(n,a,e);return zA(l!==null),l}return t}function Ok(n,e){function t(i,a){const l=BA(n,a,e);return zA(l!==null),Ik(l,a,n.host,n._protocol)}return t}function HA(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=FM():a=qM():t.getStatus()===402?a=HM(n.bucket):t.getStatus()===403?a=GM(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function xk(n){const e=HA(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=zM(n.path)),l.serverResponse=a.serverResponse,l}return t}function Mk(n,e,t){const i=e.fullServerUrl(),a=cy(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new jA(a,l,Ok(n,t),c);return d.errorHandler=xk(e),d}function kk(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Vk(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=kk(null,e)),i}function Pk(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let ie=0;ie<2;ie++)$=$+Math.random().toString().slice(2);return $}const g=d();c["Content-Type"]="multipart/related; boundary="+g;const p=Vk(e,i,a),v=Dk(p,t),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",w=Cs.getBlob(T,i,b);if(w===null)throw WM();const V={name:p.fullPath},z=cy(l,n.host,n._protocol),O="POST",B=n.maxUploadRetryTime,K=new jA(z,O,Nk(n,t),B);return K.urlParams=V,K.headers=c,K.body=w.uploadData(),K.errorHandler=HA(e),K}class Lk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ma.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ma.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ma.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw du("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uk extends Lk{initXhr(){this.xhr_.responseType="text"}}function qA(){return new Uk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this._service=e,t instanceof Zn?this._location=t:this._location=Zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ba(e,t)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LA(this._location.path)}get storage(){return this._service}get parent(){const e=bk(this._location.path);if(e===null)return null;const t=new Zn(this._location.bucket,e);return new Ba(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ek(e)}}function Bk(n,e,t){n._throwIfRoot("uploadBytes");const i=Pk(n.storage,n._location,UA(),new Cs(e,!0),t);return n.storage.makeRequestWithTokens(i,qA).then(a=>({metadata:a,ref:n}))}function jk(n){n._throwIfRoot("getDownloadURL");const e=Mk(n.storage,n._location,UA());return n.storage.makeRequestWithTokens(e,qA).then(t=>{if(t===null)throw ZM();return t})}function zk(n,e){const t=wk(n._location.path,e),i=new Zn(n._location.bucket,t);return new Ba(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){return/^[A-Za-z]+:\/\//.test(n)}function qk(n,e){return new Ba(n,e)}function FA(n,e){if(n instanceof hy){const t=n;if(t._bucket==null)throw XM();const i=new Ba(t,t._bucket);return e!=null?FA(i,e):i}else return e!==void 0?zk(n,e):n}function Fk(n,e){if(e&&Hk(e)){if(n instanceof hy)return qk(n,e);throw Zm("To use ref(service, url), the first argument must be a Storage instance.")}else return FA(n,e)}function yT(n,e){const t=e==null?void 0:e[NA];return t==null?null:Zn.makeFromBucketSpec(t,n)}function Gk(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:ob(a,n.app.options.projectId))}class hy{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=DA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BM,this._maxUploadRetryTime=jM,this._requests=new Set,a!=null?this._bucket=Zn.makeFromBucketSpec(a,this._host):this._bucket=yT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=yT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ba(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new tk(OA());{const c=fk(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const vT="@firebase/storage",_T="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="storage";function Kk(n,e,t){return n=ct(n),Bk(n,e,t)}function $k(n){return n=ct(n),jk(n)}function Qk(n,e){return n=ct(n),Fk(n,e)}function Yk(n=fp(),e){n=ct(n);const i=Rf(n,GA).getImmediate({identifier:e}),a=ib("storage");return a&&Xk(i,...a),i}function Xk(n,e,t,i={}){Gk(n,e,t,i)}function Wk(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new hy(t,i,a,e,Ha)}function Zk(){ka(new Vs(GA,Wk,"PUBLIC").setMultipleInstances(!0)),Xr(vT,_T,""),Xr(vT,_T,"esm2017")}Zk();const Jk={apiKey:"AIzaSyDMZWwedrDHpCnY9ikNLnk0ciWyXjt0Z1o",authDomain:"jellio-4a5f0.firebaseapp.com",projectId:"jellio-4a5f0",storageBucket:"jellio-4a5f0.firebasestorage.app",messagingSenderId:"30048229201",appId:"1:30048229201:web:d2789f3d6bd29b9fd62570"},fy=cb(Jk),It=wM(fy),ju=AN(fy),e4=new Oi,t4=Yk(fy),KA=C.createContext(void 0),n4=({children:n})=>{const[e,t]=C.useState(null),[i,a]=C.useState(!0),l=new Date,c=ut.fromDate(l);C.useEffect(()=>{const g=fD(ju,async p=>{if(p){const v=mn(It,"users",p.uid),T=await sc(v);if(T.exists()){const b=T.data();t({...p,userId:p.uid,username:b.username||"No username",email:b.email||"No email",profilePic:b.profilePic||"",createdAt:b.createdAt||c})}else t(null)}else t(null);a(!1)});return()=>g()},[]);const d=async()=>{try{await dD(ju),t(null)}catch(g){console.error("Logout failed",g)}};return k.jsx(KA.Provider,{value:{user:e,setUser:t,loading:i,logout:d},children:n})},Ws=()=>{const n=C.useContext(KA);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},r4=({closeOverlay:n})=>{const{user:e,logout:t,setUser:i}=Ws(),a=za(),l=()=>{n()},c=async()=>{try{await t(),i(null),a("/login")}catch(d){console.error("Logout failed",d)}};return k.jsx("div",{className:"accountOverlay",onClick:l,children:k.jsxs("div",{className:"accountContent",children:[k.jsx("p",{children:"Account"}),k.jsxs("div",{className:"placeInRightPlace",children:[k.jsx("img",{src:(e==null?void 0:e.profilePic)??JT,className:"accountMenuPic"}),k.jsxs("div",{children:[k.jsx("p",{children:e==null?void 0:e.username}),k.jsx("p",{children:e==null?void 0:e.email})]})]}),k.jsx("hr",{}),k.jsx("div",{className:"logOut",onClick:c,children:k.jsx("p",{children:"Log out"})})]})})},Ar={purple:{default:"linear-gradient(140deg, rgb(204, 0, 250),rgb(104, 0, 168))",hover:"linear-gradient(140deg, rgb(152, 0, 186),rgb(70, 0, 114))",menu:"linear-gradient(140deg, rgb(152, 0, 186),rgb(98, 0, 136))",header:"linear-gradient(140deg, rgb(152, 0, 186),rgb(98, 0, 136))"},pink:{default:"linear-gradient(140deg, rgb(252, 0, 118),rgb(130, 0, 106))",hover:"linear-gradient(140deg, rgb(217, 0, 101),rgb(113, 0, 92))",menu:"linear-gradient(140deg, rgb(219, 0, 102),rgb(113, 0, 92))",header:"linear-gradient(140deg, rgb(219, 0, 102),rgb(113, 0, 92))"},sunrise:{default:"linear-gradient(140deg, rgb(255, 0, 157), rgb(250, 242, 0))",hover:"linear-gradient(140deg, rgb(226, 0, 139), rgb(208, 201, 0))",menu:"linear-gradient(140deg, rgb(226, 0, 139), rgb(200, 0, 100))",header:"linear-gradient(360deg, rgb(212, 0, 96), rgb(176, 170, 0))"},orange:{default:"linear-gradient(140deg, rgb(250, 196, 0),rgb(218, 91, 0))",hover:"linear-gradient(140deg, rgb(227, 178, 0),rgb(192, 80, 0))",menu:"linear-gradient(140deg, rgb(227, 178, 0),rgb(192, 80, 0))",header:"linear-gradient(140deg, rgb(227, 178, 0),rgb(192, 80, 0))"},tropical:{default:"linear-gradient(140deg, rgb(117, 250, 0),rgb(218, 0, 164))",hover:"linear-gradient(140deg, rgb(101, 217, 0),rgb(192, 0, 144))",menu:"linear-gradient(140deg, rgb(95, 205, 0),rgb(98, 178, 0))",header:"linear-gradient(360deg, rgb(81, 174, 0),rgb(182, 0, 136))"},green:{default:"linear-gradient(140deg, rgb(231, 252, 0),rgb(0, 161, 16))",hover:"linear-gradient(140deg, rgb(180, 196, 0),rgb(0, 133, 13))",menu:"linear-gradient(140deg, rgb(174, 189, 1),rgb(0, 161, 16))",header:"linear-gradient(140deg, rgb(174, 189, 1),rgb(0, 161, 16))"},seaGrass:{default:"linear-gradient(140deg, rgb(0, 221, 255), rgb(187, 250, 0))",hover:"linear-gradient(140deg, rgb(0, 193, 222), rgb(162, 216, 0))",menu:"linear-gradient(140deg, rgb(0, 193, 222), rgb(162, 216, 0))",header:"linear-gradient(140deg, rgb(0, 193, 222), rgb(162, 216, 0))"},yellow:{default:"linear-gradient(140deg, rgb(250, 250, 0),rgb(211, 151, 0))",hover:"linear-gradient(140deg, rgb(168, 168, 0),rgb(188, 138, 0))",menu:"linear-gradient(140deg, rgb(220, 220, 0),rgb(196, 141, 2))",header:"linear-gradient(140deg, rgb(220, 220, 0),rgb(196, 141, 2))"},blue:{default:"linear-gradient(140deg, rgb(0, 252, 239),rgb(2, 83, 110))",hover:"linear-gradient(140deg, rgb(3, 232, 198),rgb(0, 36, 79))",menu:"linear-gradient(140deg, rgb(3, 212, 215),rgb(0, 95, 122))",header:"linear-gradient(140deg, rgb(3, 212, 215),rgb(0, 95, 122))"}},ET=(n,e)=>{var t,i;return e?((t=Ar[n])==null?void 0:t.hover)||n:((i=Ar[n])==null?void 0:i.default)||n};function i4(n){return Fs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M362.6 192.9L345 174.8c-.7-.8-1.8-1.2-2.8-1.2-1.1 0-2.1.4-2.8 1.2l-122 122.9-44.4-44.4c-.8-.8-1.8-1.2-2.8-1.2-1 0-2 .4-2.8 1.2l-17.8 17.8c-1.6 1.6-1.6 4.1 0 5.7l56 56c3.6 3.6 8 5.7 11.7 5.7 5.3 0 9.9-3.9 11.6-5.5h.1l133.7-134.4c1.4-1.7 1.4-4.2-.1-5.7z"},child:[]}]})(n)}const s4=async(n,e,t,i)=>{const a=nc(It,"boards"),l=mn(a),c=l.id,d=new Date,g=ut.fromDate(d);try{await Wf(l,{id:c,title:t,color:i,userId:n,username:e,createdAt:g,members:[]}),console.log("Success writing doucment")}catch{console.log("Error fetching doucment")}};function a4(n){return Fs({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(n)}function dy(n){return Fs({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const $A=({closeCreateOverlay:n})=>{const[e,t]=C.useState(""),[i,a]=C.useState(""),{user:l}=Ws(),[c,d]=C.useState(""),g=C.useRef(null);C.useEffect(()=>{const b=w=>{g.current&&!g.current.contains(w.target)&&n()};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}}),C.useEffect(()=>{if(c){const b=setTimeout(()=>{d("")},2e3);return()=>clearTimeout(b)}},[c]);const p=()=>{n()},v=(b,w,V)=>{var z,O;b.currentTarget.style.background=V?((z=Ar[w])==null?void 0:z.hover)||w:((O=Ar[w])==null?void 0:O.default)||w},T=async()=>{if(console.log(e,i),e===""){d("Choose an title for the board");return}if(i===""){d("You need to choose an background");return}l&&l.username&&(await s4(l.uid,l.username,e,i),t(""),a(""),p())};return k.jsxs("div",{className:"createBoard",ref:g,children:[k.jsxs("div",{className:"createMenuHeader",children:[k.jsx("p",{id:"createTitle",children:"Create a new board"}),k.jsx("button",{onClick:p,id:"closeCreate",children:k.jsx(a4,{})})]}),k.jsx("input",{className:"createInput",value:e,onChange:b=>t(b.target.value),placeholder:"Enter the title of your board..."}),c&&k.jsx("p",{style:{color:"red"},children:c}),k.jsx("p",{children:"Choose a background"}),k.jsx("div",{className:"colorSelect",children:Object.keys(Ar).map(b=>k.jsx("div",{className:"selectColor",style:{background:Ar[b].default},onMouseEnter:w=>v(w,b,!0),onMouseLeave:w=>v(w,b,!1),onClick:()=>a(b),children:i===b?k.jsx("p",{className:"selectedBoardColor",children:k.jsx(i4,{size:30})}):k.jsx("p",{})},b))}),k.jsx("button",{className:"createBtn",onClick:T,children:"Create"})]})},al=({backgroundColor:n="default"})=>{var T;const e={background:((T=Ar[n])==null?void 0:T.header)||"linear-gradient(180deg, #018f94, #00335a)"},{user:t}=Ws(),[i,a]=C.useState(!1),[l,c]=C.useState(!1),d=za(),g=()=>{a(b=>!b)},p=()=>{c(b=>!b)},v=()=>{d("/signup")};return k.jsxs("header",{className:"header",style:e,children:[k.jsxs("div",{className:"headerLeft",children:[k.jsx("img",{id:"jellyicon",src:Ph,style:{width:110,height:"auto"}}),k.jsx(Na,{to:"/",className:"nav-link",children:k.jsx("h1",{id:"appname",children:"Jellio"})}),k.jsxs("div",{className:"nav-links",children:[k.jsx(Na,{to:"/",className:"nav-link",children:"Home"}),k.jsx(Na,{to:"/workspaces",className:"nav-link",children:"Workspaces"}),t?k.jsxs("div",{className:"createHeaderContainer",children:[k.jsx("button",{className:"createInHeader",onClick:p,children:"Create"}),k.jsx("div",{className:"createWrapper",children:l&&k.jsx($A,{closeCreateOverlay:p})})]}):k.jsx("div",{className:"createHeaderContainer",children:k.jsx("button",{className:"createInHeader",onClick:v,children:"Get started"})})]})]}),k.jsx("div",{className:"headerRight",children:t?k.jsxs(k.Fragment,{children:[k.jsx("button",{className:"profileButton",onClick:g,children:k.jsx("img",{src:t.profilePic??JT,id:"jellyProfile"})}),i&&k.jsx(r4,{closeOverlay:g})]}):k.jsx(Na,{to:"/login",children:k.jsx("button",{className:"profileButton",children:k.jsx(OC,{size:35})})})})]})},o4=()=>k.jsxs(k.Fragment,{children:[k.jsx(al,{}),k.jsx("div",{className:"homebody",children:k.jsx("div",{className:"background-container",children:k.jsx("div",{className:"wrapper",children:k.jsxs("div",{className:"content",children:[k.jsx("h1",{className:"title",children:"Jellio brings all your tasks, teammates, and tools together"}),k.jsx("p",{id:"description",children:"The best way to organize your workflow in a simple and visual way"}),k.jsx(Na,{to:"/login",children:k.jsx("button",{className:"getStartedButton",children:"Get Started"})})]})})})})]});function QA(n){return Fs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(n)}function l4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return C.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Jf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function gy(n){return"nodeType"in n}function jn(n){var e,t;return n?ol(n)?n:gy(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function my(n){const{Document:e}=jn(n);return n instanceof e}function ac(n){return ol(n)?!1:n instanceof jn(n).HTMLElement}function YA(n){return n instanceof jn(n).SVGElement}function ll(n){return n?ol(n)?n.document:gy(n)?my(n)?n:ac(n)||YA(n)?n.ownerDocument:document:document:document}const ti=Jf?C.useLayoutEffect:C.useEffect;function py(n){const e=C.useRef(n);return ti(()=>{e.current=n}),C.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function u4(){const n=C.useRef(null),e=C.useCallback((i,a)=>{n.current=setInterval(i,a)},[]),t=C.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function zu(n,e){e===void 0&&(e=[n]);const t=C.useRef(n);return ti(()=>{t.current!==n&&(t.current=n)},e),t}function oc(n,e){const t=C.useRef();return C.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function yf(n){const e=py(n),t=C.useRef(null),i=C.useCallback(a=>{a!==t.current&&(e==null||e(a,t.current)),t.current=a},[]);return[t,i]}function Jm(n){const e=C.useRef();return C.useEffect(()=>{e.current=n},[n]),e.current}let Em={};function lc(n,e){return C.useMemo(()=>{if(e)return e;const t=Em[n]==null?0:Em[n]+1;return Em[n]=t,n+"-"+t},[n,e])}function XA(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((l,c)=>{const d=Object.entries(c);for(const[g,p]of d){const v=l[g];v!=null&&(l[g]=v+n*p)}return l},{...e})}}const Ho=XA(1),vf=XA(-1);function c4(n){return"clientX"in n&&"clientY"in n}function yy(n){if(!n)return!1;const{KeyboardEvent:e}=jn(n.target);return e&&n instanceof e}function h4(n){if(!n)return!1;const{TouchEvent:e}=jn(n.target);return e&&n instanceof e}function ep(n){if(h4(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return c4(n)?{x:n.clientX,y:n.clientY}:null}const Wo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Wo.Translate.toString(n),Wo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),TT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function f4(n){return n.matches(TT)?n:n.querySelector(TT)}const d4={display:"none"};function g4(n){let{id:e,value:t}=n;return Ct.createElement("div",{id:e,style:d4},t)}function m4(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function p4(){const[n,e]=C.useState("");return{announce:C.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const WA=C.createContext(null);function y4(n){const e=C.useContext(WA);C.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function v4(){const[n]=C.useState(()=>new Set),e=C.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[C.useCallback(i=>{let{type:a,event:l}=i;n.forEach(c=>{var d;return(d=c[a])==null?void 0:d.call(c,l)})},[n]),e]}const _4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},E4={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function T4(n){let{announcements:e=E4,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=_4}=n;const{announce:l,announcement:c}=p4(),d=lc("DndLiveRegion"),[g,p]=C.useState(!1);if(C.useEffect(()=>{p(!0)},[]),y4(C.useMemo(()=>({onDragStart(T){let{active:b}=T;l(e.onDragStart({active:b}))},onDragMove(T){let{active:b,over:w}=T;e.onDragMove&&l(e.onDragMove({active:b,over:w}))},onDragOver(T){let{active:b,over:w}=T;l(e.onDragOver({active:b,over:w}))},onDragEnd(T){let{active:b,over:w}=T;l(e.onDragEnd({active:b,over:w}))},onDragCancel(T){let{active:b,over:w}=T;l(e.onDragCancel({active:b,over:w}))}}),[l,e])),!g)return null;const v=Ct.createElement(Ct.Fragment,null,Ct.createElement(g4,{id:i,value:a.draggable}),Ct.createElement(m4,{id:d,announcement:c}));return t?gu.createPortal(v,t):v}var Gt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Gt||(Gt={}));function _f(){}function bT(n,e){return C.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function b4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return C.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Ir=Object.freeze({x:0,y:0});function w4(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function A4(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function S4(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function R4(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function wT(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const C4=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=wT(e,e.left,e.top),l=[];for(const c of i){const{id:d}=c,g=t.get(d);if(g){const p=w4(wT(g),a);l.push({id:d,data:{droppableContainer:c,value:p}})}}return l.sort(A4)};function I4(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),c=a-i,d=l-t;if(i<a&&t<l){const g=e.width*e.height,p=n.width*n.height,v=c*d,T=v/(g+p-v);return Number(T.toFixed(4))}return 0}const D4=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=[];for(const l of i){const{id:c}=l,d=t.get(c);if(d){const g=I4(d,e);g>0&&a.push({id:c,data:{droppableContainer:l,value:g}})}}return a.sort(S4)};function N4(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function ZA(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Ir}function O4(n){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((c,d)=>({...c,top:c.top+n*d.y,bottom:c.bottom+n*d.y,left:c.left+n*d.x,right:c.right+n*d.x}),{...t})}}const x4=O4(1);function M4(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function k4(n,e,t){const i=M4(e);if(!i)return n;const{scaleX:a,scaleY:l,x:c,y:d}=i,g=n.left-c-(1-a)*parseFloat(t),p=n.top-d-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),v=a?n.width/a:n.width,T=l?n.height/l:n.height;return{width:v,height:T,top:p,right:g+v,bottom:p+T,left:g}}const V4={ignoreTransform:!1};function ul(n,e){e===void 0&&(e=V4);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:v}=jn(n).getComputedStyle(n);p&&(t=k4(t,p,v))}const{top:i,left:a,width:l,height:c,bottom:d,right:g}=t;return{top:i,left:a,width:l,height:c,bottom:d,right:g}}function AT(n){return ul(n,{ignoreTransform:!0})}function P4(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function L4(n,e){return e===void 0&&(e=jn(n).getComputedStyle(n)),e.position==="fixed"}function U4(n,e){e===void 0&&(e=jn(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?t.test(l):!1})}function vy(n,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(my(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!ac(a)||YA(a)||t.includes(a))return t;const l=jn(n).getComputedStyle(a);return a!==n&&U4(a,l)&&t.push(a),L4(a,l)?t:i(a.parentNode)}return n?i(n):t}function JA(n){const[e]=vy(n,1);return e??null}function Tm(n){return!Jf||!n?null:ol(n)?n:gy(n)?my(n)||n===ll(n).scrollingElement?window:ac(n)?n:null:null}function eS(n){return ol(n)?n.scrollX:n.scrollLeft}function tS(n){return ol(n)?n.scrollY:n.scrollTop}function tp(n){return{x:eS(n),y:tS(n)}}var nn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(nn||(nn={}));function nS(n){return!Jf||!n?!1:n===document.scrollingElement}function rS(n){const e={x:0,y:0},t=nS(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,c=n.scrollTop>=i.y,d=n.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:c,isRight:d,maxScroll:i,minScroll:e}}const B4={x:.2,y:.2};function j4(n,e,t,i,a){let{top:l,left:c,right:d,bottom:g}=t;i===void 0&&(i=10),a===void 0&&(a=B4);const{isTop:p,isBottom:v,isLeft:T,isRight:b}=rS(n),w={x:0,y:0},V={x:0,y:0},z={height:e.height*a.y,width:e.width*a.x};return!p&&l<=e.top+z.height?(w.y=nn.Backward,V.y=i*Math.abs((e.top+z.height-l)/z.height)):!v&&g>=e.bottom-z.height&&(w.y=nn.Forward,V.y=i*Math.abs((e.bottom-z.height-g)/z.height)),!b&&d>=e.right-z.width?(w.x=nn.Forward,V.x=i*Math.abs((e.right-z.width-d)/z.width)):!T&&c<=e.left+z.width&&(w.x=nn.Backward,V.x=i*Math.abs((e.left+z.width-c)/z.width)),{direction:w,speed:V}}function z4(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:t,right:i,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:n.clientWidth,height:n.clientHeight}}function iS(n){return n.reduce((e,t)=>Ho(e,tp(t)),Ir)}function H4(n){return n.reduce((e,t)=>e+eS(t),0)}function q4(n){return n.reduce((e,t)=>e+tS(t),0)}function F4(n,e){if(e===void 0&&(e=ul),!n)return;const{top:t,left:i,bottom:a,right:l}=e(n);JA(n)&&(a<=0||l<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const G4=[["x",["left","right"],H4],["y",["top","bottom"],q4]];class _y{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=vy(t),a=iS(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,d]of G4)for(const g of c)Object.defineProperty(this,g,{get:()=>{const p=d(i),v=a[l]-p;return this.rect[g]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function K4(n){const{EventTarget:e}=jn(n);return n instanceof e?n:ll(n)}function bm(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var pr;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(pr||(pr={}));function ST(n){n.preventDefault()}function $4(n){n.stopPropagation()}var $e;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})($e||($e={}));const sS={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},Q4=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case $e.Right:return{...t,x:t.x+25};case $e.Left:return{...t,x:t.x-25};case $e.Down:return{...t,y:t.y+25};case $e.Up:return{...t,y:t.y-25}}};class Ey{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Cu(ll(t)),this.windowListeners=new Cu(jn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pr.Resize,this.handleCancel),this.windowListeners.add(pr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(pr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&F4(i),t(Ir)}handleKeyDown(e){if(yy(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:l=sS,coordinateGetter:c=Q4,scrollBehavior:d="smooth"}=a,{code:g}=e;if(l.end.includes(g)){this.handleEnd(e);return}if(l.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=i.current,v=p?{x:p.left,y:p.top}:Ir;this.referenceCoordinates||(this.referenceCoordinates=v);const T=c(e,{active:t,context:i.current,currentCoordinates:v});if(T){const b=vf(T,v),w={x:0,y:0},{scrollableAncestors:V}=i.current;for(const z of V){const O=e.code,{isTop:B,isRight:K,isLeft:$,isBottom:ie,maxScroll:ee,minScroll:ae}=rS(z),M=z4(z),I={x:Math.min(O===$e.Right?M.right-M.width/2:M.right,Math.max(O===$e.Right?M.left:M.left+M.width/2,T.x)),y:Math.min(O===$e.Down?M.bottom-M.height/2:M.bottom,Math.max(O===$e.Down?M.top:M.top+M.height/2,T.y))},R=O===$e.Right&&!K||O===$e.Left&&!$,D=O===$e.Down&&!ie||O===$e.Up&&!B;if(R&&I.x!==T.x){const P=z.scrollLeft+b.x,U=O===$e.Right&&P<=ee.x||O===$e.Left&&P>=ae.x;if(U&&!b.y){z.scrollTo({left:P,behavior:d});return}U?w.x=z.scrollLeft-P:w.x=O===$e.Right?z.scrollLeft-ee.x:z.scrollLeft-ae.x,w.x&&z.scrollBy({left:-w.x,behavior:d});break}else if(D&&I.y!==T.y){const P=z.scrollTop+b.y,U=O===$e.Down&&P<=ee.y||O===$e.Up&&P>=ae.y;if(U&&!b.x){z.scrollTo({top:P,behavior:d});return}U?w.y=z.scrollTop-P:w.y=O===$e.Down?z.scrollTop-ee.y:z.scrollTop-ae.y,w.y&&z.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(e,Ho(vf(T,this.referenceCoordinates),w))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ey.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=sS,onActivation:a}=e,{active:l}=t;const{code:c}=n.nativeEvent;if(i.start.includes(c)){const d=l.activatorNode.current;return d&&n.target!==d?!1:(n.preventDefault(),a==null||a({event:n.nativeEvent}),!0)}return!1}}];function RT(n){return!!(n&&"distance"in n)}function CT(n){return!!(n&&"delay"in n)}class Ty{constructor(e,t,i){var a;i===void 0&&(i=K4(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:c}=l;this.props=e,this.events=t,this.document=ll(c),this.documentListeners=new Cu(this.document),this.listeners=new Cu(i),this.windowListeners=new Cu(jn(c)),this.initialCoordinates=(a=ep(l))!=null?a:Ir,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(pr.Resize,this.handleCancel),this.windowListeners.add(pr.DragStart,ST),this.windowListeners.add(pr.VisibilityChange,this.handleCancel),this.windowListeners.add(pr.ContextMenu,ST),this.documentListeners.add(pr.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(CT(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(RT(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(pr.Click,$4,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:d}}=l;if(!a)return;const g=(t=ep(e))!=null?t:Ir,p=vf(a,g);if(!i&&d){if(RT(d)){if(d.tolerance!=null&&bm(p,d.tolerance))return this.handleCancel();if(bm(p,d.distance))return this.handleStart()}if(CT(d)&&bm(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}e.cancelable&&e.preventDefault(),c(g)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Y4={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class aS extends Ty{constructor(e){const{event:t}=e,i=ll(t.target);super(e,Y4,i)}}aS.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i==null||i({event:t}),!0)}}];const X4={move:{name:"mousemove"},end:{name:"mouseup"}};var np;(function(n){n[n.RightClick=2]="RightClick"})(np||(np={}));class oS extends Ty{constructor(e){super(e,X4,ll(e.event.target))}}oS.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===np.RightClick?!1:(i==null||i({event:t}),!0)}}];const wm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class W4 extends Ty{constructor(e){super(e,wm)}static setup(){return window.addEventListener(wm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wm.move.name,e)};function e(){}}}W4.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i==null||i({event:t}),!0)}}];var Iu;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Iu||(Iu={}));var Ef;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ef||(Ef={}));function Z4(n){let{acceleration:e,activator:t=Iu.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:c=5,order:d=Ef.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:v,delta:T,threshold:b}=n;const w=eV({delta:T,disabled:!l}),[V,z]=u4(),O=C.useRef({x:0,y:0}),B=C.useRef({x:0,y:0}),K=C.useMemo(()=>{switch(t){case Iu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Iu.DraggableRect:return a}},[t,a,g]),$=C.useRef(null),ie=C.useCallback(()=>{const ae=$.current;if(!ae)return;const M=O.current.x*B.current.x,I=O.current.y*B.current.y;ae.scrollBy(M,I)},[]),ee=C.useMemo(()=>d===Ef.TreeOrder?[...p].reverse():p,[d,p]);C.useEffect(()=>{if(!l||!p.length||!K){z();return}for(const ae of ee){if((i==null?void 0:i(ae))===!1)continue;const M=p.indexOf(ae),I=v[M];if(!I)continue;const{direction:R,speed:D}=j4(ae,I,K,e,b);for(const P of["x","y"])w[P][R[P]]||(D[P]=0,R[P]=0);if(D.x>0||D.y>0){z(),$.current=ae,V(ie,c),O.current=D,B.current=R;return}}O.current={x:0,y:0},B.current={x:0,y:0},z()},[e,ie,i,z,l,c,JSON.stringify(K),JSON.stringify(w),V,p,ee,v,JSON.stringify(b)])}const J4={x:{[nn.Backward]:!1,[nn.Forward]:!1},y:{[nn.Backward]:!1,[nn.Forward]:!1}};function eV(n){let{delta:e,disabled:t}=n;const i=Jm(e);return oc(a=>{if(t||!i||!a)return J4;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[nn.Backward]:a.x[nn.Backward]||l.x===-1,[nn.Forward]:a.x[nn.Forward]||l.x===1},y:{[nn.Backward]:a.y[nn.Backward]||l.y===-1,[nn.Forward]:a.y[nn.Forward]||l.y===1}}},[t,e,i])}function tV(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return oc(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function nV(n,e){return C.useMemo(()=>n.reduce((t,i)=>{const{sensor:a}=i,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,i)}));return[...t,...l]},[]),[n,e])}var Hu;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Hu||(Hu={}));var rp;(function(n){n.Optimized="optimized"})(rp||(rp={}));const IT=new Map;function rV(n,e){let{dragging:t,dependencies:i,config:a}=e;const[l,c]=C.useState(null),{frequency:d,measure:g,strategy:p}=a,v=C.useRef(n),T=O(),b=zu(T),w=C.useCallback(function(B){B===void 0&&(B=[]),!b.current&&c(K=>K===null?B:K.concat(B.filter($=>!K.includes($))))},[b]),V=C.useRef(null),z=oc(B=>{if(T&&!t)return IT;if(!B||B===IT||v.current!==n||l!=null){const K=new Map;for(let $ of n){if(!$)continue;if(l&&l.length>0&&!l.includes($.id)&&$.rect.current){K.set($.id,$.rect.current);continue}const ie=$.node.current,ee=ie?new _y(g(ie),ie):null;$.rect.current=ee,ee&&K.set($.id,ee)}return K}return B},[n,l,t,T,g]);return C.useEffect(()=>{v.current=n},[n]),C.useEffect(()=>{T||w()},[t,T]),C.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),C.useEffect(()=>{T||typeof d!="number"||V.current!==null||(V.current=setTimeout(()=>{w(),V.current=null},d))},[d,T,w,...i]),{droppableRects:z,measureDroppableContainers:w,measuringScheduled:l!=null};function O(){switch(p){case Hu.Always:return!1;case Hu.BeforeDragging:return t;default:return!t}}}function lS(n,e){return oc(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function iV(n,e){return lS(n,e)}function sV(n){let{callback:e,disabled:t}=n;const i=py(e),a=C.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,t]);return C.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function ed(n){let{callback:e,disabled:t}=n;const i=py(e),a=C.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[t]);return C.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function aV(n){return new _y(ul(n),n)}function DT(n,e,t){e===void 0&&(e=aV);const[i,a]=C.useState(null);function l(){a(g=>{if(!n)return null;if(n.isConnected===!1){var p;return(p=g??t)!=null?p:null}const v=e(n);return JSON.stringify(g)===JSON.stringify(v)?g:v})}const c=sV({callback(g){if(n)for(const p of g){const{type:v,target:T}=p;if(v==="childList"&&T instanceof HTMLElement&&T.contains(n)){l();break}}}}),d=ed({callback:l});return ti(()=>{l(),n?(d==null||d.observe(n),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),c==null||c.disconnect())},[n]),i}function oV(n){const e=lS(n);return ZA(n,e)}const NT=[];function lV(n){const e=C.useRef(n),t=oc(i=>n?i&&i!==NT&&n&&e.current&&n.parentNode===e.current.parentNode?i:vy(n):NT,[n]);return C.useEffect(()=>{e.current=n},[n]),t}function uV(n){const[e,t]=C.useState(null),i=C.useRef(n),a=C.useCallback(l=>{const c=Tm(l.target);c&&t(d=>d?(d.set(c,tp(c)),new Map(d)):null)},[]);return C.useEffect(()=>{const l=i.current;if(n!==l){c(l);const d=n.map(g=>{const p=Tm(g);return p?(p.addEventListener("scroll",a,{passive:!0}),[p,tp(p)]):null}).filter(g=>g!=null);t(d.length?new Map(d):null),i.current=n}return()=>{c(n),c(l)};function c(d){d.forEach(g=>{const p=Tm(g);p==null||p.removeEventListener("scroll",a)})}},[a,n]),C.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,c)=>Ho(l,c),Ir):iS(n):Ir,[n,e])}function OT(n,e){e===void 0&&(e=[]);const t=C.useRef(null);return C.useEffect(()=>{t.current=null},e),C.useEffect(()=>{const i=n!==Ir;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?vf(n,t.current):Ir}function cV(n){C.useEffect(()=>{if(!Jf)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function hV(n,e){return C.useMemo(()=>n.reduce((t,i)=>{let{eventName:a,handler:l}=i;return t[a]=c=>{l(c,e)},t},{}),[n,e])}function uS(n){return C.useMemo(()=>n?P4(n):null,[n])}const xT=[];function fV(n,e){e===void 0&&(e=ul);const[t]=n,i=uS(t?jn(t):null),[a,l]=C.useState(xT);function c(){l(()=>n.length?n.map(g=>nS(g)?i:new _y(e(g),g)):xT)}const d=ed({callback:c});return ti(()=>{d==null||d.disconnect(),c(),n.forEach(g=>d==null?void 0:d.observe(g))},[n]),a}function dV(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ac(e)?e:n}function gV(n){let{measure:e}=n;const[t,i]=C.useState(null),a=C.useCallback(p=>{for(const{target:v}of p)if(ac(v)){i(T=>{const b=e(v);return T?{...T,width:b.width,height:b.height}:b});break}},[e]),l=ed({callback:a}),c=C.useCallback(p=>{const v=dV(p);l==null||l.disconnect(),v&&(l==null||l.observe(v)),i(v?e(v):null)},[e,l]),[d,g]=yf(c);return C.useMemo(()=>({nodeRef:d,rect:t,setRef:g}),[t,d,g])}const mV=[{sensor:aS,options:{}},{sensor:Ey,options:{}}],pV={current:{}},$h={draggable:{measure:AT},droppable:{measure:AT,strategy:Hu.WhileDragging,frequency:rp.Optimized},dragOverlay:{measure:ul}};class Du extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const yV={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Du,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_f},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$h,measureDroppableContainers:_f,windowRect:null,measuringScheduled:!1},vV={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_f,draggableNodes:new Map,over:null,measureDroppableContainers:_f},td=C.createContext(vV),cS=C.createContext(yV);function _V(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Du}}}function EV(n,e){switch(e.type){case Gt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Gt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Gt.DragEnd:case Gt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Gt.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Du(n.droppable.containers);return a.set(i,t),{...n,droppable:{...n.droppable,containers:a}}}case Gt.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,l=n.droppable.containers.get(t);if(!l||i!==l.key)return n;const c=new Du(n.droppable.containers);return c.set(t,{...l,disabled:a}),{...n,droppable:{...n.droppable,containers:c}}}case Gt.UnregisterDroppable:{const{id:t,key:i}=e,a=n.droppable.containers.get(t);if(!a||i!==a.key)return n;const l=new Du(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function TV(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:a}=C.useContext(td),l=Jm(i),c=Jm(t==null?void 0:t.id);return C.useEffect(()=>{if(!e&&!i&&l&&c!=null){if(!yy(l)||document.activeElement===l.target)return;const d=a.get(c);if(!d)return;const{activatorNode:g,node:p}=d;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const v of[g.current,p.current]){if(!v)continue;const T=f4(v);if(T){T.focus();break}}})}},[i,e,a,c,l]),null}function bV(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((a,l)=>l({transform:a,...i}),t):t}function wV(n){return C.useMemo(()=>({draggable:{...$h.draggable,...n==null?void 0:n.draggable},droppable:{...$h.droppable,...n==null?void 0:n.droppable},dragOverlay:{...$h.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function AV(n){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=n;const l=C.useRef(!1),{x:c,y:d}=typeof a=="boolean"?{x:a,y:a}:a;ti(()=>{if(!c&&!d||!e){l.current=!1;return}if(l.current||!i)return;const p=e==null?void 0:e.node.current;if(!p||p.isConnected===!1)return;const v=t(p),T=ZA(v,i);if(c||(T.x=0),d||(T.y=0),l.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const b=JA(p);b&&b.scrollBy({top:T.y,left:T.x})}},[e,c,d,i,t])}const hS=C.createContext({...Ir,scaleX:1,scaleY:1});var ws;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(ws||(ws={}));const SV=C.memo(function(e){var t,i,a,l;let{id:c,accessibility:d,autoScroll:g=!0,children:p,sensors:v=mV,collisionDetection:T=D4,measuring:b,modifiers:w,...V}=e;const z=C.useReducer(EV,void 0,_V),[O,B]=z,[K,$]=v4(),[ie,ee]=C.useState(ws.Uninitialized),ae=ie===ws.Initialized,{draggable:{active:M,nodes:I,translate:R},droppable:{containers:D}}=O,P=M!=null?I.get(M):null,U=C.useRef({initial:null,translated:null}),x=C.useMemo(()=>{var at;return M!=null?{id:M,data:(at=P==null?void 0:P.data)!=null?at:pV,rect:U}:null},[M,P]),Qe=C.useRef(null),[et,oe]=C.useState(null),[ge,me]=C.useState(null),Ne=zu(V,Object.values(V)),L=lc("DndDescribedBy",c),re=C.useMemo(()=>D.getEnabled(),[D]),ce=wV(b),{droppableRects:le,measureDroppableContainers:ue,measuringScheduled:Ae}=rV(re,{dragging:ae,dependencies:[R.x,R.y],config:ce.droppable}),_e=tV(I,M),it=C.useMemo(()=>ge?ep(ge):null,[ge]),Ie=er(),qe=iV(_e,ce.draggable.measure);AV({activeNode:M!=null?I.get(M):null,config:Ie.layoutShiftCompensation,initialRect:qe,measure:ce.draggable.measure});const ye=DT(_e,ce.draggable.measure,qe),wt=DT(_e?_e.parentElement:null),Dt=C.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Vt=D.getNodeFor((t=Dt.current.over)==null?void 0:t.id),$t=gV({measure:ce.dragOverlay.measure}),Cn=(i=$t.nodeRef.current)!=null?i:_e,pn=ae?(a=$t.rect)!=null?a:ye:null,qi=!!($t.nodeRef.current&&$t.rect),si=oV(qi?null:ye),Dr=uS(Cn?jn(Cn):null),yn=lV(ae?Vt??_e:null),vr=fV(yn),Fi=bV(w,{transform:{x:R.x-si.x,y:R.y-si.y,scaleX:1,scaleY:1},activatorEvent:ge,active:x,activeNodeRect:ye,containerNodeRect:wt,draggingNodeRect:pn,over:Dt.current.over,overlayNodeRect:$t.rect,scrollableAncestors:yn,scrollableAncestorRects:vr,windowRect:Dr}),Gi=it?Ho(it,R):null,rn=uV(yn),Ga=OT(rn),At=OT(rn,[ye]),st=Ho(Fi,Ga),vn=pn?x4(pn,Fi):null,Nr=x&&vn?T({active:x,collisionRect:vn,droppableRects:le,droppableContainers:re,pointerCoordinates:Gi}):null,Ki=R4(Nr,"id"),[Jn,Or]=C.useState(null),xr=qi?Fi:Ho(Fi,At),Qt=N4(xr,(l=Jn==null?void 0:Jn.rect)!=null?l:null,ye),ai=C.useRef(null),zn=C.useCallback((at,ot)=>{let{sensor:tt,options:an}=ot;if(Qe.current==null)return;const Pt=I.get(Qe.current);if(!Pt)return;const Lt=at.nativeEvent,Ut=new tt({active:Qe.current,activeNode:Pt,event:Lt,options:an,context:Dt,onAbort(Oe){if(!I.get(Oe))return;const{onDragAbort:Bt}=Ne.current,Yt={id:Oe};Bt==null||Bt(Yt),K({type:"onDragAbort",event:Yt})},onPending(Oe,qn,Bt,Yt){if(!I.get(Oe))return;const{onDragPending:kr}=Ne.current,on={id:Oe,constraint:qn,initialCoordinates:Bt,offset:Yt};kr==null||kr(on),K({type:"onDragPending",event:on})},onStart(Oe){const qn=Qe.current;if(qn==null)return;const Bt=I.get(qn);if(!Bt)return;const{onDragStart:Yt}=Ne.current,Mr={activatorEvent:Lt,active:{id:qn,data:Bt.data,rect:U}};gu.unstable_batchedUpdates(()=>{Yt==null||Yt(Mr),ee(ws.Initializing),B({type:Gt.DragStart,initialCoordinates:Oe,active:qn}),K({type:"onDragStart",event:Mr}),oe(ai.current),me(Lt)})},onMove(Oe){B({type:Gt.DragMove,coordinates:Oe})},onEnd:Hn(Gt.DragEnd),onCancel:Hn(Gt.DragCancel)});ai.current=Ut;function Hn(Oe){return async function(){const{active:Bt,collisions:Yt,over:Mr,scrollAdjustedTranslate:kr}=Dt.current;let on=null;if(Bt&&kr){const{cancelDrop:_n}=Ne.current;on={activatorEvent:Lt,active:Bt,collisions:Yt,delta:kr,over:Mr},Oe===Gt.DragEnd&&typeof _n=="function"&&await Promise.resolve(_n(on))&&(Oe=Gt.DragCancel)}Qe.current=null,gu.unstable_batchedUpdates(()=>{B({type:Oe}),ee(ws.Uninitialized),Or(null),oe(null),me(null),ai.current=null;const _n=Oe===Gt.DragEnd?"onDragEnd":"onDragCancel";if(on){const pt=Ne.current[_n];pt==null||pt(on),K({type:_n,event:on})}})}}},[I]),sn=C.useCallback((at,ot)=>(tt,an)=>{const Pt=tt.nativeEvent,Lt=I.get(an);if(Qe.current!==null||!Lt||Pt.dndKit||Pt.defaultPrevented)return;const Ut={active:Lt};at(tt,ot.options,Ut)===!0&&(Pt.dndKit={capturedBy:ot.sensor},Qe.current=an,zn(tt,ot))},[I,zn]),$i=nV(v,sn);cV(v),ti(()=>{ye&&ie===ws.Initializing&&ee(ws.Initialized)},[ye,ie]),C.useEffect(()=>{const{onDragMove:at}=Ne.current,{active:ot,activatorEvent:tt,collisions:an,over:Pt}=Dt.current;if(!ot||!tt)return;const Lt={active:ot,activatorEvent:tt,collisions:an,delta:{x:st.x,y:st.y},over:Pt};gu.unstable_batchedUpdates(()=>{at==null||at(Lt),K({type:"onDragMove",event:Lt})})},[st.x,st.y]),C.useEffect(()=>{const{active:at,activatorEvent:ot,collisions:tt,droppableContainers:an,scrollAdjustedTranslate:Pt}=Dt.current;if(!at||Qe.current==null||!ot||!Pt)return;const{onDragOver:Lt}=Ne.current,Ut=an.get(Ki),Hn=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,Oe={active:at,activatorEvent:ot,collisions:tt,delta:{x:Pt.x,y:Pt.y},over:Hn};gu.unstable_batchedUpdates(()=>{Or(Hn),Lt==null||Lt(Oe),K({type:"onDragOver",event:Oe})})},[Ki]),ti(()=>{Dt.current={activatorEvent:ge,active:x,activeNode:_e,collisionRect:vn,collisions:Nr,droppableRects:le,draggableNodes:I,draggingNode:Cn,draggingNodeRect:pn,droppableContainers:D,over:Jn,scrollableAncestors:yn,scrollAdjustedTranslate:st},U.current={initial:pn,translated:vn}},[x,_e,Nr,vn,I,Cn,pn,le,D,Jn,yn,st]),Z4({...Ie,delta:R,draggingRect:vn,pointerCoordinates:Gi,scrollableAncestors:yn,scrollableAncestorRects:vr});const Ka=C.useMemo(()=>({active:x,activeNode:_e,activeNodeRect:ye,activatorEvent:ge,collisions:Nr,containerNodeRect:wt,dragOverlay:$t,draggableNodes:I,droppableContainers:D,droppableRects:le,over:Jn,measureDroppableContainers:ue,scrollableAncestors:yn,scrollableAncestorRects:vr,measuringConfiguration:ce,measuringScheduled:Ae,windowRect:Dr}),[x,_e,ye,ge,Nr,wt,$t,I,D,le,Jn,ue,yn,vr,ce,Ae,Dr]),$a=C.useMemo(()=>({activatorEvent:ge,activators:$i,active:x,activeNodeRect:ye,ariaDescribedById:{draggable:L},dispatch:B,draggableNodes:I,over:Jn,measureDroppableContainers:ue}),[ge,$i,x,ye,B,L,I,Jn,ue]);return Ct.createElement(WA.Provider,{value:$},Ct.createElement(td.Provider,{value:$a},Ct.createElement(cS.Provider,{value:Ka},Ct.createElement(hS.Provider,{value:Qt},p)),Ct.createElement(TV,{disabled:(d==null?void 0:d.restoreFocus)===!1})),Ct.createElement(T4,{...d,hiddenTextDescribedById:L}));function er(){const at=(et==null?void 0:et.autoScrollEnabled)===!1,ot=typeof g=="object"?g.enabled===!1:g===!1,tt=ae&&!at&&!ot;return typeof g=="object"?{...g,enabled:tt}:{enabled:tt}}}),RV=C.createContext(null),MT="button",CV="Draggable";function IV(n){let{id:e,data:t,disabled:i=!1,attributes:a}=n;const l=lc(CV),{activators:c,activatorEvent:d,active:g,activeNodeRect:p,ariaDescribedById:v,draggableNodes:T,over:b}=C.useContext(td),{role:w=MT,roleDescription:V="draggable",tabIndex:z=0}=a??{},O=(g==null?void 0:g.id)===e,B=C.useContext(O?hS:RV),[K,$]=yf(),[ie,ee]=yf(),ae=hV(c,e),M=zu(t);ti(()=>(T.set(e,{id:e,key:l,node:K,activatorNode:ie,data:M}),()=>{const R=T.get(e);R&&R.key===l&&T.delete(e)}),[T,e]);const I=C.useMemo(()=>({role:w,tabIndex:z,"aria-disabled":i,"aria-pressed":O&&w===MT?!0:void 0,"aria-roledescription":V,"aria-describedby":v.draggable}),[i,w,z,O,V,v.draggable]);return{active:g,activatorEvent:d,activeNodeRect:p,attributes:I,isDragging:O,listeners:i?void 0:ae,node:K,over:b,setNodeRef:$,setActivatorNodeRef:ee,transform:B}}function DV(){return C.useContext(cS)}const NV="Droppable",OV={timeout:25};function xV(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=n;const l=lc(NV),{active:c,dispatch:d,over:g,measureDroppableContainers:p}=C.useContext(td),v=C.useRef({disabled:t}),T=C.useRef(!1),b=C.useRef(null),w=C.useRef(null),{disabled:V,updateMeasurementsFor:z,timeout:O}={...OV,...a},B=zu(z??i),K=C.useCallback(()=>{if(!T.current){T.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(B.current)?B.current:[B.current]),w.current=null},O)},[O]),$=ed({callback:K,disabled:V||!c}),ie=C.useCallback((I,R)=>{$&&(R&&($.unobserve(R),T.current=!1),I&&$.observe(I))},[$]),[ee,ae]=yf(ie),M=zu(e);return C.useEffect(()=>{!$||!ee.current||($.disconnect(),T.current=!1,$.observe(ee.current))},[ee,$]),C.useEffect(()=>(d({type:Gt.RegisterDroppable,element:{id:i,key:l,disabled:t,node:ee,rect:b,data:M}}),()=>d({type:Gt.UnregisterDroppable,key:l,id:i})),[i]),C.useEffect(()=>{t!==v.current.disabled&&(d({type:Gt.SetDroppableDisabled,id:i,key:l,disabled:t}),v.current.disabled=t)},[i,l,t,d]),{active:c,rect:b,isOver:(g==null?void 0:g.id)===i,node:ee,over:g,setNodeRef:ae}}function Tf(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function MV(n,e){return n.reduce((t,i,a)=>{const l=e.get(i);return l&&(t[a]=l),t},Array(n.length))}function xh(n){return n!==null&&n>=0}function kV(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function VV(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const fS=n=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=n;const l=Tf(e,i,t),c=e[a],d=l[a];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Mh={scaleX:1,scaleY:1},PV=n=>{var e;let{activeIndex:t,activeNodeRect:i,index:a,rects:l,overIndex:c}=n;const d=(e=l[t])!=null?e:i;if(!d)return null;if(a===t){const p=l[c];return p?{x:0,y:t<c?p.top+p.height-(d.top+d.height):p.top-d.top,...Mh}:null}const g=LV(l,a,t);return a>t&&a<=c?{x:0,y:-d.height-g,...Mh}:a<t&&a>=c?{x:0,y:d.height+g,...Mh}:{x:0,y:0,...Mh}};function LV(n,e,t){const i=n[e],a=n[e-1],l=n[e+1];return i?t<e?a?i.top-(a.top+a.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0}const dS="Sortable",gS=Ct.createContext({activeIndex:-1,containerId:dS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fS,disabled:{draggable:!1,droppable:!1}});function mS(n){let{children:e,id:t,items:i,strategy:a=fS,disabled:l=!1}=n;const{active:c,dragOverlay:d,droppableRects:g,over:p,measureDroppableContainers:v}=DV(),T=lc(dS,t),b=d.rect!==null,w=C.useMemo(()=>i.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[i]),V=c!=null,z=c?w.indexOf(c.id):-1,O=p?w.indexOf(p.id):-1,B=C.useRef(w),K=!kV(w,B.current),$=O!==-1&&z===-1||K,ie=VV(l);ti(()=>{K&&V&&v(w)},[K,w,V,v]),C.useEffect(()=>{B.current=w},[w]);const ee=C.useMemo(()=>({activeIndex:z,containerId:T,disabled:ie,disableTransforms:$,items:w,overIndex:O,useDragOverlay:b,sortedRects:MV(w,g),strategy:a}),[z,T,ie.draggable,ie.droppable,$,w,O,g,b,a]);return Ct.createElement(gS.Provider,{value:ee},e)}const UV=n=>{let{id:e,items:t,activeIndex:i,overIndex:a}=n;return Tf(t,i,a).indexOf(e)},BV=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:l,newIndex:c,previousItems:d,previousContainerId:g,transition:p}=n;return!p||!i||d!==l&&a===c?!1:t?!0:c!==a&&e===g},jV={duration:200,easing:"ease"},pS="transform",zV=Wo.Transition.toString({property:pS,duration:0,easing:"linear"}),HV={roleDescription:"sortable"};function qV(n){let{disabled:e,index:t,node:i,rect:a}=n;const[l,c]=C.useState(null),d=C.useRef(t);return ti(()=>{if(!e&&t!==d.current&&i.current){const g=a.current;if(g){const p=ul(i.current,{ignoreTransform:!0}),v={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(v.x||v.y)&&c(v)}}t!==d.current&&(d.current=t)},[e,t,i,a]),C.useEffect(()=>{l&&c(null)},[l]),l}function yS(n){let{animateLayoutChanges:e=BV,attributes:t,disabled:i,data:a,getNewIndex:l=UV,id:c,strategy:d,resizeObserverConfig:g,transition:p=jV}=n;const{items:v,containerId:T,activeIndex:b,disabled:w,disableTransforms:V,sortedRects:z,overIndex:O,useDragOverlay:B,strategy:K}=C.useContext(gS),$=FV(i,w),ie=v.indexOf(c),ee=C.useMemo(()=>({sortable:{containerId:T,index:ie,items:v},...a}),[T,a,ie,v]),ae=C.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:M,node:I,isOver:R,setNodeRef:D}=xV({id:c,data:ee,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...g}}),{active:P,activatorEvent:U,activeNodeRect:x,attributes:Qe,setNodeRef:et,listeners:oe,isDragging:ge,over:me,setActivatorNodeRef:Ne,transform:L}=IV({id:c,data:ee,attributes:{...HV,...t},disabled:$.draggable}),re=l4(D,et),ce=!!P,le=ce&&!V&&xh(b)&&xh(O),ue=!B&&ge,Ae=ue&&le?L:null,it=le?Ae??(d??K)({rects:z,activeNodeRect:x,activeIndex:b,overIndex:O,index:ie}):null,Ie=xh(b)&&xh(O)?l({id:c,items:v,activeIndex:b,overIndex:O}):ie,qe=P==null?void 0:P.id,ye=C.useRef({activeId:qe,items:v,newIndex:Ie,containerId:T}),wt=v!==ye.current.items,Dt=e({active:P,containerId:T,isDragging:ge,isSorting:ce,id:c,index:ie,items:v,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:p,wasDragging:ye.current.activeId!=null}),Vt=qV({disabled:!Dt,index:ie,node:I,rect:M});return C.useEffect(()=>{ce&&ye.current.newIndex!==Ie&&(ye.current.newIndex=Ie),T!==ye.current.containerId&&(ye.current.containerId=T),v!==ye.current.items&&(ye.current.items=v)},[ce,Ie,T,v]),C.useEffect(()=>{if(qe===ye.current.activeId)return;if(qe!=null&&ye.current.activeId==null){ye.current.activeId=qe;return}const Cn=setTimeout(()=>{ye.current.activeId=qe},50);return()=>clearTimeout(Cn)},[qe]),{active:P,activeIndex:b,attributes:Qe,data:ee,rect:M,index:ie,newIndex:Ie,items:v,isOver:R,isSorting:ce,isDragging:ge,listeners:oe,node:I,overIndex:O,over:me,setNodeRef:re,setActivatorNodeRef:Ne,setDroppableNodeRef:D,setDraggableNodeRef:et,transform:Vt??it,transition:$t()};function $t(){if(Vt||wt&&ye.current.newIndex===ie)return zV;if(!(ue&&!yy(U)||!p)&&(ce||Dt))return Wo.Transition.toString({...p,property:pS})}}function FV(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:e.droppable}}$e.Down,$e.Right,$e.Up,$e.Left;function vS(n){return Fs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(n)}const GV=async(n,e,t)=>{try{const i=mn(It,"boards",n,"lists",e.toString()),a=await sc(i);if(!a.exists())return console.log("List does not exist"),!1;const c=a.data().cards.map(d=>d.id===t.id?{...d,...t}:d);return await Hs(i,{cards:c}),console.log("Card updated successfully"),!0}catch(i){return console.log("Error updating card in db",i),!1}},KV=({card:n,removeCard:e,boardId:t,listId:i})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:d,transition:g}=yS({id:n.id}),[p,v]=C.useState(!1),[T,b]=C.useState(n.content),w=C.useRef(null);C.useEffect(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`)},[T,p]);const V={transform:Wo.Transform.toString(d),transition:g},z=()=>{b(n.content),v(!0)},O=K=>{K.preventDefault(),v(!1),T.length>0&&(n.content=T,GV(t,i,{id:n.id,content:T}))},B=K=>{K.key==="Enter"&&(K.preventDefault(),O(K))};return k.jsx("div",{className:"cardContainer",style:V,ref:c,...a,...l,children:p?k.jsx("form",{onSubmit:O,children:k.jsx("textarea",{ref:w,value:T,className:"inputCard",onChange:K=>b(K.target.value),onKeyDown:B,onBlur:()=>v(!1),autoFocus:!0})}):k.jsxs("div",{className:"cardContentPlacement",children:[k.jsx("p",{className:"cardContent",onClick:z,children:n.content}),k.jsx("div",{className:"cardContentBottom",children:k.jsx(vS,{id:"trashIcon",onClick:e,size:12})})]})})},$V=async(n,e,t)=>{try{const i=mn(It,"boards",n,"lists",e.toString());return await Hs(i,t),console.log("List updated in db",t),!0}catch(i){return console.log("error updating list in db",i),!1}},QV=({boardId:n,list:e,addCardToList:t,onRemove:i,removeCard:a})=>{const[l,c]=C.useState(""),[d,g]=C.useState(!1),[p,v]=C.useState(!1),[T,b]=C.useState(""),w=C.useRef(null),{attributes:V,listeners:z,setNodeRef:O,transform:B,transition:K,isDragging:$}=yS({id:e.id});C.useEffect(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`)},[T]);const ie=()=>{g(!0),c(e.title)},ee=U=>{U.key==="Enter"&&(U.preventDefault(),ae(U))},ae=async U=>{U.preventDefault(),g(!1),l.length>0&&(e.title=l,await $V(n,e.id,{title:l}))},M=()=>v(!0),I=U=>{if(U.preventDefault(),T==="")return v(!1);t(e.id,T),v(!0),b("")},R=U=>{U.relatedTarget&&U.relatedTarget.id==="addCard"||(v(!1),b(""))},D=U=>{U.key==="Enter"&&(U.preventDefault(),I(U))},P={transform:Wo.Transform.toString(B),transition:K};return k.jsxs("div",{className:`listContainer ${$?"isDragging":""}`,style:P,children:[k.jsxs("div",{className:"listTitleContainer",ref:O,...V,...z,children:[d?k.jsx("form",{onSubmit:ae,children:k.jsx("input",{className:"input",value:l,onChange:U=>c(U.target.value),placeholder:"Enter your listname...",onBlur:()=>g(!1),autoFocus:!0,maxLength:33,onKeyDown:ee})}):k.jsx("div",{onClick:ie,className:"listTitleTextField",children:k.jsx("p",{className:"listTitle",children:e.title})}),k.jsx("button",{className:"icon-button",children:k.jsx(vS,{onClick:()=>i(e.id),size:18})})]}),k.jsx("div",{className:"listsFlex",children:k.jsx(mS,{items:e.cards.map(U=>U.id),strategy:PV,children:e.cards.map(U=>k.jsx(KV,{card:U,removeCard:()=>a(e.id,U.id),boardId:n,listId:e.id},U.id))})}),p?k.jsxs("div",{children:[k.jsx("form",{onSubmit:I,children:k.jsx("textarea",{ref:w,className:"inputCardContent",value:T,onChange:U=>b(U.target.value),placeholder:"Enter a title...",onBlur:R,autoFocus:!0,onKeyDown:D})}),k.jsxs("div",{className:"addOrCancelContainer",children:[k.jsx("button",{id:"addCard",className:"btnAddCard",onClick:I,children:"Add card"}),k.jsx("button",{className:"icon-button",onClick:()=>v(!1),children:k.jsx(dy,{})})]})]}):k.jsxs("button",{className:"btnhandleCard",onClick:M,children:[k.jsx(QA,{size:18})," Add a card"]})]})},YV=async(n,e)=>{if(!n||e.length===0)return;const t=UM(It);e.forEach((i,a)=>{const l=mn(It,"boards",n,"lists",i.id);t.update(l,{index:a})});try{await t.commit(),console.log("update list order")}catch(i){console.log("error updating order",i)}},XV=async(n,e,t,i,a)=>{try{const l=t.findIndex(p=>p.id===i),c=t.findIndex(p=>p.id===a);if(l===-1||c===-1){console.log("Cards not found");return}const d=[...t],g=mn(It,"boards",n,"lists",e);await Hs(g,{cards:d})}catch(l){console.log("error swapping order",l)}},WV=async(n,e,t,i,a)=>{try{const l=mn(It,"boards",n,"lists",e),c=mn(It,"boards",n,"lists",t);await Promise.all([Hs(l,{cards:i}),Hs(c,{cards:a})]),console.log("Cards swapped between lists.")}catch(l){console.log("error swapping order",l)}},ZV=async(n,e,t,i)=>{var O;const{active:a,over:l}=n;if(!l)return;const c=a.id,d=l.id,g=e.findIndex(B=>B.id===c),p=e.findIndex(B=>B.id===d);if(g!==-1&&p!==-1){const B=Tf(e,g,p);console.log("updatedLists",B),await YV(i,B),console.log("updatedLists",B);return}let v=e.find(B=>B.cards.some(K=>K.id===c)),T=e.find(B=>B.cards.some(K=>K.id===d))||e.find(B=>B.id===d);if(!v){console.log("Source list not found.");return}if(!T){console.log("Destination list not found.");return}const b=v.cards.find(B=>B.id===c);if(!b)return;if(v.id===T.id){const B=v.cards.findIndex($=>$.id===c),K=T.cards.findIndex($=>$.id===d);if(B!==-1&&K!==-1){const $=Tf(v.cards,B,K);await XV(i,v.id,$,b.id,(O=T.cards[K])==null?void 0:O.id)}return}const w=v.cards.filter(B=>B.id!==c),V=[...T.cards||[]],z=d?V.findIndex(B=>B.id===d):V.length;V.splice(z===-1?V.length:z,0,b),console.log("newSourceCards",w,V),await WV(i,v.id,T.id,w,V),t(e.map(B=>B.id===v.id?{...B,cards:w}:B.id===T.id?{...B,cards:V}:B))},JV=async(n,e,t)=>{try{const i=mn(nc(It,"boards",n,"lists")),a={id:i.id,title:e,cards:[],index:t.length};return await Wf(i,a),console.log("List created successfully:",i.id),a}catch(i){return console.log("error adding list to firestore",i),!1}},eP=async(n,e,t)=>{try{const i=mn(It,"boards",n,"lists",e);return console.log("listRef",e),await Hs(i,{cards:IA(t)}),console.log("Card added to list"),!0}catch(i){return console.error("Error adding card to Firestore:",i),!1}},tP=async(n,e)=>{try{const t=mn(It,"boards",n,"lists",e);return await PM(t),console.log("List deleted succesfully"),!0}catch(t){return console.log("error deleting list from firestore",t),!1}},nP=(n,e)=>{const t=nc(It,"boards",n,"lists"),i=ry(t,xM("index"));return RA(i,l=>{const c=l.docs.map(d=>({...d.data()}));e(c)})},rP=async(n,e,t,i)=>{try{const a=t.find(d=>d.id===e);if(!a)return console.log("List does not exist"),!1;const l=a.cards.filter(d=>d.id!==i),c=mn(It,"boards",n,"lists",e);return await Hs(c,{cards:l}),console.log("Card deleted successfully"),!0}catch(a){return console.log("Error deleting card in db",a),!1}},iP=({board:n})=>{const[e,t]=C.useState([]),[i,a]=C.useState(!1),[l,c]=C.useState("");C.useEffect(()=>{if(!n.id)return;const O=nP(n.id,t);return()=>O()},[n.id]);const d=()=>a(!0),g=async O=>{if(O.preventDefault(),l==="")return a(!1);if(!await JV(n.id,l,e)){console.log("Error adding list");return}a(!0),c("")},p=async(O,B)=>{const K={id:Date.now(),content:B};if(!await eP(n.id,O,K)){console.log("Error adding card");return}},v=async O=>{if(!await tP(n.id,O)){console.log("Error deleting list");return}},T=(O,B)=>{if(!rP(n.id,O,e,B)){console.log("Error deleting card");return}},b=O=>{O.relatedTarget&&O.relatedTarget.id==="addButton"||a(!1)},w=bT(oS,{activationConstraint:{distance:10}}),V=bT(Ey),z=b4(w,V);return k.jsx("div",{className:"boardContainer",children:k.jsxs("div",{className:"boardColumn",children:[k.jsx("div",{className:"boardFlex",children:k.jsx(SV,{sensors:z,collisionDetection:C4,onDragEnd:O=>ZV(O,e,t,n.id),children:k.jsx(mS,{items:e.map(O=>O.id),children:e.map(O=>k.jsx(QV,{boardId:n.id,list:O,addCardToList:p,onRemove:v,removeCard:T},O.id))})})}),i?k.jsxs("div",{className:"listContainer",children:[k.jsx("form",{onSubmit:g,children:k.jsx("input",{className:"input",value:l,onChange:O=>c(O.target.value),placeholder:"Enter list name...",onBlur:b,autoFocus:!0,maxLength:33})}),k.jsxs("div",{className:"addOrCancelContainer",children:[k.jsx("button",{id:"addButton",className:"btnAdd",onClick:g,children:"Add list"}),k.jsx("button",{className:"icon-button",onClick:()=>a(!1),children:k.jsx(dy,{})})]})]}):k.jsx(k.Fragment,{children:k.jsxs("button",{onClick:d,id:"handleAddBtn",children:[k.jsx(QA,{size:18})," Add another list"]})})]})})},_S=async n=>{const e=mn(It,"boards",n),t=await sc(e),i=new Date,a=ut.fromDate(i);if(t.exists()){const l=t.data();return console.log("fetchedBoardById"),{id:t.id,title:l.title||"Unnamed board",color:l.color||"",userId:l.userId||"",username:l.username||"",createdAt:l.createdAt||a,members:l.members||[]}}else return console.log("Board not found"),null},sP=({isOpen:n,onClose:e,board:t})=>{const[i,a]=C.useState(""),[l,c]=C.useState(!1);C.useEffect(()=>{if(i!==""){const v=setTimeout(()=>{a("")},2e3);return()=>clearTimeout(v)}},[i]);const g=`${window.location.origin}/#/board/${t.id}/invite`,p=()=>{navigator.clipboard.writeText(g).then(()=>{a("Link copied to clipboard!"),c(!0)}).catch(v=>{console.log("Error copying text",v),a("Link didn´t copy"),c(!1)})};return n?k.jsx("div",{className:"modal-overlay",children:k.jsxs("div",{className:"modal-content",children:[k.jsxs("div",{className:"modal-header",children:[k.jsx("p",{children:"Share board"}),k.jsx(dy,{onClick:e,size:25,className:"close"})]}),k.jsx("p",{children:"Anyone with the link can join as an member"}),k.jsx("input",{type:"text",value:g,readOnly:!0,className:"linkShow"}),k.jsx("p",{style:{color:l?"lime":"red",fontSize:"14px"},children:i}),k.jsx("button",{className:"copyLink",onClick:p,children:"Copy link"})]})}):null};function ES(n){return Fs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M392.3 32H56.1C25.1 32 0 57.1 0 88c-.1 0 0-4 0 336 0 30.9 25.1 56 56 56h336.2c30.8-.2 55.7-25.2 55.7-56V88c.1-30.8-24.8-55.8-55.6-56zM197 371.3c-.2 14.7-12.1 26.6-26.9 26.6H87.4c-14.8.1-26.9-11.8-27-26.6V117.1c0-14.8 12-26.9 26.9-26.9h82.9c14.8 0 26.9 12 26.9 26.9v254.2zm193.1-112c0 14.8-12 26.9-26.9 26.9h-81c-14.8 0-26.9-12-26.9-26.9V117.2c0-14.8 12-26.9 26.8-26.9h81.1c14.8 0 26.9 12 26.9 26.9v142.1z"},child:[]}]})(n)}const bf=n=>n?n.charAt(0).toUpperCase()+n.slice(1):"",aP=()=>{var p;const{id:n}=FT(),e=qs(),[t,i]=C.useState(((p=e.state)==null?void 0:p.board)||null),[a,l]=C.useState(!t),c="linear-gradient(340deg, rgb(0, 242, 255), rgba(1, 88, 89, 0.943));",[d,g]=C.useState(!1);return C.useEffect(()=>{if(t||!n)return;(async()=>{try{console.log("Hej");const T=await _S(n);i(T)}catch(T){console.log("Error fetching board",T)}finally{l(!1)}})()},[n,t]),a?k.jsx("div",{children:"Loading..."}):t?k.jsxs(k.Fragment,{children:[k.jsx(al,{backgroundColor:t.color}),k.jsxs("div",{className:"board-background",style:{background:t!=null&&t.color&&Ar[t.color]?Ar[t.color].default:c},children:[k.jsxs("div",{className:"menu",style:{background:t!=null&&t.color&&Ar[t.color]?Ar[t.color].menu:c},children:[k.jsxs("p",{className:"workspace-title",children:[" ",k.jsx(ES,{size:25,id:"trelloIcon"})," ",bf(t.title)," "]}),k.jsxs("div",{className:"usernameAndShareContainer",children:[k.jsxs("p",{className:"workspace-title",children:[" ",bf(t.username),"'s Workspace"]}),k.jsxs("div",{children:[k.jsx("button",{className:"menuButton",onClick:()=>g(!0),children:"Share link"}),k.jsx(sP,{isOpen:d,onClose:()=>g(!1),board:t})]})]})]}),k.jsx(iP,{board:t})]})]}):k.jsx("div",{children:"No board found"})},oP=async()=>{try{const e=(await MD(ju,e4)).user,t=mn(It,"users",e.uid),i=await sc(t),a=new Date,l=ut.fromDate(a);return i.exists()||await Wf(t,{userId:e.uid,username:e.displayName||"No username",email:e.email||"No email",profilePic:e.photoURL||"",createdAt:l}),e}catch(n){return console.log("Google sign in error",n),null}};function lP(n){return Fs({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const uP=async(n,e)=>{try{console.log("Attempting to sign in...");const i=(await uD(ju,n,e)).user;return console.log("sucess getting user?",i),i}catch(t){return console.log("Error code:",t.code),t.code==="auth/invalid-credential"?{error:"Invalid email or password"}:{error:"An error occurred during sign-in"}}},cP=async n=>{const e=mn(It,"users",n);return(await sc(e)).exists()},hP=()=>{const[n,e]=C.useState(""),[t,i]=C.useState(""),a=za(),[l,c]=C.useState(""),[d,g]=C.useState(!1),{user:p,loading:v}=Ws();C.useEffect(()=>{!v&&p&&a("/workspaces")},[p,v,a]),C.useEffect(()=>{if(l){const w=setTimeout(()=>{c("")},2e3);return()=>clearTimeout(w)}},[l]);const T=async()=>{try{if(console.log("signInWithEmail"),!n||!t){c("Please fill in all fields");return}console.log("signInWithEmail");const w=await uP(n,t);if(console.log("Login result:",w),!w){c("Your account doesn't exist, please create a new account");return}if("error"in w){console.log("Login failed with error:",w.error),c(w.error);return}console.log("Checking user in DB..."),await cP(w.uid)?console.log("Login successful, waiting for user state..."):c("Your account doesn't exist in the database, please create an account")}catch(w){console.log("Unexpected error in signInWithEmail:",w),c("Something went wrong. Please try again.")}},b=async()=>{g(!0);const w=await oP();g(!1),w&&a("/workspaces")};return k.jsxs(k.Fragment,{children:[k.jsx(al,{}),k.jsx("div",{className:"loginScreen",children:k.jsxs("div",{className:"loginCardContainer",children:[k.jsxs("div",{className:"heading",children:[k.jsx("h1",{children:"Jellio"}),k.jsxs("div",{children:[k.jsx("img",{id:"jellyicon",src:Ph}),k.jsx("img",{id:"jellyiconMiddle",src:Ph}),k.jsx("img",{id:"jellyicon",src:Ph})]})]}),k.jsxs("div",{className:"cardSection",children:[k.jsxs("form",{className:"loginEmail",onSubmit:w=>w.preventDefault(),children:[k.jsx("h3",{children:"Login to continue"}),k.jsx("input",{className:"loginInput",value:n,onChange:w=>e(w.target.value),placeholder:"Enter your email",autoComplete:"email"}),k.jsx("input",{className:"loginInput",type:"password",value:t,onChange:w=>i(w.target.value),placeholder:"Write your password",autoComplete:"current-password"}),l&&k.jsx("p",{style:{color:"red"},children:l}),k.jsx("button",{className:"loginButton",onClick:T,children:"Sign in"})]}),k.jsxs("div",{className:"loginGoogle",children:[k.jsx("h3",{children:"Or continue with"}),k.jsxs("button",{onClick:b,className:"loginButton",children:[k.jsx(lP,{size:30}),k.jsx("p",{children:d?"Signing in...":"Sign in with Google"})]}),k.jsx("button",{className:"loginButton",id:"signUpBtn",onClick:()=>a("/signup"),children:"Create an account"})]})]})]})})]})},fP=async n=>{if(!n)return[];try{const e=ry(nc(It,"boards"),TA("members","array-contains",n.uid)),t=await VM(e),i=new Date,a=ut.fromDate(i);return t.docs.map(c=>{const d=c.data();return{id:c.id,title:d.title||"Unnamed board",color:d.color||"",userId:d.userId||"",username:d.username||"",createdAt:d.createdAt||a,members:d.members||[]}})}catch{return console.error("Error fetching boards"),[]}},dP=(n,e)=>{if(!n)return()=>{};const t=ry(nc(It,"boards"),TA("userId","==",n));return RA(t,a=>{const l=a.docs.map(c=>({...c.data()}));e(l)},a=>{console.error("Error fetching boards:",a)})},gP=()=>{const{user:n,loading:e}=Ws(),[t,i]=C.useState([]),a=za(),[l,c]=C.useState(null),[d,g]=C.useState([]),[p,v]=C.useState(!1);C.useEffect(()=>{if(!(n!=null&&n.userId))return;const w=dP(n.userId,i);return()=>{w&&w()}},[n]),C.useEffect(()=>{if(e)return;if(!n){a("/login");return}(async()=>{if(n){const V=await fP(n);g(V)}})()},[n,e]);const T=()=>{v(w=>!w)},b=w=>{a(`/board/${w.id}`)};return k.jsxs(k.Fragment,{children:[k.jsx(al,{}),k.jsx("div",{className:"workSpaceContainer",children:k.jsxs("div",{className:"workSpaceCard",children:[k.jsx("h3",{className:"titleGray",children:"Your Workspaces"}),k.jsxs("div",{className:"boardShowContainer",children:[t.map(w=>k.jsx("div",{className:"boardShow",onClick:()=>b(w),onMouseEnter:()=>c(w.id),onMouseLeave:()=>c(null),style:{background:ET(w.color,l===w.id)},children:k.jsx("div",{className:"boardTextOpacityContainer",children:k.jsx("p",{className:"boardText",children:bf(w.title)})})},w.id)),k.jsxs("div",{className:"toggleCreateContainer",children:[k.jsxs("div",{className:"toggleCreate",onClick:T,children:[k.jsx(ES,{size:20}),k.jsx("p",{children:"Create new board"})]}),p&&k.jsx("div",{className:"createMenuWrapper",children:k.jsx($A,{closeCreateOverlay:T})})]})]}),d.length>0?k.jsxs(k.Fragment,{children:[k.jsx("h3",{className:"titleGray",children:"Workspaces you are member in"}),k.jsx("div",{children:d.map(w=>k.jsx("div",{className:"boardShow",onClick:()=>b(w),onMouseEnter:()=>c(w.id),onMouseLeave:()=>c(null),style:{background:ET(w.color,l===w.id)},children:k.jsx("div",{className:"boardTextOpacityContainer",children:k.jsx("p",{className:"boardText",children:bf(w.title)})})},w.id))})]}):k.jsx("p",{})]})})]})},mP="/Jellio/assets/profilePic-B-x-Krsw.png",pP=async n=>{if(!n)return;const e=Qk(t4,`profilePics/${n.name}`);return await Kk(e,n),await $k(e)},yP=async(n,e,t,i)=>{try{const l=(await lD(ju,e,t)).user,c=mn(It,"users",l.uid),d=new Date,g=ut.fromDate(d);return await Wf(c,{userId:l.uid,username:n,email:e,profilePic:i,createdAt:g}),console.log("Account created successfully"),{success:!0}}catch(a){return console.log("Error creating account",a),a.code==="auth/email-already-in-use"?{success:!1,error:"This email is already in use"}:a.code==="auth/weak-password"?{success:!1,error:"Password is too weak"}:{success:!1,error:"An unexpected error occurred"}}},vP=()=>{const[n,e]=C.useState(""),[t,i]=C.useState(""),[a,l]=C.useState(""),[c,d]=C.useState(""),[g,p]=C.useState(null),[v,T]=C.useState(null),[b,w]=C.useState(""),[V,z]=C.useState(""),{user:O,loading:B}=Ws(),K=za();C.useEffect(()=>{!B&&O&&K("/workspaces")},[O,B,K]),C.useEffect(()=>{if(b){const ee=setTimeout(()=>{w("")},2e3);return()=>clearTimeout(ee)}},[b]);const $=async()=>{if(!n||!t||!a||!c){w("Please fill in all fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){w("Invalid email");return}if(t.length<6){w("Password must be at least 6 characters long");return}if(t!==a){w("Passwords do not match");return}if(!V){w("You need to choose an profile picture");return}w(""),await yP(c,n,t,V)?K("/workspaces"):w("An account with this email already exists")},ie=async ee=>{if(ee.target.files&&ee.target.files[0]){const ae=ee.target.files[0];p(ae);const M=new FileReader;M.onload=async I=>{var D;const R=(D=I.target)==null?void 0:D.result;T(R);try{const P=await pP(ae);P&&(console.log("Image uploaded successfully",P),z(P))}catch(P){console.log("Error uploading image",P)}},M.readAsDataURL(ae)}};return k.jsxs(k.Fragment,{children:[k.jsx(al,{}),k.jsx("div",{className:"signUpScreen",children:k.jsx("div",{className:"signUpCardContainer",children:k.jsxs("div",{className:"signUpContainer",children:[k.jsx("h3",{children:"Create account"}),k.jsxs("div",{id:"headingInSign",children:[k.jsx("label",{htmlFor:"file-upload",children:k.jsx("img",{src:v||mP,id:"profilePic"})}),k.jsx("input",{type:"file",id:"file-upload",accept:"image/*",onChange:ie,style:{display:"none"}}),k.jsx("p",{style:{color:g?"lime":"white"},children:g?"Image selected":"Click to choose an profile picture"})]}),k.jsxs("form",{className:"signUpField",children:[k.jsx("p",{className:"helpText",children:"Username"}),k.jsx("input",{className:"signInput",value:c,onChange:ee=>d(ee.target.value),placeholder:"Enter your username",autoComplete:"username"})]}),k.jsxs("form",{className:"signUpField",children:[k.jsx("p",{children:"Email"}),k.jsx("input",{className:"signInput",value:n,onChange:ee=>e(ee.target.value),placeholder:"Enter your email",autoComplete:"email"})]}),k.jsxs("form",{className:"signUpField",children:[k.jsx("p",{children:"Password"}),k.jsx("input",{className:"signInput",type:"password",value:t,onChange:ee=>i(ee.target.value),placeholder:"Write your password",autoComplete:"new-password"})]}),k.jsxs("form",{className:"signUpField",children:[k.jsx("p",{children:"Confirm your password"}),k.jsx("input",{className:"signInput",type:"password",value:a,onChange:ee=>l(ee.target.value),placeholder:"Write your password again",autoComplete:"new-password"})]}),b&&k.jsx("p",{style:{color:"red"},children:b}),k.jsx("button",{className:"loginButton",id:"signUpBtn",onClick:$,children:"Create your account"})]})})})]})},_P=async(n,e)=>{const t=mn(It,"boards",n);await Hs(t,{members:IA(e)})},EP=()=>{const{user:n,loading:e}=Ws(),{boardId:t}=FT(),i=za(),[a,l]=C.useState(null),[c,d]=C.useState(!0);return C.useEffect(()=>{if(console.log("useEffect fetching board"),e)return;if(!n){console.log("if !user"),i("/login");return}(async()=>{if(t){const p=await _S(t);l(p),d(!1)}else d(!1)})()},[t,n,e]),C.useEffect(()=>{if(console.log("addUser before",a,n),console.log("loading",e,c,"boardLoading"),e||c){console.log("still loading user data...");return}console.log("loading finished..."),n||(console.log("navigate login"),i("/login")),(async()=>{if(console.log("running addUser"),a&&n)try{if(n.uid===a.userId){console.log("You are the owner of the board. No need to add as a member"),i(`/board/${t}`);return}await _P(a.id,n.uid),console.log("User successfully added as a member"),i(`/board/${t}`)}catch(p){console.log("Error adding user to board:",p)}})()},[n,a,i,t,c,e]),c?k.jsx("div",{children:"Loading board..."}):k.jsxs(k.Fragment,{children:[k.jsx(al,{}),k.jsx("div",{className:"board-inviteContainer",children:k.jsxs("div",{className:"inviteFlexContent",children:[k.jsxs("h3",{style:{margin:"0"},children:["Invited to board ",a==null?void 0:a.title]}),n?k.jsx("p",{children:"You have been added to the board!"}):k.jsxs(k.Fragment,{children:[k.jsx("p",{children:"Please log in to accept the invitation"}),k.jsx("button",{className:"goToLoginBtn",onClick:()=>i("/login"),children:"Go to login"})]})]})})]})};function TP(){const{user:n}=Ws();return C.useEffect(()=>{console.log("user",n)}),k.jsx(gC,{children:k.jsxs(FR,{children:[k.jsx(Ia,{path:"/",element:k.jsx(o4,{})}),k.jsx(Ia,{path:"/workspaces",element:k.jsx(gP,{})}),k.jsx(Ia,{path:"/board/:id",element:k.jsx(aP,{})}),k.jsx(Ia,{path:"/login",element:k.jsx(hP,{})}),k.jsx(Ia,{path:"/signup",element:k.jsx(vP,{})}),k.jsx(Ia,{path:"/board/:boardId/invite",element:k.jsx(EP,{})})]})})}eR.createRoot(document.getElementById("root")).render(k.jsx(C.StrictMode,{children:k.jsx(n4,{children:k.jsx(TP,{})})}));
