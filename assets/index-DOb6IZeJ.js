(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Q1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wg={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function Y1(){if(A0)return uu;A0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return uu.Fragment=e,uu.jsx=t,uu.jsxs=t,uu}var S0;function X1(){return S0||(S0=1,Wg.exports=Y1()),Wg.exports}var D=X1(),Zg={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function W1(){if(R0)return De;R0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,z={};function O(U,re,ce){this.props=U,this.context=re,this.refs=z,this.updater=ce||w}O.prototype.isReactComponent={},O.prototype.setState=function(U,re){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,re,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=O.prototype;function K(U,re,ce){this.props=U,this.context=re,this.refs=z,this.updater=ce||w}var $=K.prototype=new j;$.constructor=K,k($,O.prototype),$.isPureReactComponent=!0;var ie=Array.isArray,ee={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function V(U,re,ce,le,ue,Ae){return ce=Ae.ref,{$$typeof:n,type:U,key:re,ref:ce!==void 0?ce:null,props:Ae}}function I(U,re){return V(U.type,re,void 0,void 0,void 0,U.props)}function C(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function N(U){var re={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return re[ce]})}var P=/\/+/g;function L(U,re){return typeof U=="object"&&U!==null&&U.key!=null?N(""+U.key):re.toString(36)}function M(){}function Qe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(re){U.status==="pending"&&(U.status="fulfilled",U.value=re)},function(re){U.status==="pending"&&(U.status="rejected",U.reason=re)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function et(U,re,ce,le,ue){var Ae=typeof U;(Ae==="undefined"||Ae==="boolean")&&(U=null);var _e=!1;if(U===null)_e=!0;else switch(Ae){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(U.$$typeof){case n:case e:_e=!0;break;case v:return _e=U._init,et(_e(U._payload),re,ce,le,ue)}}if(_e)return ue=ue(U),_e=le===""?"."+L(U,0):le,ie(ue)?(ce="",_e!=null&&(ce=_e.replace(P,"$&/")+"/"),et(ue,re,ce,"",function(qe){return qe})):ue!=null&&(C(ue)&&(ue=I(ue,ce+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+_e)),re.push(ue)),1;_e=0;var it=le===""?".":le+":";if(ie(U))for(var Ie=0;Ie<U.length;Ie++)le=U[Ie],Ae=it+L(le,Ie),_e+=et(le,re,ce,Ae,ue);else if(Ie=b(U),typeof Ie=="function")for(U=Ie.call(U),Ie=0;!(le=U.next()).done;)le=le.value,Ae=it+L(le,Ie++),_e+=et(le,re,ce,Ae,ue);else if(Ae==="object"){if(typeof U.then=="function")return et(Qe(U),re,ce,le,ue);throw re=String(U),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return _e}function oe(U,re,ce){if(U==null)return U;var le=[],ue=0;return et(U,le,"","",function(Ae){return re.call(ce,Ae,ue++)}),le}function ge(U){if(U._status===-1){var re=U._result;re=re(),re.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=re)}if(U._status===1)return U._result.default;throw U._result}var me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Ne(){}return De.Children={map:oe,forEach:function(U,re,ce){oe(U,function(){re.apply(this,arguments)},ce)},count:function(U){var re=0;return oe(U,function(){re++}),re},toArray:function(U){return oe(U,function(re){return re})||[]},only:function(U){if(!C(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},De.Component=O,De.Fragment=t,De.Profiler=a,De.PureComponent=K,De.StrictMode=i,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(U){return function(){return U.apply(null,arguments)}},De.cloneElement=function(U,re,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var le=k({},U.props),ue=U.key,Ae=void 0;if(re!=null)for(_e in re.ref!==void 0&&(Ae=void 0),re.key!==void 0&&(ue=""+re.key),re)!ae.call(re,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&re.ref===void 0||(le[_e]=re[_e]);var _e=arguments.length-2;if(_e===1)le.children=ce;else if(1<_e){for(var it=Array(_e),Ie=0;Ie<_e;Ie++)it[Ie]=arguments[Ie+2];le.children=it}return V(U.type,ue,void 0,void 0,Ae,le)},De.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},De.createElement=function(U,re,ce){var le,ue={},Ae=null;if(re!=null)for(le in re.key!==void 0&&(Ae=""+re.key),re)ae.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=re[le]);var _e=arguments.length-2;if(_e===1)ue.children=ce;else if(1<_e){for(var it=Array(_e),Ie=0;Ie<_e;Ie++)it[Ie]=arguments[Ie+2];ue.children=it}if(U&&U.defaultProps)for(le in _e=U.defaultProps,_e)ue[le]===void 0&&(ue[le]=_e[le]);return V(U,Ae,void 0,void 0,null,ue)},De.createRef=function(){return{current:null}},De.forwardRef=function(U){return{$$typeof:d,render:U}},De.isValidElement=C,De.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ge}},De.memo=function(U,re){return{$$typeof:p,type:U,compare:re===void 0?null:re}},De.startTransition=function(U){var re=ee.T,ce={};ee.T=ce;try{var le=U(),ue=ee.S;ue!==null&&ue(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ne,me)}catch(Ae){me(Ae)}finally{ee.T=re}},De.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},De.use=function(U){return ee.H.use(U)},De.useActionState=function(U,re,ce){return ee.H.useActionState(U,re,ce)},De.useCallback=function(U,re){return ee.H.useCallback(U,re)},De.useContext=function(U){return ee.H.useContext(U)},De.useDebugValue=function(){},De.useDeferredValue=function(U,re){return ee.H.useDeferredValue(U,re)},De.useEffect=function(U,re){return ee.H.useEffect(U,re)},De.useId=function(){return ee.H.useId()},De.useImperativeHandle=function(U,re,ce){return ee.H.useImperativeHandle(U,re,ce)},De.useInsertionEffect=function(U,re){return ee.H.useInsertionEffect(U,re)},De.useLayoutEffect=function(U,re){return ee.H.useLayoutEffect(U,re)},De.useMemo=function(U,re){return ee.H.useMemo(U,re)},De.useOptimistic=function(U,re){return ee.H.useOptimistic(U,re)},De.useReducer=function(U,re,ce){return ee.H.useReducer(U,re,ce)},De.useRef=function(U){return ee.H.useRef(U)},De.useState=function(U){return ee.H.useState(U)},De.useSyncExternalStore=function(U,re,ce){return ee.H.useSyncExternalStore(U,re,ce)},De.useTransition=function(){return ee.H.useTransition()},De.version="19.0.0",De}var C0;function ip(){return C0||(C0=1,Zg.exports=W1()),Zg.exports}var R=ip();const Ct=Q1(R);var Jg={exports:{}},cu={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Z1(){return I0||(I0=1,function(n){function e(oe,ge){var me=oe.length;oe.push(ge);e:for(;0<me;){var Ne=me-1>>>1,U=oe[Ne];if(0<a(U,ge))oe[Ne]=ge,oe[me]=U,me=Ne;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var ge=oe[0],me=oe.pop();if(me!==ge){oe[0]=me;e:for(var Ne=0,U=oe.length,re=U>>>1;Ne<re;){var ce=2*(Ne+1)-1,le=oe[ce],ue=ce+1,Ae=oe[ue];if(0>a(le,me))ue<U&&0>a(Ae,le)?(oe[Ne]=Ae,oe[ue]=me,Ne=ue):(oe[Ne]=le,oe[ce]=me,Ne=ce);else if(ue<U&&0>a(Ae,me))oe[Ne]=Ae,oe[ue]=me,Ne=ue;else break e}}return ge}function a(oe,ge){var me=oe.sortIndex-ge.sortIndex;return me!==0?me:oe.id-ge.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var g=[],p=[],v=1,T=null,b=3,w=!1,k=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function $(oe){for(var ge=t(p);ge!==null;){if(ge.callback===null)i(p);else if(ge.startTime<=oe)i(p),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=t(p)}}function ie(oe){if(z=!1,$(oe),!k)if(t(g)!==null)k=!0,Qe();else{var ge=t(p);ge!==null&&et(ie,ge.startTime-oe)}}var ee=!1,ae=-1,V=5,I=-1;function C(){return!(n.unstable_now()-I<V)}function N(){if(ee){var oe=n.unstable_now();I=oe;var ge=!0;try{e:{k=!1,z&&(z=!1,j(ae),ae=-1),w=!0;var me=b;try{t:{for($(oe),T=t(g);T!==null&&!(T.expirationTime>oe&&C());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,b=T.priorityLevel;var U=Ne(T.expirationTime<=oe);if(oe=n.unstable_now(),typeof U=="function"){T.callback=U,$(oe),ge=!0;break t}T===t(g)&&i(g),$(oe)}else i(g);T=t(g)}if(T!==null)ge=!0;else{var re=t(p);re!==null&&et(ie,re.startTime-oe),ge=!1}}break e}finally{T=null,b=me,w=!1}ge=void 0}}finally{ge?P():ee=!1}}}var P;if(typeof K=="function")P=function(){K(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=N,P=function(){M.postMessage(null)}}else P=function(){O(N,0)};function Qe(){ee||(ee=!0,P())}function et(oe,ge){ae=O(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){k||w||(k=!0,Qe())},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(oe){switch(b){case 1:case 2:case 3:var ge=3;break;default:ge=b}var me=b;b=ge;try{return oe()}finally{b=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var me=b;b=oe;try{return ge()}finally{b=me}},n.unstable_scheduleCallback=function(oe,ge,me){var Ne=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,oe){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=me+U,oe={id:v++,callback:ge,priorityLevel:oe,startTime:me,expirationTime:U,sortIndex:-1},me>Ne?(oe.sortIndex=me,e(p,oe),t(g)===null&&oe===t(p)&&(z?(j(ae),ae=-1):z=!0,et(ie,me-Ne))):(oe.sortIndex=U,e(g,oe),k||w||(k=!0,Qe())),oe},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(oe){var ge=b;return function(){var me=b;b=ge;try{return oe.apply(this,arguments)}finally{b=me}}}}(tm)),tm}var D0;function J1(){return D0||(D0=1,em.exports=Z1()),em.exports}var nm={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function eR(){if(N0)return bn;N0=1;var n=ip();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},bn.flushSync=function(g){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=p,i.p=v,i.d.f()}},bn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},bn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},bn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):v==="script"&&i.d.X(g,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},bn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);i.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},bn.requestFormReset=function(g){i.d.r(g)},bn.unstable_batchedUpdates=function(g,p){return g(p)},bn.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var x0;function VT(){if(x0)return nm.exports;x0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nm.exports=eR(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function tR(){if(O0)return cu;O0=1;var n=J1(),e=ip(),t=VT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case g:return"Fragment";case d:return"Portal";case v:return"Profiler";case p:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case k:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case K:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,P,L;function M(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",L=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+L}var Qe=!1;function et(r,s){if(!r||Qe)return"";Qe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(X){Q=X}r.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var x=E.split(`
`),H=A.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===H.length)for(u=x.length-1,f=H.length-1;1<=u&&0<=f&&x[u]!==H[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==H[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==H[f]){var W=`
`+x[u].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=u&&0<=f);break}}}finally{Qe=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?M(o):""}function oe(r){switch(r.tag){case 26:case 27:case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return r=et(r.type,!1),r;case 11:return r=et(r.type.render,!1),r;case 1:return r=et(r.type,!0),r;default:return""}}function ge(r){try{var s="";do s+=oe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function me(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ne(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function U(r){if(me(r)!==r)throw Error(i(188))}function re(r){var s=r.alternate;if(!s){if(s=me(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return U(f),r;if(m===u)return U(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=m;break}if(A===u){E=!0,u=f,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=f;break}if(A===u){E=!0,u=m,o=f;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function ce(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=ce(r),s!==null)return s;r=r.sibling}return null}var le=Array.isArray,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},_e=[],it=-1;function Ie(r){return{current:r}}function qe(r){0>it||(r.current=_e[it],_e[it]=null,it--)}function ye(r,s){it++,_e[it]=r.current,r.current=s}var wt=Ie(null),Dt=Ie(null),Vt=Ie(null),Qt=Ie(null);function In(r,s){switch(ye(Vt,s),ye(Dt,r),ye(wt,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?J_(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=J_(r),s=e0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}qe(wt),ye(wt,s)}function yn(){qe(wt),qe(Dt),qe(Vt)}function Gi(r){r.memoizedState!==null&&ye(Qt,r);var s=wt.current,o=e0(s,r.type);s!==o&&(ye(Dt,r),ye(wt,o))}function oi(r){Dt.current===r&&(qe(wt),qe(Dt)),Qt.current===r&&(qe(Qt),iu._currentValue=Ae)}var Dr=Object.prototype.hasOwnProperty,vn=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Ki=n.unstable_shouldYield,$i=n.unstable_requestPaint,sn=n.unstable_now,Ga=n.unstable_getCurrentPriorityLevel,At=n.unstable_ImmediatePriority,st=n.unstable_UserBlockingPriority,_n=n.unstable_NormalPriority,Nr=n.unstable_LowPriority,Qi=n.unstable_IdlePriority,er=n.log,xr=n.unstable_setDisableYieldValue,Or=null,Yt=null;function li(r){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Or,r,void 0,(r.current.flags&128)===128)}catch{}}function Hn(r){if(typeof er=="function"&&xr(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Or,r)}catch{}}var an=Math.clz32?Math.clz32:$a,Yi=Math.log,Ka=Math.LN2;function $a(r){return r>>>=0,r===0?32:31-(Yi(r)/Ka|0)|0}var tr=128,at=4194304;function ot(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function tt(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,f=r.suspendedLanes,m=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~f,o!==0?u=ot(o):(m&=A,m!==0?u=ot(m):r||(E=A&~E,E!==0&&(u=ot(E))))):(A=o&~f,A!==0?u=ot(A):m!==0?u=ot(m):r||(E=o&~E,E!==0&&(u=ot(E)))),u===0?0:s!==0&&s!==u&&!(s&f)&&(f=u&-u,E=s&-s,f>=E||f===32&&(E&4194176)!==0)?s:u}function on(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Pt(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var r=tr;return tr<<=1,!(tr&4194176)&&(tr=128),r}function Ut(){var r=at;return at<<=1,!(at&62914560)&&(at=4194304),r}function qn(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function xe(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Fn(r,s,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,x=r.expirationTimes,H=r.hiddenUpdates;for(o=E&~o;0<o;){var W=31-an(o),ne=1<<W;A[W]=0,x[W]=-1;var Q=H[W];if(Q!==null)for(H[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&jt(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function jt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-an(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Xt(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-an(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Mr(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function kr(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:v0(r.type))}function ln(r,s){var o=ue.p;try{return ue.p=r,s()}finally{ue.p=o}}var En=Math.random().toString(36).slice(2),pt="__reactFiber$"+En,Bt="__reactProps$"+En,ui="__reactContainer$"+En,Js="__reactEvents$"+En,Qa="__reactListeners$"+En,Vr="__reactHandles$"+En,cl="__reactResources$"+En,Xi="__reactMarker$"+En;function ea(r){delete r[pt],delete r[Bt],delete r[Js],delete r[Qa],delete r[Vr]}function Er(r){var s=r[pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ui]||o[pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=r0(r);r!==null;){if(o=r[pt])return o;r=r0(r)}return s}r=o,o=r.parentNode}return null}function ci(r){if(r=r[pt]||r[ui]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Wi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Zi(r){var s=r[cl];return s||(s=r[cl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ht(r){r[Xi]=!0}var hl=new Set,Ya={};function Gn(r,s){kn(r,s),kn(r+"Capture",s)}function kn(r,s){for(Ya[r]=s,r=0;r<s.length;r++)hl.add(s[r])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fl={},dl={};function uc(r){return Dr.call(dl,r)?!0:Dr.call(fl,r)?!1:td.test(r)?dl[r]=!0:(fl[r]=!0,!1)}function Ji(r,s,o){if(uc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function es(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function nr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nd(r){var s=cc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ta(r){r._valueTracker||(r._valueTracker=nd(r))}function gl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=cc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Xa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hi=/[\n"\\]/g;function yt(r){return r.replace(hi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ts(r,s,o,u,f,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Dn(s)):r.value!==""+Dn(s)&&(r.value=""+Dn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Wa(r,E,Dn(s)):o!=null?Wa(r,E,Dn(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Dn(A):r.removeAttribute("name")}function na(r,s,o,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+Dn(o):"",s=s!=null?""+Dn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Wa(r,s,o){s==="number"&&Xa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Fe(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Dn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ra(r,s,o){if(s!=null&&(s=""+Dn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Dn(o):""}function ns(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Dn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function rr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var rd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||rd.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function hc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&ml(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&ml(r,m,s[m])}function pl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(r){return sd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var ir=null;function Za(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fi=null,di=null;function gi(r){var s=ci(r);if(s&&(r=s.stateNode)){var o=r[Bt]||null;e:switch(r=s.stateNode,s.type){case"input":if(ts(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Bt]||null;if(!f)throw Error(i(90));ts(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&gl(u)}break e;case"textarea":ra(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fe(r,!!o.multiple,s,!1)}}}var yl=!1;function fc(r,s,o){if(yl)return r(s,o);yl=!0;try{var u=r(s);return u}finally{if(yl=!1,(fi!==null||di!==null)&&(rh(),fi&&(s=fi,r=di,di=fi=null,gi(s),r)))for(s=0;s<r.length;s++)gi(r[s])}}function ia(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Bt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var sr=!1;if(Kn)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){sr=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{sr=!1}var Lr=null,rs=null,mi=null;function vl(){if(mi)return mi;var r,s=rs,o=s.length,u,f="value"in Lr?Lr.value:Lr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return mi=f.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function _l(){return!1}function Wt(r){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jr:_l,this.isPropagationStopped=_l,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Wt(Ye),aa=N({},Ye,{view:0,detail:0}),dc=Wt(aa),eo,to,Br,oa=N({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Br&&(Br&&r.type==="mousemove"?(eo=r.screenX-Br.screenX,to=r.screenY-Br.screenY):to=eo=0,Br=r),eo)},movementY:function(r){return"movementY"in r?r.movementY:to}}),ar=Wt(oa),gc=N({},oa,{dataTransfer:0}),ad=Wt(gc),la=N({},aa,{relatedTarget:0}),no=Wt(la),El=N({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Wt(El),mc=N({},Ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),io=Wt(mc),od=N({},Ye,{data:0}),Tl=Wt(od),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=yc[r])?!!s[r]:!1}function ca(){return bl}var vc=N({},aa,{key:function(r){if(r.key){var s=ua[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),so=Wt(vc),_c=N({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=Wt(_c),pi=N({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Ec=Wt(pi),Tc=N({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=Wt(Tc),wc=N({},oa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Wt(wc),Nn=N({},Ye,{newState:0,oldState:0}),Ac=Wt(Nn),Sc=[9,13,27,32],zr=Kn&&"CompositionEvent"in window,h=null;Kn&&"documentMode"in document&&(h=document.documentMode);var y=Kn&&"TextEvent"in window&&!h,_=Kn&&(!zr||h&&8<h&&11>=h),S=" ",F=!1;function Y(r,s){switch(r){case"keyup":return Sc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var je=!1;function zt(r,s){switch(r){case"compositionend":return se(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return r=s.data,r===S&&F?null:r;default:return null}}function Be(r,s){if(je)return r==="compositionend"||!zr&&Y(r,s)?(r=vl(),mi=rs=Lr=null,je=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zt[r.type]:s==="textarea"}function yi(r,s,o,u){fi?di?di.push(u):di=[u]:fi=u,s=lh(s,"onChange"),0<s.length&&(o=new Ja("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var un=null,Hr=null;function Al(r){Q_(r,0)}function Rc(r){var s=Wi(r);if(gl(s))return r}function wy(r,s){if(r==="change")return s}var Ay=!1;if(Kn){var ld;if(Kn){var ud="oninput"in document;if(!ud){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),ud=typeof Sy.oninput=="function"}ld=ud}else ld=!1;Ay=ld&&(!document.documentMode||9<document.documentMode)}function Ry(){un&&(un.detachEvent("onpropertychange",Cy),Hr=un=null)}function Cy(r){if(r.propertyName==="value"&&Rc(Hr)){var s=[];yi(s,Hr,r,Za(r)),fc(Al,s)}}function AS(r,s,o){r==="focusin"?(Ry(),un=s,Hr=o,un.attachEvent("onpropertychange",Cy)):r==="focusout"&&Ry()}function SS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Rc(Hr)}function RS(r,s){if(r==="click")return Rc(s)}function CS(r,s){if(r==="input"||r==="change")return Rc(s)}function IS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:IS;function Sl(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Dr.call(s,f)||!$n(r[f],s[f]))return!1}return!0}function Iy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dy(r,s){var o=Iy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iy(o)}}function Ny(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ny(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function xy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xa(r.document)}return s}function cd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function DS(r,s){var o=xy(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Ny(s.ownerDocument.documentElement,s)){if(u!==null&&cd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!o.extend&&m>u&&(f=u,u=m,m=f),f=Dy(s,m);var E=Dy(s,u);f&&E&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),o.removeAllRanges(),m>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var NS=Kn&&"documentMode"in document&&11>=document.documentMode,oo=null,hd=null,Rl=null,fd=!1;function Oy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fd||oo==null||oo!==Xa(u)||(u=oo,"selectionStart"in u&&cd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&Sl(Rl,u)||(Rl=u,u=lh(hd,"onSelect"),0<u.length&&(s=new Ja("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=oo)))}function ha(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},dd={},My={};Kn&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function fa(r){if(dd[r])return dd[r];if(!lo[r])return r;var s=lo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in My)return dd[r]=s[o];return r}var ky=fa("animationend"),Vy=fa("animationiteration"),Py=fa("animationstart"),xS=fa("transitionrun"),OS=fa("transitionstart"),MS=fa("transitioncancel"),Ly=fa("transitionend"),Uy=new Map,jy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Tr(r,s){Uy.set(r,s),Gn(s,[r])}var or=[],uo=0,gd=0;function Cc(){for(var r=uo,s=gd=uo=0;s<r;){var o=or[s];or[s++]=null;var u=or[s];or[s++]=null;var f=or[s];or[s++]=null;var m=or[s];if(or[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&By(o,f,m)}}function Ic(r,s,o,u){or[uo++]=r,or[uo++]=s,or[uo++]=o,or[uo++]=u,gd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function md(r,s,o,u){return Ic(r,s,o,u),Dc(r)}function is(r,s){return Ic(r,null,null,s),Dc(r)}function By(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;f&&s!==null&&r.tag===3&&(m=r.stateNode,f=31-an(o),m=m.hiddenUpdates,r=m[f],r===null?m[f]=[s]:r.push(s),s.lane=o|536870912)}function Dc(r){if(50<Wl)throw Wl=0,Tg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var co={},zy=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=zy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ge(s)},zy.set(r,s),s)}return{value:r,source:s,stack:ge(s)}}var ho=[],fo=0,Nc=null,xc=0,ur=[],cr=0,da=null,vi=1,_i="";function ga(r,s){ho[fo++]=xc,ho[fo++]=Nc,Nc=r,xc=s}function Hy(r,s,o){ur[cr++]=vi,ur[cr++]=_i,ur[cr++]=da,da=r;var u=vi;r=_i;var f=32-an(u)-1;u&=~(1<<f),o+=1;var m=32-an(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,vi=1<<32-an(s)+f|o<<f|u,_i=m+r}else vi=1<<m|o<<f|u,_i=r}function pd(r){r.return!==null&&(ga(r,1),Hy(r,1,0))}function yd(r){for(;r===Nc;)Nc=ho[--fo],ho[fo]=null,xc=ho[--fo],ho[fo]=null;for(;r===da;)da=ur[--cr],ur[cr]=null,_i=ur[--cr],ur[cr]=null,vi=ur[--cr],ur[cr]=null}var xn=null,cn=null,Ge=!1,br=null,qr=!1,vd=Error(i(519));function ma(r){var s=Error(i(418,""));throw Dl(lr(s,r)),vd}function qy(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[pt]=r,s[Bt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Le(Jl[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),na(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ta(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ns(s,u.value,u.defaultValue,u.children),ta(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Z_(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=uh),s=!0):s=!1,s||ma(r)}function Fy(r){for(xn=r.return;xn;)switch(xn.tag){case 3:case 27:qr=!0;return;case 5:case 13:qr=!1;return;default:xn=xn.return}}function Cl(r){if(r!==xn)return!1;if(!Ge)return Fy(r),Ge=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ug(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&cn&&ma(r),Fy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){cn=Ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}cn=null}}else cn=xn?Ar(r.stateNode.nextSibling):null;return!0}function Il(){cn=xn=null,Ge=!1}function Dl(r){br===null?br=[r]:br.push(r)}var Nl=Error(i(460)),Gy=Error(i(474)),_d={then:function(){}};function Ky(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oc(){}function $y(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Oc,Oc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Nl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Oc,Oc);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Nl?Error(i(483)):r}throw xl=s,Nl}}var xl=null;function Qy(){if(xl===null)throw Error(i(459));var r=xl;return xl=null,r}var go=null,Ol=0;function Mc(r){var s=Ol;return Ol+=1,go===null&&(go=[]),$y(go,r,s)}function Ml(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function kc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Yy(r){var s=r._init;return s(r._payload)}function Xy(r){function s(q,B){if(r){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function f(q,B){return q=ps(q,B),q.index=0,q.sibling=null,q}function m(q,B,G){return q.index=G,r?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=33554434,B):G):(q.flags|=33554434,B)):(q.flags|=1048576,B)}function E(q){return r&&q.alternate===null&&(q.flags|=33554434),q}function A(q,B,G,J){return B===null||B.tag!==6?(B=dg(G,q.mode,J),B.return=q,B):(B=f(B,G),B.return=q,B)}function x(q,B,G,J){var de=G.type;return de===g?W(q,B,G.props.children,J,G.key):B!==null&&(B.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===K&&Yy(de)===B.type)?(B=f(B,G.props),Ml(B,G),B.return=q,B):(B=Zc(G.type,G.key,G.props,null,q.mode,J),Ml(B,G),B.return=q,B)}function H(q,B,G,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=gg(G,q.mode,J),B.return=q,B):(B=f(B,G.children||[]),B.return=q,B)}function W(q,B,G,J,de){return B===null||B.tag!==7?(B=Sa(G,q.mode,J,de),B.return=q,B):(B=f(B,G),B.return=q,B)}function ne(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=dg(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case c:return G=Zc(B.type,B.key,B.props,null,q.mode,G),Ml(G,B),G.return=q,G;case d:return B=gg(B,q.mode,G),B.return=q,B;case K:var J=B._init;return B=J(B._payload),ne(q,B,G)}if(le(B)||ae(B))return B=Sa(B,q.mode,G,null),B.return=q,B;if(typeof B.then=="function")return ne(q,Mc(B),G);if(B.$$typeof===w)return ne(q,Yc(q,B),G);kc(q,B)}return null}function Q(q,B,G,J){var de=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:A(q,B,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===de?x(q,B,G,J):null;case d:return G.key===de?H(q,B,G,J):null;case K:return de=G._init,G=de(G._payload),Q(q,B,G,J)}if(le(G)||ae(G))return de!==null?null:W(q,B,G,J,null);if(typeof G.then=="function")return Q(q,B,Mc(G),J);if(G.$$typeof===w)return Q(q,B,Yc(q,G),J);kc(q,G)}return null}function X(q,B,G,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(G)||null,A(B,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return q=q.get(J.key===null?G:J.key)||null,x(B,q,J,de);case d:return q=q.get(J.key===null?G:J.key)||null,H(B,q,J,de);case K:var Me=J._init;return J=Me(J._payload),X(q,B,G,J,de)}if(le(J)||ae(J))return q=q.get(G)||null,W(B,q,J,de,null);if(typeof J.then=="function")return X(q,B,G,Mc(J),de);if(J.$$typeof===w)return X(q,B,G,Yc(B,J),de);kc(B,J)}return null}function pe(q,B,G,J){for(var de=null,Me=null,ve=B,Te=B=0,tn=null;ve!==null&&Te<G.length;Te++){ve.index>Te?(tn=ve,ve=null):tn=ve.sibling;var Ke=Q(q,ve,G[Te],J);if(Ke===null){ve===null&&(ve=tn);break}r&&ve&&Ke.alternate===null&&s(q,ve),B=m(Ke,B,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke,ve=tn}if(Te===G.length)return o(q,ve),Ge&&ga(q,Te),de;if(ve===null){for(;Te<G.length;Te++)ve=ne(q,G[Te],J),ve!==null&&(B=m(ve,B,Te),Me===null?de=ve:Me.sibling=ve,Me=ve);return Ge&&ga(q,Te),de}for(ve=u(ve);Te<G.length;Te++)tn=X(ve,q,Te,G[Te],J),tn!==null&&(r&&tn.alternate!==null&&ve.delete(tn.key===null?Te:tn.key),B=m(tn,B,Te),Me===null?de=tn:Me.sibling=tn,Me=tn);return r&&ve.forEach(function(ws){return s(q,ws)}),Ge&&ga(q,Te),de}function Re(q,B,G,J){if(G==null)throw Error(i(151));for(var de=null,Me=null,ve=B,Te=B=0,tn=null,Ke=G.next();ve!==null&&!Ke.done;Te++,Ke=G.next()){ve.index>Te?(tn=ve,ve=null):tn=ve.sibling;var ws=Q(q,ve,Ke.value,J);if(ws===null){ve===null&&(ve=tn);break}r&&ve&&ws.alternate===null&&s(q,ve),B=m(ws,B,Te),Me===null?de=ws:Me.sibling=ws,Me=ws,ve=tn}if(Ke.done)return o(q,ve),Ge&&ga(q,Te),de;if(ve===null){for(;!Ke.done;Te++,Ke=G.next())Ke=ne(q,Ke.value,J),Ke!==null&&(B=m(Ke,B,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke);return Ge&&ga(q,Te),de}for(ve=u(ve);!Ke.done;Te++,Ke=G.next())Ke=X(ve,q,Te,Ke.value,J),Ke!==null&&(r&&Ke.alternate!==null&&ve.delete(Ke.key===null?Te:Ke.key),B=m(Ke,B,Te),Me===null?de=Ke:Me.sibling=Ke,Me=Ke);return r&&ve.forEach(function($1){return s(q,$1)}),Ge&&ga(q,Te),de}function Et(q,B,G,J){if(typeof G=="object"&&G!==null&&G.type===g&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:e:{for(var de=G.key;B!==null;){if(B.key===de){if(de=G.type,de===g){if(B.tag===7){o(q,B.sibling),J=f(B,G.props.children),J.return=q,q=J;break e}}else if(B.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===K&&Yy(de)===B.type){o(q,B.sibling),J=f(B,G.props),Ml(J,G),J.return=q,q=J;break e}o(q,B);break}else s(q,B);B=B.sibling}G.type===g?(J=Sa(G.props.children,q.mode,J,G.key),J.return=q,q=J):(J=Zc(G.type,G.key,G.props,null,q.mode,J),Ml(J,G),J.return=q,q=J)}return E(q);case d:e:{for(de=G.key;B!==null;){if(B.key===de)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(q,B.sibling),J=f(B,G.children||[]),J.return=q,q=J;break e}else{o(q,B);break}else s(q,B);B=B.sibling}J=gg(G,q.mode,J),J.return=q,q=J}return E(q);case K:return de=G._init,G=de(G._payload),Et(q,B,G,J)}if(le(G))return pe(q,B,G,J);if(ae(G)){if(de=ae(G),typeof de!="function")throw Error(i(150));return G=de.call(G),Re(q,B,G,J)}if(typeof G.then=="function")return Et(q,B,Mc(G),J);if(G.$$typeof===w)return Et(q,B,Yc(q,G),J);kc(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(q,B.sibling),J=f(B,G),J.return=q,q=J):(o(q,B),J=dg(G,q.mode,J),J.return=q,q=J),E(q)):o(q,B)}return function(q,B,G,J){try{Ol=0;var de=Et(q,B,G,J);return go=null,de}catch(ve){if(ve===Nl)throw ve;var Me=gr(29,ve,null,q.mode);return Me.lanes=J,Me.return=q,Me}finally{}}}var pa=Xy(!0),Wy=Xy(!1),mo=Ie(null),Vc=Ie(0);function Zy(r,s){r=Ni,ye(Vc,r),ye(mo,s),Ni=r|s.baseLanes}function Ed(){ye(Vc,Ni),ye(mo,mo.current)}function Td(){Ni=Vc.current,qe(mo),qe(Vc)}var hr=Ie(null),Fr=null;function ss(r){var s=r.alternate;ye(qt,qt.current&1),ye(hr,r),Fr===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(Fr=r)}function Jy(r){if(r.tag===22){if(ye(qt,qt.current),ye(hr,r),Fr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Fr=r)}}else as()}function as(){ye(qt,qt.current),ye(hr,hr.current)}function Ei(r){qe(hr),Fr===r&&(Fr=null),qe(qt)}var qt=Ie(0);function Pc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kS=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},VS=n.unstable_scheduleCallback,PS=n.unstable_NormalPriority,Ft={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new kS,data:new Map,refCount:0}}function kl(r){r.refCount--,r.refCount===0&&VS(PS,function(){r.controller.abort()})}var Vl=null,wd=0,po=0,yo=null;function LS(r,s){if(Vl===null){var o=Vl=[];wd=0,po=Dg(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return wd++,s.then(ev,ev),s}function ev(){if(--wd===0&&Vl!==null){yo!==null&&(yo.status="fulfilled");var r=Vl;Vl=null,po=0,yo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function US(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var tv=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&LS(r,s),tv!==null&&tv(r,s)};var ya=Ie(null);function Ad(){var r=ya.current;return r!==null?r:nt.pooledCache}function Lc(r,s){s===null?ye(ya,ya.current):ye(ya,s.pool)}function nv(){var r=Ad();return r===null?null:{parent:Ft._currentValue,pool:r}}var os=0,Oe=null,We=null,Nt=null,Uc=!1,vo=!1,va=!1,jc=0,Pl=0,_o=null,jS=0;function St(){throw Error(i(321))}function Sd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!$n(r[o],s[o]))return!1;return!0}function Rd(r,s,o,u,f,m){return os=m,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?_a:ls,va=!1,m=o(u,f),va=!1,vo&&(m=iv(s,o,u,f)),rv(r),m}function rv(r){C.H=Gr;var s=We!==null&&We.next!==null;if(os=0,Nt=We=Oe=null,Uc=!1,Pl=0,_o=null,s)throw Error(i(300));r===null||Jt||(r=r.dependencies,r!==null&&Qc(r)&&(Jt=!0))}function iv(r,s,o,u){Oe=r;var f=0;do{if(vo&&(_o=null),Pl=0,vo=!1,25<=f)throw Error(i(301));if(f+=1,Nt=We=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=Ea,m=s(o,u)}while(vo);return m}function BS(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?Ll(s):s,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(Oe.flags|=1024),s}function Cd(){var r=jc!==0;return jc=0,r}function Id(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Dd(r){if(Uc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Uc=!1}os=0,Nt=We=Oe=null,vo=!1,Pl=jc=0,_o=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Oe.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function xt(){if(We===null){var r=Oe.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var s=Nt===null?Oe.memoizedState:Nt.next;if(s!==null)Nt=s,We=r;else{if(r===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?Oe.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}var Bc;Bc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ll(r){var s=Pl;return Pl+=1,_o===null&&(_o=[]),r=$y(_o,r,s),s=Oe,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?_a:ls),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ll(r);if(r.$$typeof===w)return Tn(r)}throw Error(i(438,String(r)))}function Nd(r){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Bc(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=ie;return s.index++,o}function Ti(r,s){return typeof s=="function"?s(r):s}function Hc(r){var s=xt();return xd(s,We,r)}function xd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var A=E=null,x=null,H=s,W=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(ze&ne)===ne:(os&ne)===ne){var Q=H.revertLane;if(Q===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===po&&(W=!0);else if((os&Q)===Q){H=H.next,Q===po&&(W=!0);continue}else ne={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=ne,E=m):x=x.next=ne,Oe.lanes|=Q,ys|=Q;ne=H.action,va&&o(m,ne),m=H.hasEagerState?H.eagerState:o(m,ne)}else Q={lane:ne,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(A=x=Q,E=m):x=x.next=Q,Oe.lanes|=ne,ys|=ne;H=H.next}while(H!==null&&H!==s);if(x===null?E=m:x.next=A,!$n(m,r.memoizedState)&&(Jt=!0,W&&(o=yo,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=x,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Od(r){var s=xt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);$n(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function sv(r,s,o){var u=Oe,f=xt(),m=Ge;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!$n((We||f).memoizedState,o);if(E&&(f.memoizedState=o,Jt=!0),f=f.queue,Vd(lv.bind(null,u,f,r),[r]),f.getSnapshot!==s||E||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,ov.bind(null,u,f,o,s),{destroy:void 0},null),nt===null)throw Error(i(349));m||os&60||av(u,s,o)}return o}function av(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=Bc(),Oe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function ov(r,s,o,u){s.value=o,s.getSnapshot=u,uv(s)&&cv(r)}function lv(r,s,o){return o(function(){uv(s)&&cv(r)})}function uv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!$n(r,o)}catch{return!0}}function cv(r){var s=is(r,2);s!==null&&On(s,r,2)}function Md(r){var s=Vn();if(typeof r=="function"){var o=r;if(r=o(),va){Hn(!0);try{o()}finally{Hn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},s}function hv(r,s,o,u){return r.baseState=o,xd(r,We,typeof u=="function"?u:Ti)}function zS(r,s,o,u,f){if(Gc(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};C.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,fv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function fv(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=C.T,E={};C.T=E;try{var A=o(f,u),x=C.S;x!==null&&x(E,A),dv(r,s,A)}catch(H){kd(r,s,H)}finally{C.T=m}}else try{m=o(f,u),dv(r,s,m)}catch(H){kd(r,s,H)}}function dv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){gv(r,s,u)},function(u){return kd(r,s,u)}):gv(r,s,o)}function gv(r,s,o){s.status="fulfilled",s.value=o,mv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,fv(r,o)))}function kd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,mv(s),s=s.next;while(s!==u)}r.action=null}function mv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function pv(r,s){return s}function yv(r,s){if(Ge){var o=nt.formState;if(o!==null){e:{var u=Oe;if(Ge){if(cn){t:{for(var f=cn,m=qr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Ar(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){cn=Ar(f.nextSibling),u=f.data==="F!";break e}}ma(u)}u=!1}u&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pv,lastRenderedState:s},o.queue=u,o=Vv.bind(null,Oe,u),u.dispatch=o,u=Md(!1),m=Bd.bind(null,Oe,!1,u.queue),u=Vn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=zS.bind(null,Oe,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function vv(r){var s=xt();return _v(s,We,r)}function _v(r,s,o){s=xd(r,s,pv)[0],r=Hc(Ti)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ll(s):s;var u=xt(),f=u.queue,m=f.dispatch;return o!==u.memoizedState&&(Oe.flags|=2048,Eo(9,HS.bind(null,f,o),{destroy:void 0},null)),[s,m,r]}function HS(r,s){r.action=s}function Ev(r){var s=xt(),o=We;if(o!==null)return _v(s,o,r);xt(),s=s.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Eo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Oe.updateQueue,s===null&&(s=Bc(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Tv(){return xt().memoizedState}function qc(r,s,o,u){var f=Vn();Oe.flags|=r,f.memoizedState=Eo(1|s,o,{destroy:void 0},u===void 0?null:u)}function Fc(r,s,o,u){var f=xt();u=u===void 0?null:u;var m=f.memoizedState.inst;We!==null&&u!==null&&Sd(u,We.memoizedState.deps)?f.memoizedState=Eo(s,o,m,u):(Oe.flags|=r,f.memoizedState=Eo(1|s,o,m,u))}function bv(r,s){qc(8390656,8,r,s)}function Vd(r,s){Fc(2048,8,r,s)}function wv(r,s){return Fc(4,2,r,s)}function Av(r,s){return Fc(4,4,r,s)}function Sv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Rv(r,s,o){o=o!=null?o.concat([r]):null,Fc(4,4,Sv.bind(null,s,r),o)}function Pd(){}function Cv(r,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Sd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Iv(r,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Sd(s,u[1]))return u[0];if(u=r(),va){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u}function Ld(r,s,o){return o===void 0||os&1073741824?r.memoizedState=s:(r.memoizedState=o,r=N_(),Oe.lanes|=r,ys|=r,o)}function Dv(r,s,o,u){return $n(o,s)?o:mo.current!==null?(r=Ld(r,o,u),$n(r,s)||(Jt=!0),r):os&42?(r=N_(),Oe.lanes|=r,ys|=r,s):(Jt=!0,r.memoizedState=o)}function Nv(r,s,o,u,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=C.T,A={};C.T=A,Bd(r,!1,s,o);try{var x=f(),H=C.S;if(H!==null&&H(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=US(x,u);Ul(r,s,W,Wn(r))}else Ul(r,s,u,Wn(r))}catch(ne){Ul(r,s,{then:function(){},status:"rejected",reason:ne},Wn())}finally{ue.p=m,C.T=E}}function qS(){}function Ud(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=xv(r).queue;Nv(r,f,s,Ae,o===null?qS:function(){return Ov(r),o(u)})}function xv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:Ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Ov(r){var s=xv(r).next.queue;Ul(r,s,{},Wn())}function jd(){return Tn(iu)}function Mv(){return xt().memoizedState}function kv(){return xt().memoizedState}function FS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Wn();r=hs(o);var u=fs(s,r,o);u!==null&&(On(u,s,o),zl(u,s,o)),s={cache:bd()},r.payload=s;return}s=s.return}}function GS(r,s,o){var u=Wn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gc(r)?Pv(s,o):(o=md(r,s,o,u),o!==null&&(On(o,r,u),Lv(o,s,u)))}function Vv(r,s,o){var u=Wn();Ul(r,s,o,u)}function Ul(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gc(r))Pv(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,A=m(E,o);if(f.hasEagerState=!0,f.eagerState=A,$n(A,E))return Ic(r,s,f,0),nt===null&&Cc(),!1}catch{}finally{}if(o=md(r,s,f,u),o!==null)return On(o,r,u),Lv(o,s,u),!0}return!1}function Bd(r,s,o,u){if(u={lane:2,revertLane:Dg(),action:u,hasEagerState:!1,eagerState:null,next:null},Gc(r)){if(s)throw Error(i(479))}else s=md(r,o,u,2),s!==null&&On(s,r,2)}function Gc(r){var s=r.alternate;return r===Oe||s!==null&&s===Oe}function Pv(r,s){vo=Uc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Lv(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Xt(r,o)}}var Gr={readContext:Tn,use:zc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St};Gr.useCacheRefresh=St,Gr.useMemoCache=St,Gr.useHostTransitionStatus=St,Gr.useFormState=St,Gr.useActionState=St,Gr.useOptimistic=St;var _a={readContext:Tn,use:zc,useCallback:function(r,s){return Vn().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:bv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,qc(4194308,4,Sv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return qc(4194308,4,r,s)},useInsertionEffect:function(r,s){qc(4,2,r,s)},useMemo:function(r,s){var o=Vn();s=s===void 0?null:s;var u=r();if(va){Hn(!0);try{r()}finally{Hn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Vn();if(o!==void 0){var f=o(s);if(va){Hn(!0);try{o(s)}finally{Hn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=GS.bind(null,Oe,r),[u.memoizedState,r]},useRef:function(r){var s=Vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Md(r);var s=r.queue,o=Vv.bind(null,Oe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Pd,useDeferredValue:function(r,s){var o=Vn();return Ld(o,r,s)},useTransition:function(){var r=Md(!1);return r=Nv.bind(null,Oe,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Oe,f=Vn();if(Ge){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),nt===null)throw Error(i(349));ze&60||av(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,bv(lv.bind(null,u,m,r),[r]),u.flags|=2048,Eo(9,ov.bind(null,u,m,o,s),{destroy:void 0},null),o},useId:function(){var r=Vn(),s=nt.identifierPrefix;if(Ge){var o=_i,u=vi;o=(u&~(1<<32-an(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=jc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=jS++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return Vn().memoizedState=FS.bind(null,Oe)}};_a.useMemoCache=Nd,_a.useHostTransitionStatus=jd,_a.useFormState=yv,_a.useActionState=yv,_a.useOptimistic=function(r){var s=Vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bd.bind(null,Oe,!0,o),o.dispatch=s,[r,s]};var ls={readContext:Tn,use:zc,useCallback:Cv,useContext:Tn,useEffect:Vd,useImperativeHandle:Rv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Iv,useReducer:Hc,useRef:Tv,useState:function(){return Hc(Ti)},useDebugValue:Pd,useDeferredValue:function(r,s){var o=xt();return Dv(o,We.memoizedState,r,s)},useTransition:function(){var r=Hc(Ti)[0],s=xt().memoizedState;return[typeof r=="boolean"?r:Ll(r),s]},useSyncExternalStore:sv,useId:Mv};ls.useCacheRefresh=kv,ls.useMemoCache=Nd,ls.useHostTransitionStatus=jd,ls.useFormState=vv,ls.useActionState=vv,ls.useOptimistic=function(r,s){var o=xt();return hv(o,We,r,s)};var Ea={readContext:Tn,use:zc,useCallback:Cv,useContext:Tn,useEffect:Vd,useImperativeHandle:Rv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Iv,useReducer:Od,useRef:Tv,useState:function(){return Od(Ti)},useDebugValue:Pd,useDeferredValue:function(r,s){var o=xt();return We===null?Ld(o,r,s):Dv(o,We.memoizedState,r,s)},useTransition:function(){var r=Od(Ti)[0],s=xt().memoizedState;return[typeof r=="boolean"?r:Ll(r),s]},useSyncExternalStore:sv,useId:Mv};Ea.useCacheRefresh=kv,Ea.useMemoCache=Nd,Ea.useHostTransitionStatus=jd,Ea.useFormState=Ev,Ea.useActionState=Ev,Ea.useOptimistic=function(r,s){var o=xt();return We!==null?hv(o,We,r,s):(o.baseState=r,[r,o.queue.dispatch])};function zd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:N({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hd={isMounted:function(r){return(r=r._reactInternals)?me(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Wn(),f=hs(u);f.payload=s,o!=null&&(f.callback=o),s=fs(r,f,u),s!==null&&(On(s,r,u),zl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Wn(),f=hs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=fs(r,f,u),s!==null&&(On(s,r,u),zl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Wn(),u=hs(o);u.tag=2,s!=null&&(u.callback=s),s=fs(r,u,o),s!==null&&(On(s,r,o),zl(s,r,o))}};function Uv(r,s,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Sl(o,u)||!Sl(f,m):!0}function jv(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Hd.enqueueReplaceState(s,s.state,null)}function Ta(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=N({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Kc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Bv(r){Kc(r)}function zv(r){console.error(r)}function Hv(r){Kc(r)}function $c(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function qv(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(r,s,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){$c(r,s)},o}function Fv(r){return r=hs(r),r.tag=3,r}function Gv(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){qv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){qv(s,o,u),typeof f!="function"&&(vs===null?vs=new Set([this]):vs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function KS(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Bl(s,o,f,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Fr===null?Ag():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===_d?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Rg(r,u,f)),!1;case 22:return o.flags|=65536,u===_d?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Rg(r,u,f)),!1}throw Error(i(435,o.tag))}return Rg(r,u,f),Ag(),!1}if(Ge)return s=hr.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==vd&&(r=Error(i(422),{cause:u}),Dl(lr(r,o)))):(u!==vd&&(s=Error(i(423),{cause:u}),Dl(lr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=lr(u,o),f=qd(r.stateNode,u,f),ig(r,f),_t!==4&&(_t=2)),!1;var m=Error(i(520),{cause:u});if(m=lr(m,o),Yl===null?Yl=[m]:Yl.push(m),_t!==4&&(_t=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=qd(o.stateNode,u,r),ig(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(vs===null||!vs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Fv(f),Gv(f,r,o,u),ig(o,f),!1}o=o.return}while(o!==null);return!1}var Kv=Error(i(461)),Jt=!1;function hn(r,s,o,u){s.child=r===null?Wy(s,null,o,u):pa(s,r.child,o,u)}function $v(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return wa(s),u=Rd(r,s,o,E,m,f),A=Cd(),r!==null&&!Jt?(Id(r,s,f),bi(r,s,f)):(Ge&&A&&pd(s),s.flags|=1,hn(r,s,u,f),s.child)}function Qv(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!fg(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,Yv(r,s,m,u,f)):(r=Zc(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Zd(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Sl,o(E,u)&&r.ref===s.ref)return bi(r,s,f)}return s.flags|=1,r=ps(m,u),r.ref=s.ref,r.return=s,s.child=r}function Yv(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(Sl(m,u)&&r.ref===s.ref)if(Jt=!1,s.pendingProps=u=m,Zd(r,f))r.flags&131072&&(Jt=!0);else return s.lanes=r.lanes,bi(r,s,f)}return Fd(r,s,o,u,f)}function Xv(r,s,o){var u=s.pendingProps,f=u.children,m=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(jl(r,s),u.mode==="hidden"||m){if(s.flags&128){if(u=E!==null?E.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return Wv(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lc(s,E!==null?E.cachePool:null),E!==null?Zy(s,E):Ed(),Jy(s);else return s.lanes=s.childLanes=536870912,Wv(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Lc(s,E.cachePool),Zy(s,E),as(),s.memoizedState=null):(r!==null&&Lc(s,null),Ed(),as());return hn(r,s,f,o),s.child}function Wv(r,s,o,u){var f=Ad();return f=f===null?null:{parent:Ft._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Lc(s,null),Ed(),Jy(s),r!==null&&Bl(r,s,u,!0),null}function jl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Fd(r,s,o,u,f){return wa(s),o=Rd(r,s,o,u,void 0,f),u=Cd(),r!==null&&!Jt?(Id(r,s,f),bi(r,s,f)):(Ge&&u&&pd(s),s.flags|=1,hn(r,s,o,f),s.child)}function Zv(r,s,o,u,f,m){return wa(s),s.updateQueue=null,o=iv(s,u,o,f),rv(r),u=Cd(),r!==null&&!Jt?(Id(r,s,m),bi(r,s,m)):(Ge&&u&&pd(s),s.flags|=1,hn(r,s,o,m),s.child)}function Jv(r,s,o,u,f){if(wa(s),s.stateNode===null){var m=co,E=o.contextType;typeof E=="object"&&E!==null&&(m=Tn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},ng(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?Tn(E):co,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(zd(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Hd.enqueueReplaceState(m,m.state,null),ql(s,u,m,f),Hl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var A=s.memoizedProps,x=Ta(o,A);m.props=x;var H=m.context,W=o.contextType;E=co,typeof W=="object"&&W!==null&&(E=Tn(W));var ne=o.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||H!==E)&&jv(s,m,u,E),cs=!1;var Q=s.memoizedState;m.state=Q,ql(s,u,m,f),Hl(),H=s.memoizedState,A||Q!==H||cs?(typeof ne=="function"&&(zd(s,o,ne,u),H=s.memoizedState),(x=cs||Uv(s,o,x,u,Q,H,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=E,u=x):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,rg(r,s),E=s.memoizedProps,W=Ta(o,E),m.props=W,ne=s.pendingProps,Q=m.context,H=o.contextType,x=co,typeof H=="object"&&H!==null&&(x=Tn(H)),A=o.getDerivedStateFromProps,(H=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||Q!==x)&&jv(s,m,u,x),cs=!1,Q=s.memoizedState,m.state=Q,ql(s,u,m,f),Hl();var X=s.memoizedState;E!==ne||Q!==X||cs||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof A=="function"&&(zd(s,o,A,u),X=s.memoizedState),(W=cs||Uv(s,o,W,u,Q,X,x)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,x)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),m.props=u,m.state=X,m.context=x,u=W):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,jl(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=pa(s,r.child,null,f),s.child=pa(s,null,o,f)):hn(r,s,o,f),s.memoizedState=m.state,r=s.child):r=bi(r,s,f),r}function e_(r,s,o,u){return Il(),s.flags|=256,hn(r,s,o,u),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Kd(r){return{baseLanes:r,cachePool:nv()}}function $d(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=mr),r}function t_(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ge){if(f?ss(s):as(),Ge){var A=cn,x;if(x=A){e:{for(x=A,A=qr;x.nodeType!==8;){if(!A){A=null;break e}if(x=Ar(x.nextSibling),x===null){A=null;break e}}A=x}A!==null?(s.memoizedState={dehydrated:A,treeContext:da!==null?{id:vi,overflow:_i}:null,retryLane:536870912},x=gr(18,null,null,0),x.stateNode=A,x.return=s,s.child=x,xn=s,cn=null,x=!0):x=!1}x||ma(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ei(s)}return A=u.children,u=u.fallback,f?(as(),f=s.mode,A=Yd({mode:"hidden",children:A},f),u=Sa(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=Kd(o),f.childLanes=$d(r,E,o),s.memoizedState=Gd,u):(ss(s),Qd(s,A))}if(x=r.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(m)s.flags&256?(ss(s),s.flags&=-257,s=Xd(r,s,o)):s.memoizedState!==null?(as(),s.child=r.child,s.flags|=128,s=null):(as(),f=u.fallback,A=s.mode,u=Yd({mode:"visible",children:u.children},A),f=Sa(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,pa(s,r.child,null,o),u=s.child,u.memoizedState=Kd(o),u.childLanes=$d(r,E,o),s.memoizedState=Gd,s=f);else if(ss(s),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(i(419)),u.stack="",u.digest=E,Dl({value:u,source:null,stack:null}),s=Xd(r,s,o)}else if(Jt||Bl(r,s,o,!1),E=(o&r.childLanes)!==0,Jt||E){if(E=nt,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==x.retryLane)throw x.retryLane=u,is(r,u),On(E,r,u),Kv}A.data==="$?"||Ag(),s=Xd(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=o1.bind(null,r),A._reactRetry=s,s=null):(r=x.treeContext,cn=Ar(A.nextSibling),xn=s,Ge=!0,br=null,qr=!1,r!==null&&(ur[cr++]=vi,ur[cr++]=_i,ur[cr++]=da,vi=r.id,_i=r.overflow,da=s),s=Qd(s,u.children),s.flags|=4096);return s}return f?(as(),f=u.fallback,A=s.mode,x=r.child,H=x.sibling,u=ps(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&31457280,H!==null?f=ps(H,f):(f=Sa(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=Kd(o):(x=A.cachePool,x!==null?(H=Ft._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=nv(),A={baseLanes:A.baseLanes|o,cachePool:x}),f.memoizedState=A,f.childLanes=$d(r,E,o),s.memoizedState=Gd,u):(ss(s),o=r.child,r=o.sibling,o=ps(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Qd(r,s){return s=Yd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Yd(r,s){return C_(r,s,0,null)}function Xd(r,s,o){return pa(s,r.child,null,o),r=Qd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function n_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),eg(r.return,s,o)}function Wd(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function r_(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(hn(r,s,u.children,o),u=qt.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&n_(r,o,s);else if(r.tag===19)n_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(ye(qt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Pc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Wd(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Pc(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Wd(s,!0,o,null,m);break;case"together":Wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ys|=s.lanes,!(o&s.childLanes))if(r!==null){if(Bl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ps(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ps(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Zd(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function $S(r,s,o){switch(s.tag){case 3:In(s,s.stateNode.containerInfo),us(s,Ft,r.memoizedState.cache),Il();break;case 27:case 5:Gi(s);break;case 4:In(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ss(s),s.flags|=128,null):o&s.child.childLanes?t_(r,s,o):(ss(s),r=bi(r,s,o),r!==null?r.sibling:null);ss(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Bl(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return r_(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(qt,qt.current),u)break;return null;case 22:case 23:return s.lanes=0,Xv(r,s,o);case 24:us(s,Ft,r.memoizedState.cache)}return bi(r,s,o)}function i_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Zd(r,o)&&!(s.flags&128))return Jt=!1,$S(r,s,o);Jt=!!(r.flags&131072)}else Jt=!1,Ge&&s.flags&1048576&&Hy(s,xc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")fg(u)?(r=Ta(u,r),s.tag=1,s=Jv(null,s,u,r,o)):(s.tag=0,s=Fd(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===k){s.tag=11,s=$v(null,s,u,r,o);break e}else if(f===j){s.tag=14,s=Qv(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Fd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ta(u,s.pendingProps),Jv(r,s,u,f,o);case 3:e:{if(In(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var m=s.pendingProps;f=s.memoizedState,u=f.element,rg(r,s),ql(s,m,null,o);var E=s.memoizedState;if(m=E.cache,us(s,Ft,m),m!==f.cache&&tg(s,[Ft],o,!0),Hl(),m=E.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=e_(r,s,m,o);break e}else if(m!==u){u=lr(Error(i(424)),s),Dl(u),s=e_(r,s,m,o);break e}else for(cn=Ar(s.stateNode.containerInfo.firstChild),xn=s,Ge=!0,br=null,qr=!0,o=Wy(s,null,m,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Il(),m===u){s=bi(r,s,o);break e}hn(r,s,m,o)}s=s.child}return s;case 26:return jl(r,s),r===null?(o=o0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,r=s.pendingProps,u=ch(Vt.current).createElement(o),u[pt]=s,u[Bt]=r,fn(u,o,r),ht(u),s.stateNode=u):s.memoizedState=o0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Gi(s),r===null&&Ge&&(u=s.stateNode=i0(s.type,s.pendingProps,Vt.current),xn=s,qr=!0,cn=Ar(u.firstChild)),u=s.pendingProps.children,r!==null||Ge?hn(r,s,u,o):s.child=pa(s,null,u,o),jl(r,s),s.child;case 5:return r===null&&Ge&&((f=u=cn)&&(u=w1(u,s.type,s.pendingProps,qr),u!==null?(s.stateNode=u,xn=s,cn=Ar(u.firstChild),qr=!1,f=!0):f=!1),f||ma(s)),Gi(s),f=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,Ug(f,m)?u=null:E!==null&&Ug(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=Rd(r,s,BS,null,null,o),iu._currentValue=f),jl(r,s),hn(r,s,u,o),s.child;case 6:return r===null&&Ge&&((r=o=cn)&&(o=A1(o,s.pendingProps,qr),o!==null?(s.stateNode=o,xn=s,cn=null,r=!0):r=!1),r||ma(s)),null;case 13:return t_(r,s,o);case 4:return In(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=pa(s,null,u,o):hn(r,s,u,o),s.child;case 11:return $v(r,s,s.type,s.pendingProps,o);case 7:return hn(r,s,s.pendingProps,o),s.child;case 8:return hn(r,s,s.pendingProps.children,o),s.child;case 12:return hn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,us(s,s.type,u.value),hn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,wa(s),f=Tn(f),u=u(f),s.flags|=1,hn(r,s,u,o),s.child;case 14:return Qv(r,s,s.type,s.pendingProps,o);case 15:return Yv(r,s,s.type,s.pendingProps,o);case 19:return r_(r,s,o);case 22:return Xv(r,s,o);case 24:return wa(s),u=Tn(Ft),r===null?(f=Ad(),f===null&&(f=nt,m=bd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},ng(s),us(s,Ft,f)):(r.lanes&o&&(rg(r,s),ql(s,null,null,o),Hl()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),us(s,Ft,u)):(u=m.cache,us(s,Ft,u),u!==f.cache&&tg(s,[Ft],o,!0))),hn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Jd=Ie(null),ba=null,wi=null;function us(r,s,o){ye(Jd,s._currentValue),s._currentValue=o}function Ai(r){r._currentValue=Jd.current,qe(Jd)}function eg(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function tg(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var x=0;x<s.length;x++)if(A.context===s[x]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),eg(m.return,o,r),u||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),eg(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Bl(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if(f.flags&524288)m=!0;else if(f.flags&262144)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=f.type;$n(f.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(f===Qt.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(iu):r=[iu])}f=f.return}r!==null&&tg(s,r,o,u),s.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wa(r){ba=r,wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return s_(ba,r)}function Yc(r,s){return ba===null&&wa(r),s_(r,s)}function s_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},wi===null){if(r===null)throw Error(i(308));wi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else wi=wi.next=s;return o}var cs=!1;function ng(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,dt&2){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Dc(r),By(r,null,o),s}return Ic(r,u,s,o),Dc(r)}function zl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Xt(r,o)}}function ig(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var sg=!1;function Hl(){if(sg){var r=yo;if(r!==null)throw r}}function ql(r,s,o,u){sg=!1;var f=r.updateQueue;cs=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var x=A,H=x.next;x.next=null,E===null?m=H:E.next=H,E=x;var W=r.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=H:A.next=H,W.lastBaseUpdate=x))}if(m!==null){var ne=f.baseState;E=0,W=H=x=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(ze&Q)===Q:(u&Q)===Q){Q!==0&&Q===po&&(sg=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=r,Re=A;Q=s;var Et=o;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){ne=pe.call(Et,ne,Q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,Q=typeof pe=="function"?pe.call(Et,ne,Q):pe,Q==null)break e;ne=N({},ne,Q);break e;case 2:cs=!0}}Q=A.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(H=W=X,x=ne):W=W.next=X,E|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(x=ne),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ys|=E,r.lanes=E,r.memoizedState=ne}}function a_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function o_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)a_(o[r],s)}function Fl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){Je(s,s.return,A)}}function ds(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var x=o;try{A()}catch(H){Je(f,x,H)}}}u=u.next}while(u!==m)}}catch(H){Je(s,s.return,H)}}function l_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{o_(s,o)}catch(u){Je(r,r.return,u)}}}function u_(r,s,o){o.props=Ta(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Je(r,s,u)}}function Aa(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(m){Je(r,s,m)}}function Qn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Je(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Je(r,s,f)}else o.current=null}function c_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Je(r,r.return,f)}}function h_(r,s,o){try{var u=r.stateNode;v1(u,r.type,o,s),u[Bt]=s}catch(f){Je(r,r.return,f)}}function f_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||f_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function og(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=uh));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(og(r,s,o),r=r.sibling;r!==null;)og(r,s,o),r=r.sibling}function Xc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(Xc(r,s,o),r=r.sibling;r!==null;)Xc(r,s,o),r=r.sibling}var Si=!1,vt=!1,lg=!1,d_=typeof WeakSet=="function"?WeakSet:Set,en=null,g_=!1;function QS(r,s){if(r=r.containerInfo,Pg=ph,r=xy(r),cd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,x=-1,H=0,W=0,ne=r,Q=null;t:for(;;){for(var X;ne!==o||f!==0&&ne.nodeType!==3||(A=E+f),ne!==m||u!==0&&ne.nodeType!==3||(x=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===r)break t;if(Q===o&&++H===f&&(A=E),Q===m&&++W===u&&(x=E),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}o=A===-1||x===-1?null:{start:A,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lg={focusedElem:r,selectionRange:o},ph=!1,en=s;en!==null;)if(s=en,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,en=r;else for(;en!==null;){switch(s=en,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var pe=Ta(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){Je(o,o.return,Re)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)zg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,en=r;break}en=s.return}return pe=g_,g_=!1,pe}function m_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ci(r,o),u&4&&Fl(5,o);break;case 1:if(Ci(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){Je(o,o.return,A)}else{var f=Ta(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Je(o,o.return,A)}}u&64&&l_(o),u&512&&Aa(o,o.return);break;case 3:if(Ci(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{o_(u,r)}catch(A){Je(o,o.return,A)}}break;case 26:Ci(r,o),u&512&&Aa(o,o.return);break;case 27:case 5:Ci(r,o),s===null&&u&4&&c_(o),u&512&&Aa(o,o.return);break;case 12:Ci(r,o);break;case 13:Ci(r,o),u&4&&v_(r,o);break;case 22:if(f=o.memoizedState!==null||Si,!f){s=s!==null&&s.memoizedState!==null||vt;var m=Si,E=vt;Si=f,(vt=s)&&!E?gs(r,o,(o.subtreeFlags&8772)!==0):Ci(r,o),Si=m,vt=E}u&512&&(o.memoizedProps.mode==="manual"?Aa(o,o.return):Qn(o,o.return));break;default:Ci(r,o)}}function p_(r){var s=r.alternate;s!==null&&(r.alternate=null,p_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ea(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ot=null,Yn=!1;function Ri(r,s,o){for(o=o.child;o!==null;)y_(r,s,o),o=o.sibling}function y_(r,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Or,o)}catch{}switch(o.tag){case 26:vt||Qn(o,s),Ri(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||Qn(o,s);var u=Ot,f=Yn;for(Ot=o.stateNode,Ri(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);ea(o),Ot=u,Yn=f;break;case 5:vt||Qn(o,s);case 6:f=Ot;var m=Yn;if(Ot=null,Ri(r,s,o),Ot=f,Yn=m,Ot!==null)if(Yn)try{r=Ot,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){Je(o,s,E)}else try{Ot.removeChild(o.stateNode)}catch(E){Je(o,s,E)}break;case 18:Ot!==null&&(Yn?(s=Ot,o=o.stateNode,s.nodeType===8?Bg(s.parentNode,o):s.nodeType===1&&Bg(s,o),lu(s)):Bg(Ot,o.stateNode));break;case 4:u=Ot,f=Yn,Ot=o.stateNode.containerInfo,Yn=!0,Ri(r,s,o),Ot=u,Yn=f;break;case 0:case 11:case 14:case 15:vt||ds(2,o,s),vt||ds(4,o,s),Ri(r,s,o);break;case 1:vt||(Qn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&u_(o,s,u)),Ri(r,s,o);break;case 21:Ri(r,s,o);break;case 22:vt||Qn(o,s),vt=(u=vt)||o.memoizedState!==null,Ri(r,s,o),vt=u;break;default:Ri(r,s,o)}}function v_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lu(r)}catch(o){Je(s,s.return,o)}}function YS(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new d_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new d_),s;default:throw Error(i(435,r.tag))}}function ug(r,s){var o=YS(r);s.forEach(function(u){var f=l1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function fr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:case 5:Ot=A.stateNode,Yn=!1;break e;case 3:Ot=A.stateNode.containerInfo,Yn=!0;break e;case 4:Ot=A.stateNode.containerInfo,Yn=!0;break e}A=A.return}if(Ot===null)throw Error(i(160));y_(m,E,f),Ot=null,Yn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)__(s,r),s=s.sibling}var wr=null;function __(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fr(s,r),dr(r),u&4&&(ds(3,r,r.return),Fl(3,r),ds(5,r,r.return));break;case 1:fr(s,r),dr(r),u&512&&(vt||o===null||Qn(o,o.return)),u&64&&Si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=wr;if(fr(s,r),dr(r),u&512&&(vt||o===null||Qn(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Xi]||m[pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),fn(m,u,o),m[pt]=r,ht(m),u=m;break e;case"link":var E=c0("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(u),fn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=c0("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=f.createElement(u),fn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[pt]=r,ht(m),u=m}r.stateNode=u}else h0(f,r.type,r.stateNode);else r.stateNode=u0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?h0(f,r.type,r.stateNode):u0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&h_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){f=r.stateNode,m=r.memoizedProps;try{for(var x=f.firstChild;x;){var H=x.nextSibling,W=x.nodeName;x[Xi]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&x.rel.toLowerCase()==="stylesheet"||f.removeChild(x),x=H}for(var ne=r.type,Q=f.attributes;Q.length;)f.removeAttributeNode(Q[0]);fn(f,ne,m),f[pt]=r,f[Bt]=m}catch(pe){Je(r,r.return,pe)}}case 5:if(fr(s,r),dr(r),u&512&&(vt||o===null||Qn(o,o.return)),r.flags&32){f=r.stateNode;try{rr(f,"")}catch(pe){Je(r,r.return,pe)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,h_(r,f,o!==null?o.memoizedProps:f)),u&1024&&(lg=!0);break;case 6:if(fr(s,r),dr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(pe){Je(r,r.return,pe)}}break;case 3:if(dh=null,f=wr,wr=hh(s.containerInfo),fr(s,r),wr=f,dr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lu(s.containerInfo)}catch(pe){Je(r,r.return,pe)}lg&&(lg=!1,E_(r));break;case 4:u=wr,wr=hh(r.stateNode.containerInfo),fr(s,r),dr(r),wr=u;break;case 12:fr(s,r),dr(r);break;case 13:fr(s,r),dr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vg=sn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ug(r,u)));break;case 22:if(u&512&&(vt||o===null||Qn(o,o.return)),x=r.memoizedState!==null,H=o!==null&&o.memoizedState!==null,W=Si,ne=vt,Si=W||x,vt=ne||H,fr(s,r),vt=ne,Si=W,dr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=x?s._visibility&-2:s._visibility|1,x&&(s=Si||vt,o===null||H||s||To(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){H=o=s;try{if(f=H.stateNode,x)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=H.stateNode,A=H.memoizedProps.style;var X=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(H,H.return,pe)}}}else if(s.tag===6){if(o===null){H=s;try{H.stateNode.nodeValue=x?"":H.memoizedProps}catch(pe){Je(H,H.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ug(r,o))));break;case 19:fr(s,r),dr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,ug(r,u)));break;case 21:break;default:fr(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(f_(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var f=u.stateNode,m=ag(r);Xc(r,m,f);break;case 5:var E=u.stateNode;u.flags&32&&(rr(E,""),u.flags&=-33);var A=ag(r);Xc(r,A,E);break;case 3:case 4:var x=u.stateNode.containerInfo,H=ag(r);og(r,H,x);break;default:throw Error(i(161))}}}catch(W){Je(r,r.return,W)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function E_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;E_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ci(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)m_(r,s.alternate,s),s=s.sibling}function To(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ds(4,s,s.return),To(s);break;case 1:Qn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&u_(s,s.return,o),To(s);break;case 26:case 27:case 5:Qn(s,s.return),To(s);break;case 22:Qn(s,s.return),s.memoizedState===null&&To(s);break;default:To(s)}r=r.sibling}}function gs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:gs(f,m,o),Fl(4,m);break;case 1:if(gs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Je(u,u.return,H)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)a_(x[f],A)}catch(H){Je(u,u.return,H)}}o&&E&64&&l_(m),Aa(m,m.return);break;case 26:case 27:case 5:gs(f,m,o),o&&u===null&&E&4&&c_(m),Aa(m,m.return);break;case 12:gs(f,m,o);break;case 13:gs(f,m,o),o&&E&4&&v_(f,m);break;case 22:m.memoizedState===null&&gs(f,m,o),Aa(m,m.return);break;default:gs(f,m,o)}s=s.sibling}}function cg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&kl(o))}function hg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r))}function ms(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T_(r,s,o,u),s=s.sibling}function T_(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:ms(r,s,o,u),f&2048&&Fl(9,s);break;case 3:ms(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&kl(r)));break;case 12:if(f&2048){ms(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(x){Je(s,s.return,x)}}else ms(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,s.memoizedState!==null?m._visibility&4?ms(r,s,o,u):Gl(r,s):m._visibility&4?ms(r,s,o,u):(m._visibility|=4,bo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&cg(s.alternate,s);break;case 24:ms(r,s,o,u),f&2048&&hg(s.alternate,s);break;default:ms(r,s,o,u)}}function bo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,A=o,x=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:bo(m,E,A,x,f),Fl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?bo(m,E,A,x,f):Gl(m,E):(W._visibility|=4,bo(m,E,A,x,f)),f&&H&2048&&cg(E.alternate,E);break;case 24:bo(m,E,A,x,f),f&&H&2048&&hg(E.alternate,E);break;default:bo(m,E,A,x,f)}s=s.sibling}}function Gl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Gl(o,u),f&2048&&cg(u.alternate,u);break;case 24:Gl(o,u),f&2048&&hg(u.alternate,u);break;default:Gl(o,u)}s=s.sibling}}var Kl=8192;function wo(r){if(r.subtreeFlags&Kl)for(r=r.child;r!==null;)b_(r),r=r.sibling}function b_(r){switch(r.tag){case 26:wo(r),r.flags&Kl&&r.memoizedState!==null&&L1(wr,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var s=wr;wr=hh(r.stateNode.containerInfo),wo(r),wr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Kl,Kl=16777216,wo(r),Kl=s):wo(r));break;default:wo(r)}}function w_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function $l(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,S_(u,r)}w_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(r),r=r.sibling}function A_(r){switch(r.tag){case 0:case 11:case 15:$l(r),r.flags&2048&&ds(9,r,r.return);break;case 3:$l(r);break;case 12:$l(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Wc(r)):$l(r);break;default:$l(r)}}function Wc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];en=u,S_(u,r)}w_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ds(8,s,s.return),Wc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Wc(s));break;default:Wc(s)}r=r.sibling}}function S_(r,s){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:ds(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,en=u;else e:for(o=r;en!==null;){u=en;var f=u.sibling,m=u.return;if(p_(u),u===o){en=null;break e}if(f!==null){f.return=m,en=f;break e}en=m}}}function XS(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(r,s,o,u){return new XS(r,s,o,u)}function fg(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ps(r,s){var o=r.alternate;return o===null?(o=gr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function R_(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Zc(r,s,o,u,f,m){var E=0;if(u=r,typeof r=="function")fg(r)&&(E=1);else if(typeof r=="string")E=V1(r,o,wt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case g:return Sa(o.children,f,m,s);case p:E=8,f|=24;break;case v:return r=gr(12,o,s,f|2),r.elementType=v,r.lanes=m,r;case z:return r=gr(13,o,s,f),r.elementType=z,r.lanes=m,r;case O:return r=gr(19,o,s,f),r.elementType=O,r.lanes=m,r;case $:return C_(o,f,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case w:E=10;break e;case b:E=9;break e;case k:E=11;break e;case j:E=14;break e;case K:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=gr(E,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function Sa(r,s,o,u){return r=gr(7,r,u,s),r.lanes=o,r}function C_(r,s,o,u){r=gr(22,r,u,s),r.elementType=$,r.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(i(456));if(!(f._pendingVisibility&2)){var E=is(m,2);E!==null&&(f._pendingVisibility|=2,On(E,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(i(456));if(f._pendingVisibility&2){var E=is(m,2);E!==null&&(f._pendingVisibility&=-3,On(E,m,2))}}};return r.stateNode=f,r}function dg(r,s,o){return r=gr(6,r,null,s),r.lanes=o,r}function gg(r,s,o){return s=gr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Ii(r){r.flags|=4}function I_(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!f0(s)){if(s=hr.current,s!==null&&((ze&4194176)===ze?Fr!==null:(ze&62914560)!==ze&&!(ze&536870912)||s!==Fr))throw xl=_d,Gy;r.flags|=8192}}function Jc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ut():536870912,r.lanes|=s,So|=s)}function Ql(r,s){if(!Ge)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function WS(r,s,o){var u=s.pendingProps;switch(yd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ai(Ft),yn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Cl(s)?Ii(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,br!==null&&(bg(br),br=null))),ft(s),null;case 26:return o=s.memoizedState,r===null?(Ii(s),o!==null?(ft(s),I_(s,o)):(ft(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ii(s),ft(s),I_(s,o)):(ft(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ii(s),ft(s),s.flags&=-16777217),null;case 27:oi(s),o=Vt.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}r=wt.current,Cl(s)?qy(s):(r=i0(f,u,o),s.stateNode=r,Ii(s))}return ft(s),null;case 5:if(oi(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ft(s),null}if(r=wt.current,Cl(s))qy(s);else{switch(f=ch(Vt.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[pt]=s,r[Bt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(fn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ii(s)}}return ft(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ii(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,Cl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=xn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Z_(r.nodeValue,o)),r||ma(s)}else r=ch(r).createTextNode(u),r[pt]=s,s.stateNode=r}return ft(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Cl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[pt]=s}else Il(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ft(s),f=!1}else br!==null&&(bg(br),br=null),f=!0;if(!f)return s.flags&256?(Ei(s),s):(Ei(s),null)}if(Ei(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Jc(s,s.updateQueue),ft(s),null;case 4:return yn(),r===null&&Mg(s.stateNode.containerInfo),ft(s),null;case 10:return Ai(s.type),ft(s),null;case 19:if(qe(qt),f=s.memoizedState,f===null)return ft(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)Ql(f,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(m=Pc(r),m!==null){for(s.flags|=128,Ql(f,!1),r=m.updateQueue,s.updateQueue=r,Jc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)R_(o,r),o=o.sibling;return ye(qt,qt.current&1|2),s.child}r=r.sibling}f.tail!==null&&sn()>eh&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304)}else{if(!u)if(r=Pc(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Jc(s,r),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return ft(s),null}else 2*sn()-f.renderingStartTime>eh&&o!==536870912&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=sn(),s.sibling=null,r=qt.current,ye(qt,u?r&1|2:r&1),s):(ft(s),null);case 22:case 23:return Ei(s),Td(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),o=s.updateQueue,o!==null&&Jc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&qe(ya),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ai(Ft),ft(s),null;case 25:return null}throw Error(i(156,s.tag))}function ZS(r,s){switch(yd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ai(Ft),yn(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return oi(s),null;case 13:if(Ei(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Il()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return qe(qt),null;case 4:return yn(),null;case 10:return Ai(s.type),null;case 22:case 23:return Ei(s),Td(),r!==null&&qe(ya),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ai(Ft),null;case 25:return null;default:return null}}function D_(r,s){switch(yd(s),s.tag){case 3:Ai(Ft),yn();break;case 26:case 27:case 5:oi(s);break;case 4:yn();break;case 13:Ei(s);break;case 19:qe(qt);break;case 10:Ai(s.type);break;case 22:case 23:Ei(s),Td(),r!==null&&qe(ya);break;case 24:Ai(Ft)}}var JS={getCacheForType:function(r){var s=Tn(Ft),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},e1=typeof WeakMap=="function"?WeakMap:Map,dt=0,nt=null,ke=null,ze=0,rt=0,Xn=null,Di=!1,Ao=!1,mg=!1,Ni=0,_t=0,ys=0,Ra=0,pg=0,mr=0,So=0,Yl=null,Kr=null,yg=!1,vg=0,eh=1/0,th=null,vs=null,nh=!1,Ca=null,Xl=0,_g=0,Eg=null,Wl=0,Tg=null;function Wn(){if(dt&2&&ze!==0)return ze&-ze;if(C.T!==null){var r=po;return r!==0?r:Dg()}return kr()}function N_(){mr===0&&(mr=!(ze&536870912)||Ge?Lt():536870912);var r=hr.current;return r!==null&&(r.flags|=32),mr}function On(r,s,o){(r===nt&&rt===2||r.cancelPendingCommit!==null)&&(Ro(r,0),xi(r,ze,mr,!1)),xe(r,o),(!(dt&2)||r!==nt)&&(r===nt&&(!(dt&2)&&(Ra|=o),_t===4&&xi(r,ze,mr,!1)),$r(r))}function x_(r,s,o){if(dt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||on(r,s),f=u?r1(r,s):Sg(r,s,!0),m=u;do{if(f===0){Ao&&!u&&xi(r,s,0,!1);break}else if(f===6)xi(r,s,0,!Di);else{if(o=r.current.alternate,m&&!t1(o)){f=Sg(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;f=Yl;var x=A.current.memoizedState.isDehydrated;if(x&&(Ro(A,E).flags|=256),E=Sg(A,E,!1),E!==2){if(mg&&!x){A.errorRecoveryDisabledLanes|=m,Ra|=m,f=4;break e}m=Kr,Kr=f,m!==null&&bg(m)}f=E}if(m=!1,f!==2)continue}}if(f===1){Ro(r,0),xi(r,s,0,!0);break}e:{switch(u=r,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){xi(u,s,mr,!Di);break e}break;case 2:Kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(m=vg+300-sn(),10<m)){if(xi(u,s,mr,!Di),tt(u,0)!==0)break e;u.timeoutHandle=t0(O_.bind(null,u,o,Kr,th,yg,s,mr,Ra,So,Di,2,-0,0),m);break e}O_(u,o,Kr,th,yg,s,mr,Ra,So,Di,0,-0,0)}}break}while(!0);$r(r)}function bg(r){Kr===null?Kr=r:Kr.push.apply(Kr,r)}function O_(r,s,o,u,f,m,E,A,x,H,W,ne,Q){var X=s.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:P1},b_(s),s=U1(),s!==null)){r.cancelPendingCommit=s(j_.bind(null,r,o,u,f,E,A,x,1,ne,Q)),xi(r,m,E,!H);return}j_(r,o,u,f,E,A,x,W,ne,Q)}function t1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!$n(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s,o,u){s&=~pg,s&=~Ra,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-an(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&jt(r,o,s)}function rh(){return dt&6?!0:(Zl(0),!1)}function wg(){if(ke!==null){if(rt===0)var r=ke.return;else r=ke,wi=ba=null,Dd(r),go=null,Ol=0,r=ke;for(;r!==null;)D_(r.alternate,r),r=r.return;ke=null}}function Ro(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,E1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wg(),nt=r,ke=o=ps(r.current,null),ze=s,rt=0,Xn=null,Di=!1,Ao=on(r,s),mg=!1,So=mr=pg=Ra=ys=_t=0,Kr=Yl=null,yg=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-an(u),m=1<<f;s|=r[f],u&=~m}return Ni=s,Cc(),o}function M_(r,s){Oe=null,C.H=Gr,s===Nl?(s=Qy(),rt=3):s===Gy?(s=Qy(),rt=4):rt=s===Kv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,ke===null&&(_t=1,$c(r,lr(s,r.current)))}function k_(){var r=C.H;return C.H=Gr,r===null?Gr:r}function V_(){var r=C.A;return C.A=JS,r}function Ag(){_t=4,Di||(ze&4194176)!==ze&&hr.current!==null||(Ao=!0),!(ys&134217727)&&!(Ra&134217727)||nt===null||xi(nt,ze,mr,!1)}function Sg(r,s,o){var u=dt;dt|=2;var f=k_(),m=V_();(nt!==r||ze!==s)&&(th=null,Ro(r,s)),s=!1;var E=_t;e:do try{if(rt!==0&&ke!==null){var A=ke,x=Xn;switch(rt){case 8:wg(),E=6;break e;case 3:case 2:case 6:hr.current===null&&(s=!0);var H=rt;if(rt=0,Xn=null,Co(r,A,x,H),o&&Ao){E=0;break e}break;default:H=rt,rt=0,Xn=null,Co(r,A,x,H)}}n1(),E=_t;break}catch(W){M_(r,W)}while(!0);return s&&r.shellSuspendCounter++,wi=ba=null,dt=u,C.H=f,C.A=m,ke===null&&(nt=null,ze=0,Cc()),E}function n1(){for(;ke!==null;)P_(ke)}function r1(r,s){var o=dt;dt|=2;var u=k_(),f=V_();nt!==r||ze!==s?(th=null,eh=sn()+500,Ro(r,s)):Ao=on(r,s);e:do try{if(rt!==0&&ke!==null){s=ke;var m=Xn;t:switch(rt){case 1:rt=0,Xn=null,Co(r,s,m,1);break;case 2:if(Ky(m)){rt=0,Xn=null,L_(s);break}s=function(){rt===2&&nt===r&&(rt=7),$r(r)},m.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Ky(m)?(rt=0,Xn=null,L_(s)):(rt=0,Xn=null,Co(r,s,m,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var A=ke;if(!E||f0(E)){rt=0,Xn=null;var x=A.sibling;if(x!==null)ke=x;else{var H=A.return;H!==null?(ke=H,ih(H)):ke=null}break t}}rt=0,Xn=null,Co(r,s,m,5);break;case 6:rt=0,Xn=null,Co(r,s,m,6);break;case 8:wg(),_t=6;break e;default:throw Error(i(462))}}i1();break}catch(W){M_(r,W)}while(!0);return wi=ba=null,C.H=u,C.A=f,dt=o,ke!==null?0:(nt=null,ze=0,Cc(),_t)}function i1(){for(;ke!==null&&!Ki();)P_(ke)}function P_(r){var s=i_(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,s===null?ih(r):ke=s}function L_(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Zv(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=Zv(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Dd(s);default:D_(o,s),s=ke=R_(s,Ni),s=i_(o,s,Ni)}r.memoizedProps=r.pendingProps,s===null?ih(r):ke=s}function Co(r,s,o,u){wi=ba=null,Dd(s),go=null,Ol=0;var f=s.return;try{if(KS(r,f,s,o,ze)){_t=1,$c(r,lr(o,r.current)),ke=null;return}}catch(m){if(f!==null)throw ke=f,m;_t=1,$c(r,lr(o,r.current)),ke=null;return}s.flags&32768?(Ge||u===1?r=!0:Ao||ze&536870912?r=!1:(Di=r=!0,(u===2||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),U_(s,r)):ih(s)}function ih(r){var s=r;do{if(s.flags&32768){U_(s,Di);return}r=s.return;var o=WS(s.alternate,s,Ni);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=r}while(s!==null);_t===0&&(_t=5)}function U_(r,s){do{var o=ZS(r.alternate,r);if(o!==null){o.flags&=32767,ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ke=r;return}ke=r=o}while(r!==null);_t=6,ke=null}function j_(r,s,o,u,f,m,E,A,x,H){var W=C.T,ne=ue.p;try{ue.p=2,C.T=null,s1(r,s,o,u,ne,f,m,E,A,x,H)}finally{C.T=W,ue.p=ne}}function s1(r,s,o,u,f,m,E,A){do Io();while(Ca!==null);if(dt&6)throw Error(i(327));var x=r.finishedWork;if(u=r.finishedLanes,x===null)return null;if(r.finishedWork=null,r.finishedLanes=0,x===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var H=x.lanes|x.childLanes;if(H|=gd,Fn(r,u,H,m,E,A),r===nt&&(ke=nt=null,ze=0),!(x.subtreeFlags&10256)&&!(x.flags&10256)||nh||(nh=!0,_g=H,Eg=o,u1(_n,function(){return Io(),null})),o=(x.flags&15990)!==0,x.subtreeFlags&15990||o?(o=C.T,C.T=null,m=ue.p,ue.p=2,E=dt,dt|=4,QS(r,x),__(x,r),DS(Lg,r.containerInfo),ph=!!Pg,Lg=Pg=null,r.current=x,m_(r,x.alternate,x),$i(),dt=E,ue.p=m,C.T=o):r.current=x,nh?(nh=!1,Ca=r,Xl=u):B_(r,H),H=r.pendingLanes,H===0&&(vs=null),li(x.stateNode),$r(r),s!==null)for(f=r.onRecoverableError,x=0;x<s.length;x++)H=s[x],f(H.value,{componentStack:H.stack});return Xl&3&&Io(),H=r.pendingLanes,u&4194218&&H&42?r===Tg?Wl++:(Wl=0,Tg=r):Wl=0,Zl(0),null}function B_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,kl(s)))}function Io(){if(Ca!==null){var r=Ca,s=_g;_g=0;var o=Mr(Xl),u=C.T,f=ue.p;try{if(ue.p=32>o?32:o,C.T=null,Ca===null)var m=!1;else{o=Eg,Eg=null;var E=Ca,A=Xl;if(Ca=null,Xl=0,dt&6)throw Error(i(331));var x=dt;if(dt|=4,A_(E.current),T_(E,E.current,A,o),dt=x,Zl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Or,E)}catch{}m=!0}return m}finally{ue.p=f,C.T=u,B_(r,s)}}return!1}function z_(r,s,o){s=lr(o,s),s=qd(r.stateNode,s,2),r=fs(r,s,2),r!==null&&(xe(r,2),$r(r))}function Je(r,s,o){if(r.tag===3)z_(r,r,o);else for(;s!==null;){if(s.tag===3){z_(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(vs===null||!vs.has(u))){r=lr(o,r),o=Fv(2),u=fs(s,o,2),u!==null&&(Gv(o,u,s,r),xe(u,2),$r(u));break}}s=s.return}}function Rg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new e1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(mg=!0,f.add(o),r=a1.bind(null,r,s,o),s.then(r,r))}function a1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(ze&o)===o&&(_t===4||_t===3&&(ze&62914560)===ze&&300>sn()-vg?!(dt&2)&&Ro(r,0):pg|=o,So===ze&&(So=0)),$r(r)}function H_(r,s){s===0&&(s=Ut()),r=is(r,s),r!==null&&(xe(r,s),$r(r))}function o1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),H_(r,o)}function l1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),H_(r,o)}function u1(r,s){return vn(r,s)}var sh=null,Do=null,Cg=!1,ah=!1,Ig=!1,Ia=0;function $r(r){r!==Do&&r.next===null&&(Do===null?sh=Do=r:Do=Do.next=r),ah=!0,Cg||(Cg=!0,h1(c1))}function Zl(r,s){if(!Ig&&ah){Ig=!0;do for(var o=!1,u=sh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-an(42|r)+1)-1,m&=f&~(E&~A),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,G_(u,m))}else m=ze,m=tt(u,u===nt?m:0),!(m&3)||on(u,m)||(o=!0,G_(u,m));u=u.next}while(o);Ig=!1}}function c1(){ah=Cg=!1;var r=0;Ia!==0&&(_1()&&(r=Ia),Ia=0);for(var s=sn(),o=null,u=sh;u!==null;){var f=u.next,m=q_(u,s);m===0?(u.next=null,o===null?sh=f:o.next=f,f===null&&(Do=o)):(o=u,(r!==0||m&3)&&(ah=!0)),u=f}Zl(r)}function q_(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-an(m),A=1<<E,x=f[E];x===-1?(!(A&o)||A&u)&&(f[E]=Pt(A,s)):x<=s&&(r.expiredLanes|=A),m&=~A}if(s=nt,o=ze,o=tt(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&rt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&_r(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||on(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&_r(u),Mr(o)){case 2:case 8:o=st;break;case 32:o=_n;break;case 268435456:o=Qi;break;default:o=_n}return u=F_.bind(null,r),o=vn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&_r(u),r.callbackPriority=2,r.callbackNode=null,2}function F_(r,s){var o=r.callbackNode;if(Io()&&r.callbackNode!==o)return null;var u=ze;return u=tt(r,r===nt?u:0),u===0?null:(x_(r,u,s),q_(r,sn()),r.callbackNode!=null&&r.callbackNode===o?F_.bind(null,r):null)}function G_(r,s){if(Io())return null;x_(r,s,!0)}function h1(r){T1(function(){dt&6?vn(At,r):r()})}function Dg(){return Ia===0&&(Ia=Lt()),Ia}function K_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Pr(""+r)}function $_(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function f1(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=K_((f[Bt]||null).action),E=u.submitter;E&&(s=(s=E[Bt]||null)?K_(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var A=new Ja("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ia!==0){var x=E?$_(f,E):new FormData(f);Ud(o,{pending:!0,data:x,method:f.method,action:m},null,x)}}else typeof m=="function"&&(A.preventDefault(),x=E?$_(f,E):new FormData(f),Ud(o,{pending:!0,data:x,method:f.method,action:m},m,x))},currentTarget:f}]})}}for(var Ng=0;Ng<jy.length;Ng++){var xg=jy[Ng],d1=xg.toLowerCase(),g1=xg[0].toUpperCase()+xg.slice(1);Tr(d1,"on"+g1)}Tr(ky,"onAnimationEnd"),Tr(Vy,"onAnimationIteration"),Tr(Py,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(xS,"onTransitionRun"),Tr(OS,"onTransitionStart"),Tr(MS,"onTransitionCancel"),Tr(Ly,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function Q_(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],x=A.instance,H=A.currentTarget;if(A=A.listener,x!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Kc(W)}f.currentTarget=null,m=x}else for(E=0;E<u.length;E++){if(A=u[E],x=A.instance,H=A.currentTarget,A=A.listener,x!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=H;try{m(f)}catch(W){Kc(W)}f.currentTarget=null,m=x}}}}function Le(r,s){var o=s[Js];o===void 0&&(o=s[Js]=new Set);var u=r+"__bubble";o.has(u)||(Y_(s,r,2,!1),o.add(u))}function Og(r,s,o){var u=0;s&&(u|=4),Y_(o,r,u,s)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Mg(r){if(!r[oh]){r[oh]=!0,hl.forEach(function(o){o!=="selectionchange"&&(m1.has(o)||Og(o,!1,r),Og(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[oh]||(s[oh]=!0,Og("selectionchange",!1,s))}}function Y_(r,s,o,u){switch(v0(s)){case 2:var f=z1;break;case 8:f=H1;break;default:f=Kg}o=f.bind(null,s,o,r),f=void 0,!sr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function kg(r,s,o,u,f){var m=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;E=E.return}for(;A!==null;){if(E=Er(A),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=m=E;continue e}A=A.parentNode}}u=u.return}fc(function(){var H=m,W=Za(o),ne=[];e:{var Q=Uy.get(r);if(Q!==void 0){var X=Ja,pe=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":X=so;break;case"focusin":pe="focus",X=no;break;case"focusout":pe="blur",X=no;break;case"beforeblur":case"afterblur":X=no;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ec;break;case ky:case Vy:case Py:X=ro;break;case Ly:X=bc;break;case"scroll":case"scrollend":X=dc;break;case"wheel":X=ao;break;case"copy":case"cut":case"paste":X=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=wl;break;case"toggle":case"beforetoggle":X=Ac}var Re=(s&4)!==0,Et=!Re&&(r==="scroll"||r==="scrollend"),q=Re?Q!==null?Q+"Capture":null:Q;Re=[];for(var B=H,G;B!==null;){var J=B;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||q===null||(J=ia(B,q),J!=null&&Re.push(eu(B,J,G))),Et)break;B=B.return}0<Re.length&&(Q=new X(Q,pe,null,o,W),ne.push({event:Q,listeners:Re}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&o!==ir&&(pe=o.relatedTarget||o.fromElement)&&(Er(pe)||pe[ui]))break e;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=o.relatedTarget||o.toElement,X=H,pe=pe?Er(pe):null,pe!==null&&(Et=me(pe),Re=pe.tag,pe!==Et||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(X=null,pe=H),X!==pe)){if(Re=ar,J="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Re=wl,J="onPointerLeave",q="onPointerEnter",B="pointer"),Et=X==null?Q:Wi(X),G=pe==null?Q:Wi(pe),Q=new Re(J,B+"leave",X,o,W),Q.target=Et,Q.relatedTarget=G,J=null,Er(W)===H&&(Re=new Re(q,B+"enter",pe,o,W),Re.target=G,Re.relatedTarget=Et,J=Re),Et=J,X&&pe)t:{for(Re=X,q=pe,B=0,G=Re;G;G=No(G))B++;for(G=0,J=q;J;J=No(J))G++;for(;0<B-G;)Re=No(Re),B--;for(;0<G-B;)q=No(q),G--;for(;B--;){if(Re===q||q!==null&&Re===q.alternate)break t;Re=No(Re),q=No(q)}Re=null}else Re=null;X!==null&&X_(ne,Q,X,Re,!1),pe!==null&&Et!==null&&X_(ne,Et,pe,Re,!0)}}e:{if(Q=H?Wi(H):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var de=wy;else if(Ht(Q))if(Ay)de=CS;else{de=SS;var Me=AS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&pl(H.elementType)&&(de=wy):de=RS;if(de&&(de=de(r,H))){yi(ne,de,o,W);break e}Me&&Me(r,Q,H),r==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&Wa(Q,"number",Q.value)}switch(Me=H?Wi(H):window,r){case"focusin":(Ht(Me)||Me.contentEditable==="true")&&(oo=Me,hd=H,Rl=null);break;case"focusout":Rl=hd=oo=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Oy(ne,o,W);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Oy(ne,o,W)}var ve;if(zr)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Y(r,o)&&(Te="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(_&&o.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ve=vl()):(Lr=W,rs="value"in Lr?Lr.value:Lr.textContent,je=!0)),Me=lh(H,Te),0<Me.length&&(Te=new Tl(Te,r,null,o,W),ne.push({event:Te,listeners:Me}),ve?Te.data=ve:(ve=se(o),ve!==null&&(Te.data=ve)))),(ve=y?zt(r,o):Be(r,o))&&(Te=lh(H,"onBeforeInput"),0<Te.length&&(Me=new Tl("onBeforeInput","beforeinput",null,o,W),ne.push({event:Me,listeners:Te}),Me.data=ve)),f1(ne,r,H,o,W)}Q_(ne,s)})}function eu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function lh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ia(r,o),f!=null&&u.unshift(eu(r,f,m)),f=ia(r,s),f!=null&&u.push(eu(r,f,m))),r=r.return}return u}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function X_(r,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var A=o,x=A.alternate,H=A.stateNode;if(A=A.tag,x!==null&&x===u)break;A!==5&&A!==26&&A!==27||H===null||(x=H,f?(H=ia(o,m),H!=null&&E.unshift(eu(o,H,x))):f||(H=ia(o,m),H!=null&&E.push(eu(o,H,x)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var p1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function W_(r){return(typeof r=="string"?r:""+r).replace(p1,`
`).replace(y1,"")}function Z_(r,s){return s=W_(s),W_(r)===s}function uh(){}function Ze(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||rr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&rr(r,""+u);break;case"className":es(r,"class",u);break;case"tabIndex":es(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":es(r,o,u);break;case"style":hc(r,u,m);break;case"data":if(s!=="object"){es(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&Ze(r,s,"name",f.name,f,null),Ze(r,s,"formEncType",f.formEncType,f,null),Ze(r,s,"formMethod",f.formMethod,f,null),Ze(r,s,"formTarget",f.formTarget,f,null)):(Ze(r,s,"encType",f.encType,f,null),Ze(r,s,"method",f.method,f,null),Ze(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Pr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=uh);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Pr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Ji(r,"popover",u);break;case"xlinkActuate":nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ji(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=id.get(o)||o,Ji(r,o,u))}}function Vg(r,s,o,u,f,m){switch(o){case"style":hc(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?rr(r,u):(typeof u=="number"||typeof u=="bigint")&&rr(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Bt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ji(r,o,u)}}}function fn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,m,E,o,null)}}f&&Ze(r,s,"srcSet",o.srcSet,o,null),u&&Ze(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=m=E=f=null,x=null,H=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":x=W;break;case"defaultChecked":H=W;break;case"value":m=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Ze(r,s,u,W,o,null)}}na(r,m,A,x,H,E,f,!1),ta(r);return;case"select":Le("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Ze(r,s,f,A,o,null)}s=m,o=E,r.multiple=!!u,s!=null?Fe(r,!!u,s,!1):o!=null&&Fe(r,!!u,o,!0);return;case"textarea":Le("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Ze(r,s,E,A,o,null)}ns(r,u,f,m),ta(r);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,s,x,u,o,null)}return;case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Jl.length;u++)Le(Jl[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(u=o[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,H,u,o,null)}return;default:if(pl(s)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Vg(r,s,W,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Ze(r,s,A,u,o,null))}function v1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,x=null,H=null,W=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":x=ne;default:u.hasOwnProperty(X)||Ze(r,s,X,null,u,ne)}}for(var Q in u){var X=u[Q];if(ne=o[Q],u.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":H=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ne&&Ze(r,s,Q,X,u,ne)}}ts(r,E,A,x,H,W,m,f);return;case"select":X=E=A=Q=null;for(m in o)if(x=o[m],o.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":X=x;default:u.hasOwnProperty(m)||Ze(r,s,m,null,u,x)}for(f in u)if(m=u[f],x=o[f],u.hasOwnProperty(f)&&(m!=null||x!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==x&&Ze(r,s,f,m,u,x)}s=A,o=E,u=X,Q!=null?Fe(r,!!o,Q,!1):!!u!=!!o&&(s!=null?Fe(r,!!o,s,!0):Fe(r,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(r,s,A,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&Ze(r,s,E,f,u,m)}ra(r,Q,X);return;case"option":for(var pe in o)if(Q=o[pe],o.hasOwnProperty(pe)&&Q!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":r.selected=!1;break;default:Ze(r,s,pe,null,u,Q)}for(x in u)if(Q=u[x],X=o[x],u.hasOwnProperty(x)&&Q!==X&&(Q!=null||X!=null))switch(x){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ze(r,s,x,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Q=o[Re],o.hasOwnProperty(Re)&&Q!=null&&!u.hasOwnProperty(Re)&&Ze(r,s,Re,null,u,Q);for(H in u)if(Q=u[H],X=o[H],u.hasOwnProperty(H)&&Q!==X&&(Q!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Ze(r,s,H,Q,u,X)}return;default:if(pl(s)){for(var Et in o)Q=o[Et],o.hasOwnProperty(Et)&&Q!==void 0&&!u.hasOwnProperty(Et)&&Vg(r,s,Et,void 0,u,Q);for(W in u)Q=u[W],X=o[W],!u.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||Vg(r,s,W,Q,u,X);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&Ze(r,s,q,null,u,Q);for(ne in u)Q=u[ne],X=o[ne],!u.hasOwnProperty(ne)||Q===X||Q==null&&X==null||Ze(r,s,ne,Q,u,X)}var Pg=null,Lg=null;function ch(r){return r.nodeType===9?r:r.ownerDocument}function J_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ug(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jg=null;function _1(){var r=window.event;return r&&r.type==="popstate"?r===jg?!1:(jg=r,!0):(jg=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(r){return n0.resolve(null).then(r).catch(b1)}:t0;function b1(r){setTimeout(function(){throw r})}function Bg(r,s){var o=s,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){r.removeChild(f),lu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);lu(s)}function zg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zg(o),ea(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function w1(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Xi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function A1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ar(r.nextSibling),r===null))return null;return r}function Ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function r0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function i0(r,s,o){switch(s=ch(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var pr=new Map,s0=new Set;function hh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var Oi=ue.d;ue.d={f:S1,r:R1,D:C1,C:I1,L:D1,m:N1,X:O1,S:x1,M:M1};function S1(){var r=Oi.f(),s=rh();return r||s}function R1(r){var s=ci(r);s!==null&&s.tag===5&&s.type==="form"?Ov(s):Oi.r(r)}var xo=typeof document>"u"?null:document;function a0(r,s,o){var u=xo;if(u&&typeof s=="string"&&s){var f=yt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),s0.has(f)||(s0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),fn(s,"link",r),ht(s),u.head.appendChild(s)))}}function C1(r){Oi.D(r),a0("dns-prefetch",r,null)}function I1(r,s){Oi.C(r,s),a0("preconnect",r,s)}function D1(r,s,o){Oi.L(r,s,o);var u=xo;if(u&&r&&s){var f='link[rel="preload"][as="'+yt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+yt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+yt(o.imageSizes)+'"]')):f+='[href="'+yt(r)+'"]';var m=f;switch(s){case"style":m=Oo(r);break;case"script":m=Mo(r)}pr.has(m)||(r=N({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),pr.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(tu(m))||s==="script"&&u.querySelector(nu(m))||(s=u.createElement("link"),fn(s,"link",r),ht(s),u.head.appendChild(s)))}}function N1(r,s){Oi.m(r,s);var o=xo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+yt(u)+'"][href="'+yt(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(r)}if(!pr.has(m)&&(r=N({rel:"modulepreload",href:r},s),pr.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nu(m)))return}u=o.createElement("link"),fn(u,"link",r),ht(u),o.head.appendChild(u)}}}function x1(r,s,o){Oi.S(r,s,o);var u=xo;if(u&&r){var f=Zi(u).hoistableStyles,m=Oo(r);s=s||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(tu(m)))A.loading=5;else{r=N({rel:"stylesheet",href:r,"data-precedence":s},o),(o=pr.get(m))&&Hg(r,o);var x=E=u.createElement("link");ht(x),fn(x,"link",r),x._p=new Promise(function(H,W){x.onload=H,x.onerror=W}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,fh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function O1(r,s){Oi.X(r,s);var o=xo;if(o&&r){var u=Zi(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(nu(f)),m||(r=N({src:r,async:!0},s),(s=pr.get(f))&&qg(r,s),m=o.createElement("script"),ht(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function M1(r,s){Oi.M(r,s);var o=xo;if(o&&r){var u=Zi(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(nu(f)),m||(r=N({src:r,async:!0,type:"module"},s),(s=pr.get(f))&&qg(r,s),m=o.createElement("script"),ht(m),fn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function o0(r,s,o,u){var f=(f=Vt.current)?hh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Oo(o.href),o=Zi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Oo(o.href);var m=Zi(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(tu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),pr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(r,o),m||k1(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(o),o=Zi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Oo(r){return'href="'+yt(r)+'"'}function tu(r){return'link[rel="stylesheet"]['+r+"]"}function l0(r){return N({},r,{"data-precedence":r.precedence,precedence:null})}function k1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",o),ht(s),r.head.appendChild(s))}function Mo(r){return'[src="'+yt(r)+'"]'}function nu(r){return"script[async]"+r}function u0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+yt(o.href)+'"]');if(u)return s.instance=u,ht(u),u;var f=N({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ht(u),fn(u,"style",f),fh(u,o.precedence,r),s.instance=u;case"stylesheet":f=Oo(o.href);var m=r.querySelector(tu(f));if(m)return s.state.loading|=4,s.instance=m,ht(m),m;u=l0(o),(f=pr.get(f))&&Hg(u,f),m=(r.ownerDocument||r).createElement("link"),ht(m);var E=m;return E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),fn(m,"link",u),s.state.loading|=4,fh(m,o.precedence,r),s.instance=m;case"script":return m=Mo(o.src),(f=r.querySelector(nu(m)))?(s.instance=f,ht(f),f):(u=o,(f=pr.get(m))&&(u=N({},o),qg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ht(f),fn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,fh(u,o.precedence,r));return s.instance}function fh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Hg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function qg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var dh=null;function c0(r,s,o){if(dh===null){var u=new Map,f=dh=new Map;f.set(o,u)}else f=dh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Xi]||m[pt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function h0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function V1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function f0(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var ru=null;function P1(){}function L1(r,s,o){if(ru===null)throw Error(i(475));var u=ru;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var f=Oo(o.href),m=r.querySelector(tu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,ht(m);return}m=r.ownerDocument||r,o=l0(o),(f=pr.get(f))&&Hg(o,f),m=m.createElement("link"),ht(m);var E=m;E._p=new Promise(function(A,x){E.onload=A,E.onerror=x}),fn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=gh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function U1(){if(ru===null)throw Error(i(475));var r=ru;return r.stylesheets&&r.count===0&&Fg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Fg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)Fg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var mh=null;function Fg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,mh=new Map,s.forEach(j1,r),mh=null,gh.call(r))}function j1(r,s){if(!(s.state.loading&4)){var o=mh.get(r);if(o)var u=o.get(null);else{o=new Map,mh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var iu={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function B1(r,s,o,u,f,m,E,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function d0(r,s,o,u,f,m,E,A,x,H,W,ne){return r=new B1(r,s,o,E,A,x,H,ne),s=1,m===!0&&(s|=24),m=gr(3,null,null,s),r.current=m,m.stateNode=r,s=bd(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},ng(m),r}function g0(r){return r?(r=co,r):co}function m0(r,s,o,u,f,m){f=g0(f),u.context===null?u.context=f:u.pendingContext=f,u=hs(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=fs(r,u,s),o!==null&&(On(o,r,s),zl(o,r,s))}function p0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Gg(r,s){p0(r,s),(r=r.alternate)&&p0(r,s)}function y0(r){if(r.tag===13){var s=is(r,67108864);s!==null&&On(s,r,67108864),Gg(r,67108864)}}var ph=!0;function z1(r,s,o,u){var f=C.T;C.T=null;var m=ue.p;try{ue.p=2,Kg(r,s,o,u)}finally{ue.p=m,C.T=f}}function H1(r,s,o,u){var f=C.T;C.T=null;var m=ue.p;try{ue.p=8,Kg(r,s,o,u)}finally{ue.p=m,C.T=f}}function Kg(r,s,o,u){if(ph){var f=$g(u);if(f===null)kg(r,s,u,yh,o),_0(r,u);else if(F1(f,r,s,o,u))u.stopPropagation();else if(_0(r,u),s&4&&-1<q1.indexOf(r)){for(;f!==null;){var m=ci(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=ot(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var x=1<<31-an(E);A.entanglements[1]|=x,E&=~x}$r(m),!(dt&6)&&(eh=sn()+500,Zl(0))}}break;case 13:A=is(m,2),A!==null&&On(A,m,2),rh(),Gg(m,2)}if(m=$g(u),m===null&&kg(r,s,u,yh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else kg(r,s,u,null,o)}}function $g(r){return r=Za(r),Qg(r)}var yh=null;function Qg(r){if(yh=null,r=Er(r),r!==null){var s=me(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ne(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return yh=r,null}function v0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ga()){case At:return 2;case st:return 8;case _n:case Nr:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var Yg=!1,_s=null,Es=null,Ts=null,su=new Map,au=new Map,bs=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(r,s){switch(r){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(s.pointerId)}}function ou(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ci(s),s!==null&&y0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function F1(r,s,o,u,f){switch(s){case"focusin":return _s=ou(_s,r,s,o,u,f),!0;case"dragenter":return Es=ou(Es,r,s,o,u,f),!0;case"mouseover":return Ts=ou(Ts,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return su.set(m,ou(su.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,au.set(m,ou(au.get(m)||null,r,s,o,u,f)),!0}return!1}function E0(r){var s=Er(r.target);if(s!==null){var o=me(s);if(o!==null){if(s=o.tag,s===13){if(s=Ne(o),s!==null){r.blockedOn=s,ln(r.priority,function(){if(o.tag===13){var u=Wn(),f=is(o,u);f!==null&&On(f,o,u),Gg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=$g(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);ir=u,o.target.dispatchEvent(u),ir=null}else return s=ci(o),s!==null&&y0(s),r.blockedOn=o,!1;s.shift()}return!0}function T0(r,s,o){vh(r)&&o.delete(s)}function G1(){Yg=!1,_s!==null&&vh(_s)&&(_s=null),Es!==null&&vh(Es)&&(Es=null),Ts!==null&&vh(Ts)&&(Ts=null),su.forEach(T0),au.forEach(T0)}function _h(r,s){r.blockedOn===s&&(r.blockedOn=null,Yg||(Yg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,G1)))}var Eh=null;function b0(r){Eh!==r&&(Eh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Qg(u||o)===null)continue;break}var m=ci(o);m!==null&&(r.splice(s,3),s-=3,Ud(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function lu(r){function s(x){return _h(x,r)}_s!==null&&_h(_s,r),Es!==null&&_h(Es,r),Ts!==null&&_h(Ts,r),su.forEach(s),au.forEach(s);for(var o=0;o<bs.length;o++){var u=bs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<bs.length&&(o=bs[0],o.blockedOn===null);)E0(o),o.blockedOn===null&&bs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Bt]||null;if(typeof m=="function")E||b0(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Bt]||null)A=E.formAction;else if(Qg(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),b0(o)}}}function Xg(r){this._internalRoot=r}Th.prototype.render=Xg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Wn();m0(o,u,r,s,null,null)},Th.prototype.unmount=Xg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Io(),m0(r.current,2,null,r,null,null),rh(),s[ui]=null}};function Th(r){this._internalRoot=r}Th.prototype.unstable_scheduleHydration=function(r){if(r){var s=kr();r={blockedOn:null,target:r,priority:s};for(var o=0;o<bs.length&&s!==0&&s<bs[o].priority;o++);bs.splice(o,0,r),o===0&&E0(r)}};var w0=e.version;if(w0!=="19.0.0")throw Error(i(527,w0,"19.0.0"));ue.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=re(s),r=r!==null?ce(r):null,r=r===null?null:r.stateNode,r};var K1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:Er,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Or=bh.inject(K1),Yt=bh}catch{}}return cu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=Bv,m=zv,E=Hv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=d0(r,1,!1,null,null,o,u,f,m,E,A,null),r[ui]=s.current,Mg(r.nodeType===8?r.parentNode:r),new Xg(s)},cu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=Bv,E=zv,A=Hv,x=null,H=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(H=o.formState)),s=d0(r,1,!0,s,o??null,u,f,m,E,A,x,H),s.context=g0(null),o=s.current,u=Wn(),f=hs(u),f.callback=null,fs(o,f,u),s.current.lanes=u,xe(s,u),$r(s),r[ui]=s.current,Mg(r),new Th(s)},cu.version="19.0.0",cu}var M0;function nR(){if(M0)return Jg.exports;M0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jg.exports=tR(),Jg.exports}var rR=nR();const iR=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},sR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,g=a+2<n.length,p=g?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,w=p&63;g||(w=64,c||(b=64)),i.push(t[v],t[T],t[b],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(PT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new aR;const b=l<<2|d>>4;if(i.push(b),p!==64){const w=d<<4&240|p>>2;if(i.push(w),T!==64){const k=p<<6&192|T;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class aR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oR=function(n){const e=PT(n);return LT.encodeByteArray(e,!0)},Qh=function(n){return oR(n).replace(/\./g,"")},UT=function(n){try{return LT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=()=>lR().__FIREBASE_DEFAULTS__,cR=()=>{if(typeof process>"u"||typeof k0>"u")return;const n=k0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&UT(n[1]);return e&&JSON.parse(e)},bf=()=>{try{return iR()||uR()||cR()||hR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jT=n=>{var e,t;return(t=(e=bf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BT=n=>{const e=jT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},zT=()=>{var n;return(n=bf())===null||n===void 0?void 0:n.config},HT=n=>{var e;return(e=bf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function gR(){var n;const e=(n=bf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _R(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ER(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="FirebaseError";class ni extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bR,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qu.prototype.create)}}class qu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?wR(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ni(a,d,i)}}function wR(n,e){return n.replace(AR,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const AR=/\{\$([^}]+)}/g;function SR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vs(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(V0(l)&&V0(c)){if(!Vs(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function V0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RR(n,e){const t=new CR(n,e);return t.subscribe.bind(t)}class CR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=rm),a.error===void 0&&(a.error=rm),a.complete===void 0&&(a.complete=rm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class Ps{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NR(n){return n===Da?void 0:n}function xR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const MR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},kR=Ve.INFO,VR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},PR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=VR[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const LR=(n,e)=>e.some(t=>n instanceof t);let P0,L0;function UR(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jR(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,wm=new WeakMap,GT=new WeakMap,im=new WeakMap,ap=new WeakMap;function BR(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(xs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&FT.set(t,n)}).catch(()=>{}),ap.set(e,n),e}function zR(n){if(wm.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});wm.set(n,e)}let Am={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HR(n){Am=n(Am)}function qR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(sm(this),e,...t);return GT.set(i,e.sort?e.sort():[e]),xs(i)}:jR().includes(n)?function(...e){return n.apply(sm(this),e),xs(FT.get(this))}:function(...e){return xs(n.apply(sm(this),e))}}function FR(n){return typeof n=="function"?qR(n):(n instanceof IDBTransaction&&zR(n),LR(n,UR())?new Proxy(n,Am):n)}function xs(n){if(n instanceof IDBRequest)return BR(n);if(im.has(n))return im.get(n);const e=FR(n);return e!==n&&(im.set(n,e),ap.set(e,n)),e}const sm=n=>ap.get(n);function GR(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=xs(c);return i&&c.addEventListener("upgradeneeded",g=>{i(xs(c.result),g.oldVersion,g.newVersion,xs(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const KR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],am=new Map;function U0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=$R.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||KR.includes(t)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&g.done]))[0]};return am.set(e,l),l}HR(n=>({...n,get:(e,t,i)=>U0(e,t)||n.get(e,t,i),has:(e,t)=>!!U0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",j0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new sp("@firebase/app"),XR="@firebase/app-compat",WR="@firebase/analytics-compat",ZR="@firebase/analytics",JR="@firebase/app-check-compat",eC="@firebase/app-check",tC="@firebase/auth",nC="@firebase/auth-compat",rC="@firebase/database",iC="@firebase/data-connect",sC="@firebase/database-compat",aC="@firebase/functions",oC="@firebase/functions-compat",lC="@firebase/installations",uC="@firebase/installations-compat",cC="@firebase/messaging",hC="@firebase/messaging-compat",fC="@firebase/performance",dC="@firebase/performance-compat",gC="@firebase/remote-config",mC="@firebase/remote-config-compat",pC="@firebase/storage",yC="@firebase/storage-compat",vC="@firebase/firestore",_C="@firebase/vertexai",EC="@firebase/firestore-compat",TC="firebase",bC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",wC={[Sm]:"fire-core",[XR]:"fire-core-compat",[ZR]:"fire-analytics",[WR]:"fire-analytics-compat",[eC]:"fire-app-check",[JR]:"fire-app-check-compat",[tC]:"fire-auth",[nC]:"fire-auth-compat",[rC]:"fire-rtdb",[iC]:"fire-data-connect",[sC]:"fire-rtdb-compat",[aC]:"fire-fn",[oC]:"fire-fn-compat",[lC]:"fire-iid",[uC]:"fire-iid-compat",[cC]:"fire-fcm",[hC]:"fire-fcm-compat",[fC]:"fire-perf",[dC]:"fire-perf-compat",[gC]:"fire-rc",[mC]:"fire-rc-compat",[pC]:"fire-gcs",[yC]:"fire-gcs-compat",[vC]:"fire-fst",[EC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,AC=new Map,Cm=new Map;function B0(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Va(n){const e=n.name;if(Cm.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,n);for(const t of Yh.values())B0(t,n);for(const t of AC.values())B0(t,n);return!0}function wf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new qu("app","Firebase",SC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=bC;function KT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=zT()),!t)throw Os.create("no-options");const l=Yh.get(a);if(l){if(Vs(t,l.options)&&Vs(i,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const c=new OR(a);for(const g of Cm.values())c.addComponent(g);const d=new RC(t,i,c);return Yh.set(a,d),d}function op(n=Rm){const e=Yh.get(n);if(!e&&n===Rm&&zT())return KT();if(!e)throw Os.create("no-app",{appName:n});return e}function Xr(n,e,t){var i;let a=(i=wC[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}Va(new Ps(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firebase-heartbeat-database",IC=1,Nu="firebase-heartbeat-store";let om=null;function $T(){return om||(om=GR(CC,IC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),om}async function DC(n){try{const t=(await $T()).transaction(Nu),i=await t.objectStore(Nu).get(QT(n));return await t.done,i}catch(e){if(e instanceof ni)Bi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(t.message)}}}async function z0(n,e){try{const i=(await $T()).transaction(Nu,"readwrite");await i.objectStore(Nu).put(e,QT(n)),await i.done}catch(t){if(t instanceof ni)Bi.warn(t.message);else{const i=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(i.message)}}}function QT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,xC=30;class OC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=H0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>xC){const c=VC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:i,unsentEntries:a}=MC(this._heartbeatsCache.heartbeats),l=Qh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Bi.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function MC(n,e=NC){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),q0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),q0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ER()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function q0(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function VC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){Va(new Ps("platform-logger",e=>new QR(e),"PRIVATE")),Va(new Ps("heartbeat",e=>new OC(e),"PRIVATE")),Xr(Sm,j0,n),Xr(Sm,j0,"esm2017"),Xr("fire-js","")}PC("");function lp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function YT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LC=YT,XT=new qu("auth","Firebase",YT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new sp("@firebase/auth");function UC(n,...e){Xh.logLevel<=Ve.WARN&&Xh.warn(`Auth (${za}): ${n}`,...e)}function kh(n,...e){Xh.logLevel<=Ve.ERROR&&Xh.error(`Auth (${za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw cp(n,...e)}function Sr(n,...e){return cp(n,...e)}function up(n,e,t){const i=Object.assign(Object.assign({},LC()),{[e]:t});return new qu("auth","Firebase",i).create(e,{appName:n.name})}function Li(n){return up(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),up(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return XT.create(n,...e)}function be(n,e,...t){if(!n)throw cp(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw kh(e),new Error(e)}function zi(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function BC(){return F0()==="http:"||F0()==="https:"}function F0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BC()||pR()||"connection"in navigator)?navigator.onLine:!0}function HC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=dR()||yR()}get(){return zC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n,e){zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Gu(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ks(n,e,t,i,a={}){return ZT(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Fu(Object.assign({key:n.config.apiKey},c)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:g},l);return mR()||(p.referrerPolicy="no-referrer"),WT.fetch()(JT(n,n.config.apiHost,t,d),p)})}async function ZT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qC),e);try{const a=new KC(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw wh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw wh(n,"user-disabled",c);const v=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw up(n,v,p);vr(n,v)}}catch(a){if(a instanceof ni)throw a;vr(n,"network-request-failed",{message:String(a)})}}async function Ku(n,e,t,i,a={}){const l=await Ks(n,e,t,i,a);return"mfaPendingCredential"in l&&vr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function JT(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?hp(n.config,a):`${n.config.apiScheme}://${a}`}function GC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),FC.get())})}}function wh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Sr(n,e,i);return a.customData._tokenResponse=t,a}function G0(n){return n!==void 0&&n.enterprise!==void 0}class $C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QC(n,e){return Ks(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(n,e){return Ks(n,"POST","/v1/accounts:delete",e)}async function eb(n,e){return Ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XC(n,e=!1){const t=ct(n),i=await t.getIdToken(e),a=fp(i);be(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Tu(lm(a.auth_time)),issuedAtTime:Tu(lm(a.iat)),expirationTime:Tu(lm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lm(n){return Number(n)*1e3}function fp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const a=UT(t);return a?JSON.parse(a):(kh("Failed to decode base64 JWT payload"),null)}catch(a){return kh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function K0(n){const e=fp(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ni&&WC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await xu(n,eb(t,{idToken:i}));be(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?tb(l.providerUserInfo):[],d=eI(n.providerData,c),g=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function JC(n){const e=ct(n);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eI(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function tb(n){return n.map(e=>{var{providerId:t}=e,i=lp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(n,e){const t=await ZT(n,{},async()=>{const i=Fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=JT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",WT.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nI(n,e){return Ks(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=K0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await tI(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Uo;return i&&(be(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(be(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(be(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XC(this,e)}reload(){return JC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Li(this.auth));const e=await this.getIdToken();return await xu(this,YC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,g,p,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,O=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,j=(p=t.createdAt)!==null&&p!==void 0?p:void 0,K=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:ie,isAnonymous:ee,providerData:ae,stsTokenManager:V}=t;be($&&V,e,"internal-error");const I=Uo.fromJSON(this.name,V);be(typeof $=="string",e,"internal-error"),As(T,e.name),As(b,e.name),be(typeof ie=="boolean",e,"internal-error"),be(typeof ee=="boolean",e,"internal-error"),As(w,e.name),As(k,e.name),As(z,e.name),As(O,e.name),As(j,e.name),As(K,e.name);const C=new Vi({uid:$,auth:e,email:b,emailVerified:ie,displayName:T,isAnonymous:ee,photoURL:k,phoneNumber:w,tenantId:z,stsTokenManager:I,createdAt:j,lastLoginAt:K});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(N=>Object.assign({},N))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new Uo;a.updateFromServerResponse(t);const l=new Vi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Wh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];be(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?tb(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Uo;d.updateFromIdToken(i);const g=new Vi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function Pi(n){zi(n instanceof Function,"Expected a class definition");let e=$0.get(n);return e?(zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nb.type="NONE";const Q0=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n,e,t){return`firebase:${n}:${e}:${t}`}class jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Vh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Vh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new jo(Pi(Q0),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Pi(Q0);const c=Vh(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(c);if(v){const T=Vi._fromJSON(e,v);p!==l&&(d=T),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new jo(l,e,i):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(ub(e))return"Webos";if(ib(e))return"Safari";if((e.includes("chrome/")||sb(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rb(n=Cn()){return/firefox\//i.test(n)}function ib(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sb(n=Cn()){return/crios\//i.test(n)}function ab(n=Cn()){return/iemobile/i.test(n)}function ob(n=Cn()){return/android/i.test(n)}function lb(n=Cn()){return/blackberry/i.test(n)}function ub(n=Cn()){return/webos/i.test(n)}function dp(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rI(n=Cn()){var e;return dp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iI(){return vR()&&document.documentMode===10}function cb(n=Cn()){return dp(n)||ob(n)||ub(n)||lb(n)||/windows phone/i.test(n)||ab(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n,e=[]){let t;switch(n){case"Browser":t=Y0(Cn());break;case"Worker":t=`${Y0(Cn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const g=e(l);c(g)}catch(g){d(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(n,e={}){return Ks(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=6;class lI{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:oI,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(c=g.containsNumericCharacter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new sI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eb(this,{idToken:e}),i=await Vi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&(g!=null&&g.user)&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Li(this));const t=e?ct(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aI(this),t=new lI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await nI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&UC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $s(n){return ct(n)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RR(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cI(n){Af=n}function fb(n){return Af.loadJS(n)}function hI(){return Af.recaptchaEnterpriseScript}function fI(){return Af.gapiScript}function dI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gI{constructor(){this.enterprise=new mI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pI="recaptcha-enterprise",db="NO_RECAPTCHA";class yI{constructor(e){this.type=pI,this.auth=$s(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{QC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new $C(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(g=>{d(g)})})}function a(l,c,d){const g=window.grecaptcha;G0(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(db)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gI().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&G0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=hI();g.length!==0&&(g+=d),fb(g).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function W0(n,e,t,i=!1,a=!1){const l=new yI(n);let c;if(a)c=db;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const g=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const g=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Nm(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await W0(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await W0(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n,e){const t=wf(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Vs(l,e??{}))return a;vr(a,"already-initialized")}return t.initialize({options:e})}function _I(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function EI(n,e,t){const i=$s(n);be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=gb(e),{host:c,port:d}=TI(e),g=d===null?"":`:${d}`,p={url:`${l}//${c}${g}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){be(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),be(Vs(p,i.config.emulator)&&Vs(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,bI()}function gb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TI(n){const e=gb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Z0(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Z0(c)}}}function Z0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function wI(n,e){return Ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(n,e){return Ku(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function RI(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends gp{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ou(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,t,"signInWithPassword",AI);case"emailLink":return SI(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,i,"signUpPassword",wI);case"emailLink":return RI(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(n,e){return Ku(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class Pa extends gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=lp(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Pa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DI(n){const e=gu(mu(n)).link,t=e?gu(mu(e)).deep_link_id:null,i=gu(mu(n)).deep_link_id;return(i?gu(mu(i)).link:null)||i||t||e||n}class mp{constructor(e){var t,i,a,l,c,d;const g=gu(mu(e)),p=(t=g.apiKey)!==null&&t!==void 0?t:null,v=(i=g.oobCode)!==null&&i!==void 0?i:null,T=II((a=g.mode)!==null&&a!==void 0?a:null);be(p&&v&&T,"argument-error"),this.apiKey=p,this.operation=T,this.code=v,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=g.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=g.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=DI(e);try{return new mp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=mp.parseLink(t);return be(i,"argument-error"),Ou._fromEmailAndCode(e,i.code,i.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends $u{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Mi.credential(t,i)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends $u{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends $u{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Is.credential(t,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(n,e){return Ku(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Vi._fromIdTokenResponse(e,i,a),c=J0(i);return new La({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=J0(i);return new La({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function J0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends ni{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Zh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Zh(e,t,i,a)}}function mb(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zh._fromErrorAndOperation(n,l,e,i):l})}async function xI(n,e,t=!1){const i=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return La._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e,t=!1){const{auth:i}=n;if(Ln(i.app))return Promise.reject(Li(i));const a="reauthenticate";try{const l=await xu(n,mb(i,a,e,n),t);be(l.idToken,i,"internal-error");const c=fp(l.idToken);be(c,i,"internal-error");const{sub:d}=c;return be(n.uid===d,i,"user-mismatch"),La._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e,t=!1){if(Ln(n.app))return Promise.reject(Li(n));const i="signIn",a=await mb(n,i,e),l=await La._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function MI(n,e){return pb($s(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(n){const e=$s(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kI(n,e,t){if(Ln(n.app))return Promise.reject(Li(n));const i=$s(n),c=await Nm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&yb(n),g}),d=await La._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function VI(n,e,t){return Ln(n.app)?Promise.reject(Li(n)):MI(ct(n),Zo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yb(n),i})}function PI(n,e,t,i){return ct(n).onIdTokenChanged(e,t,i)}function LI(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function UI(n,e,t,i){return ct(n).onAuthStateChanged(e,t,i)}function jI(n){return ct(n).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,zI=10;class _b extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);iI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zI):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const HI=_b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Eb.type="SESSION";const Tb=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Sf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),g=await qI(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const p=yp("",20);a.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function GI(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function KI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $I(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QI(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="firebaseLocalStorageDb",YI=1,ef="firebaseLocalStorage",Ab="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(n,e){return n.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function XI(){const n=indexedDB.deleteDatabase(wb);return new Qu(n).toPromise()}function xm(){const n=indexedDB.open(wb,YI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ef,{keyPath:Ab})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ef)?e(i):(i.close(),await XI(),e(await xm()))})})}async function eE(n,e,t){const i=Rf(n,!0).put({[Ab]:e,value:t});return new Qu(i).toPromise()}async function WI(n,e){const t=Rf(n,!1).get(e),i=await new Qu(t).toPromise();return i===void 0?null:i.value}function tE(n,e){const t=Rf(n,!0).delete(e);return new Qu(t).toPromise()}const ZI=800,JI=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>JI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await eE(e,Jh,"1"),await tE(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>eE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>WI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rf(a,!1).getAll();return new Qu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const e2=Sb;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n,e){return e?Pi(e):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t2(n){return pb(n.auth,new vp(n),n.bypassAuthState)}function n2(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),OI(t,new vp(n),n.bypassAuthState)}async function r2(n){const{auth:e,user:t}=n;return be(t,e,"internal-error"),xI(t,new vp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:vr(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Gu(2e3,1e4);async function s2(n,e,t){if(Ln(n.app))return Promise.reject(Sr(n,"operation-not-supported-in-this-environment"));const i=$s(n);jC(n,e,pp);const a=Rb(i,t);return new xa(i,"signInViaPopup",e,a).executeNotNull()}class xa extends Cb{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i2.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="pendingRedirect",Ph=new Map;class o2 extends Cb{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const i=await l2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l2(n,e){const t=h2(e),i=c2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function u2(n,e){Ph.set(n._key(),e)}function c2(n){return Pi(n._redirectPersistence)}function h2(n){return Vh(a2,n.config.apiKey,n.name)}async function f2(n,e,t=!1){if(Ln(n.app))return Promise.reject(Li(n));const i=$s(n),a=Rb(i,e),c=await new o2(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=10*60*1e3;class g2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ib(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d2&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ib({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(n,e={}){return Ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function _2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await p2(n);for(const t of e)try{if(E2(t))return}catch{}vr(n,"unauthorized-domain")}function E2(n){const e=Im(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!v2.test(t))return!1;if(y2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Gu(3e4,6e4);function rE(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function b2(n){return new Promise((e,t)=>{var i,a,l;function c(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),t(Sr(n,"network-request-failed"))},timeout:T2.get()})}if(!((a=(i=Wr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Wr().gapi)===null||l===void 0)&&l.load)c();else{const d=dI("iframefcb");return Wr()[d]=()=>{gapi.load?c():t(Sr(n,"network-request-failed"))},fb(`${fI()}?onload=${d}`).catch(g=>t(g))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function w2(n){return Lh=Lh||b2(n),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Gu(5e3,15e3),S2="__/auth/iframe",R2="emulator/auth/iframe",C2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D2(n){const e=n.config;be(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hp(e,R2):`https://${n.config.authDomain}/${S2}`,i={apiKey:e.apiKey,appName:n.name,v:za},a=I2.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Fu(i).slice(1)}`}async function N2(n){const e=await w2(n),t=Wr().gapi;return be(t,n,"internal-error"),e.open({where:document.body,url:D2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C2,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Sr(n,"network-request-failed"),d=Wr().setTimeout(()=>{l(c)},A2.get());function g(){Wr().clearTimeout(d),a(i)}i.ping(g).then(g,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,k2="_blank",V2="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(n,e,t,i=O2,a=M2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const g=Object.assign(Object.assign({},x2),{width:i.toString(),height:a.toString(),top:l,left:c}),p=Cn().toLowerCase();t&&(d=sb(p)?k2:t),rb(p)&&(e=e||V2,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[w,k])=>`${b}${w}=${k},`,"");if(rI(p)&&d!=="_self")return L2(e||"",d),new iE(null);const T=window.open(e||"",d,v);be(T,n,"popup-blocked");try{T.focus()}catch{}return new iE(T)}function L2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__/auth/handler",j2="emulator/auth/handler",B2=encodeURIComponent("fac");async function sE(n,e,t,i,a,l){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:za,eventId:a};if(e instanceof pp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",SR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof $u){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const g=await n._getAppCheckToken(),p=g?`#${B2}=${encodeURIComponent(g)}`:"";return`${z2(n)}?${Fu(d).slice(1)}${p}`}function z2({config:n}){return n.emulator?hp(n,j2):`https://${n.authDomain}/${U2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class H2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tb,this._completeRedirectFn=f2,this._overrideRedirectResult=u2}async _openPopup(e,t,i,a){var l;zi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await sE(e,t,i,Im(),a);return P2(e,c,yp())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await sE(e,t,i,Im(),a);return GI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(zi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await N2(e),i=new g2(e);return t.register("authEvent",a=>(be(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(um,{type:um},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[um];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cb()||ib()||dp()}}const q2=H2;var aE="@firebase/auth",oE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(n){Va(new Ps("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(n)},p=new uI(i,a,l,g);return _I(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Va(new Ps("auth-internal",e=>{const t=$s(e.getProvider("auth").getImmediate());return(i=>new F2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(aE,oE,G2(n)),Xr(aE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=5*60,Q2=HT("authIdTokenMaxAge")||$2;let lE=null;const Y2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Q2)return;const a=t==null?void 0:t.token;lE!==a&&(lE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function X2(n=op()){const e=wf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vI(n,{popupRedirectResolver:q2,persistence:[e2,HI,Tb]}),i=HT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=Y2(l.toString());LI(t,c,()=>c(t.currentUser)),PI(t,d=>c(d))}}const a=jT("auth");return a&&EI(t,`http://${a}`),t}function W2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}cI({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Sr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",W2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");var Z2="firebase",J2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(Z2,J2,"app");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,Db;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function C(){}C.prototype=I.prototype,V.D=I.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(N,P,L){for(var M=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)M[Qe-2]=arguments[Qe];return I.prototype[P].apply(N,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,C){C||(C=0);var N=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)N[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;16>P;++P)N[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=V.g[0],C=V.g[1],P=V.g[2];var L=V.g[3],M=I+(L^C&(P^L))+N[0]+3614090360&4294967295;I=C+(M<<7&4294967295|M>>>25),M=L+(P^I&(C^P))+N[1]+3905402710&4294967295,L=I+(M<<12&4294967295|M>>>20),M=P+(C^L&(I^C))+N[2]+606105819&4294967295,P=L+(M<<17&4294967295|M>>>15),M=C+(I^P&(L^I))+N[3]+3250441966&4294967295,C=P+(M<<22&4294967295|M>>>10),M=I+(L^C&(P^L))+N[4]+4118548399&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(P^I&(C^P))+N[5]+1200080426&4294967295,L=I+(M<<12&4294967295|M>>>20),M=P+(C^L&(I^C))+N[6]+2821735955&4294967295,P=L+(M<<17&4294967295|M>>>15),M=C+(I^P&(L^I))+N[7]+4249261313&4294967295,C=P+(M<<22&4294967295|M>>>10),M=I+(L^C&(P^L))+N[8]+1770035416&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(P^I&(C^P))+N[9]+2336552879&4294967295,L=I+(M<<12&4294967295|M>>>20),M=P+(C^L&(I^C))+N[10]+4294925233&4294967295,P=L+(M<<17&4294967295|M>>>15),M=C+(I^P&(L^I))+N[11]+2304563134&4294967295,C=P+(M<<22&4294967295|M>>>10),M=I+(L^C&(P^L))+N[12]+1804603682&4294967295,I=C+(M<<7&4294967295|M>>>25),M=L+(P^I&(C^P))+N[13]+4254626195&4294967295,L=I+(M<<12&4294967295|M>>>20),M=P+(C^L&(I^C))+N[14]+2792965006&4294967295,P=L+(M<<17&4294967295|M>>>15),M=C+(I^P&(L^I))+N[15]+1236535329&4294967295,C=P+(M<<22&4294967295|M>>>10),M=I+(P^L&(C^P))+N[1]+4129170786&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^P&(I^C))+N[6]+3225465664&4294967295,L=I+(M<<9&4294967295|M>>>23),M=P+(I^C&(L^I))+N[11]+643717713&4294967295,P=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(P^L))+N[0]+3921069994&4294967295,C=P+(M<<20&4294967295|M>>>12),M=I+(P^L&(C^P))+N[5]+3593408605&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^P&(I^C))+N[10]+38016083&4294967295,L=I+(M<<9&4294967295|M>>>23),M=P+(I^C&(L^I))+N[15]+3634488961&4294967295,P=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(P^L))+N[4]+3889429448&4294967295,C=P+(M<<20&4294967295|M>>>12),M=I+(P^L&(C^P))+N[9]+568446438&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^P&(I^C))+N[14]+3275163606&4294967295,L=I+(M<<9&4294967295|M>>>23),M=P+(I^C&(L^I))+N[3]+4107603335&4294967295,P=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(P^L))+N[8]+1163531501&4294967295,C=P+(M<<20&4294967295|M>>>12),M=I+(P^L&(C^P))+N[13]+2850285829&4294967295,I=C+(M<<5&4294967295|M>>>27),M=L+(C^P&(I^C))+N[2]+4243563512&4294967295,L=I+(M<<9&4294967295|M>>>23),M=P+(I^C&(L^I))+N[7]+1735328473&4294967295,P=L+(M<<14&4294967295|M>>>18),M=C+(L^I&(P^L))+N[12]+2368359562&4294967295,C=P+(M<<20&4294967295|M>>>12),M=I+(C^P^L)+N[5]+4294588738&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^P)+N[8]+2272392833&4294967295,L=I+(M<<11&4294967295|M>>>21),M=P+(L^I^C)+N[11]+1839030562&4294967295,P=L+(M<<16&4294967295|M>>>16),M=C+(P^L^I)+N[14]+4259657740&4294967295,C=P+(M<<23&4294967295|M>>>9),M=I+(C^P^L)+N[1]+2763975236&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^P)+N[4]+1272893353&4294967295,L=I+(M<<11&4294967295|M>>>21),M=P+(L^I^C)+N[7]+4139469664&4294967295,P=L+(M<<16&4294967295|M>>>16),M=C+(P^L^I)+N[10]+3200236656&4294967295,C=P+(M<<23&4294967295|M>>>9),M=I+(C^P^L)+N[13]+681279174&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^P)+N[0]+3936430074&4294967295,L=I+(M<<11&4294967295|M>>>21),M=P+(L^I^C)+N[3]+3572445317&4294967295,P=L+(M<<16&4294967295|M>>>16),M=C+(P^L^I)+N[6]+76029189&4294967295,C=P+(M<<23&4294967295|M>>>9),M=I+(C^P^L)+N[9]+3654602809&4294967295,I=C+(M<<4&4294967295|M>>>28),M=L+(I^C^P)+N[12]+3873151461&4294967295,L=I+(M<<11&4294967295|M>>>21),M=P+(L^I^C)+N[15]+530742520&4294967295,P=L+(M<<16&4294967295|M>>>16),M=C+(P^L^I)+N[2]+3299628645&4294967295,C=P+(M<<23&4294967295|M>>>9),M=I+(P^(C|~L))+N[0]+4096336452&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~P))+N[7]+1126891415&4294967295,L=I+(M<<10&4294967295|M>>>22),M=P+(I^(L|~C))+N[14]+2878612391&4294967295,P=L+(M<<15&4294967295|M>>>17),M=C+(L^(P|~I))+N[5]+4237533241&4294967295,C=P+(M<<21&4294967295|M>>>11),M=I+(P^(C|~L))+N[12]+1700485571&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~P))+N[3]+2399980690&4294967295,L=I+(M<<10&4294967295|M>>>22),M=P+(I^(L|~C))+N[10]+4293915773&4294967295,P=L+(M<<15&4294967295|M>>>17),M=C+(L^(P|~I))+N[1]+2240044497&4294967295,C=P+(M<<21&4294967295|M>>>11),M=I+(P^(C|~L))+N[8]+1873313359&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~P))+N[15]+4264355552&4294967295,L=I+(M<<10&4294967295|M>>>22),M=P+(I^(L|~C))+N[6]+2734768916&4294967295,P=L+(M<<15&4294967295|M>>>17),M=C+(L^(P|~I))+N[13]+1309151649&4294967295,C=P+(M<<21&4294967295|M>>>11),M=I+(P^(C|~L))+N[4]+4149444226&4294967295,I=C+(M<<6&4294967295|M>>>26),M=L+(C^(I|~P))+N[11]+3174756917&4294967295,L=I+(M<<10&4294967295|M>>>22),M=P+(I^(L|~C))+N[2]+718787259&4294967295,P=L+(M<<15&4294967295|M>>>17),M=C+(L^(P|~I))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+L&4294967295}i.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var C=I-this.blockSize,N=this.B,P=this.h,L=0;L<I;){if(P==0)for(;L<=C;)a(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<I;)if(N[P++]=V.charCodeAt(L++),P==this.blockSize){a(this,N),P=0;break}}else for(;L<I;)if(N[P++]=V[L++],P==this.blockSize){a(this,N),P=0;break}}this.h=P,this.o+=I},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var C=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.u(V),V=Array(16),I=C=0;4>I;++I)for(var N=0;32>N;N+=8)V[C++]=this.g[I]>>>N&255;return V};function l(V,I){var C=d;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=I(V)}function c(V,I){this.h=I;for(var C=[],N=!0,P=V.length-1;0<=P;P--){var L=V[P]|0;N&&L==I||(C[P]=L,N=!1)}this.g=C}var d={};function g(V){return-128<=V&&128>V?l(V,function(I){return new c([I|0],0>I?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return O(p(-V));for(var I=[],C=1,N=0;V>=C;N++)I[N]=V/C|0,C*=4294967296;return new c(I,0)}function v(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return O(v(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(I,8)),N=T,P=0;P<V.length;P+=8){var L=Math.min(8,V.length-P),M=parseInt(V.substring(P,P+L),I);8>L?(L=p(Math.pow(I,L)),N=N.j(L).add(p(M))):(N=N.j(C),N=N.add(p(M)))}return N}var T=g(0),b=g(1),w=g(16777216);n=c.prototype,n.m=function(){if(z(this))return-O(this).m();for(var V=0,I=1,C=0;C<this.g.length;C++){var N=this.i(C);V+=(0<=N?N:4294967296+N)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if(z(this))return"-"+O(this).toString(V);for(var I=p(Math.pow(V,6)),C=this,N="";;){var P=ie(C,I).g;C=j(C,P.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=P,k(C))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function z(V){return V.h==-1}n.l=function(V){return V=j(this,V),z(V)?-1:k(V)?0:1};function O(V){for(var I=V.g.length,C=[],N=0;N<I;N++)C[N]=~V.g[N];return new c(C,~V.h).add(b)}n.abs=function(){return z(this)?O(this):this},n.add=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],N=0,P=0;P<=I;P++){var L=N+(this.i(P)&65535)+(V.i(P)&65535),M=(L>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);N=M>>>16,L&=65535,M&=65535,C[P]=M<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(V,I){return V.add(O(I))}n.j=function(V){if(k(this)||k(V))return T;if(z(this))return z(V)?O(this).j(O(V)):O(O(this).j(V));if(z(V))return O(this.j(O(V)));if(0>this.l(w)&&0>V.l(w))return p(this.m()*V.m());for(var I=this.g.length+V.g.length,C=[],N=0;N<2*I;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<V.g.length;P++){var L=this.i(N)>>>16,M=this.i(N)&65535,Qe=V.i(P)>>>16,et=V.i(P)&65535;C[2*N+2*P]+=M*et,K(C,2*N+2*P),C[2*N+2*P+1]+=L*et,K(C,2*N+2*P+1),C[2*N+2*P+1]+=M*Qe,K(C,2*N+2*P+1),C[2*N+2*P+2]+=L*Qe,K(C,2*N+2*P+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new c(C,0)};function K(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function $(V,I){this.g=V,this.h=I}function ie(V,I){if(k(I))throw Error("division by zero");if(k(V))return new $(T,T);if(z(V))return I=ie(O(V),I),new $(O(I.g),O(I.h));if(z(I))return I=ie(V,O(I)),new $(O(I.g),I.h);if(30<V.g.length){if(z(V)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,N=I;0>=N.l(V);)C=ee(C),N=ee(N);var P=ae(C,1),L=ae(N,1);for(N=ae(N,2),C=ae(C,2);!k(N);){var M=L.add(N);0>=M.l(V)&&(P=P.add(C),L=M),N=ae(N,1),C=ae(C,1)}return I=j(V,P.j(I)),new $(P,I)}for(P=T;0<=V.l(I);){for(C=Math.max(1,Math.floor(V.m()/I.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=p(C),M=L.j(I);z(M)||0<M.l(V);)C-=N,L=p(C),M=L.j(I);k(L)&&(L=b),P=P.add(L),V=j(V,M)}return new $(P,V)}n.A=function(V){return ie(this,V).h},n.and=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)&V.i(N);return new c(C,this.h&V.h)},n.or=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)|V.i(N);return new c(C,this.h|V.h)},n.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)^V.i(N);return new c(C,this.h^V.h)};function ee(V){for(var I=V.g.length+1,C=[],N=0;N<I;N++)C[N]=V.i(N)<<1|V.i(N-1)>>>31;return new c(C,V.h)}function ae(V,I){var C=I>>5;I%=32;for(var N=V.g.length-C,P=[],L=0;L<N;L++)P[L]=0<I?V.i(L+C)>>>I|V.i(L+C+1)<<32-I:V.i(L+C);return new c(P,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Db=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ms=c}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nb,pu,xb,Uh,Om,Ob,Mb,kb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in _))break e;_=_[F]}h=h[h.length-1],S=_[h],y=y(S),y!=S&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,S=!1,F={next:function(){if(!S&&_<h.length){var Y=_++;return{value:y(Y,h[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function b(h,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function w(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function k(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,F,Y){for(var se=Array(arguments.length-2),je=2;je<arguments.length;je++)se[je-2]=arguments[je];return y.prototype[F].apply(S,se)}}function z(h){const y=h.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=h[S];return _}return[]}function O(h,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const F=h.length||0,Y=S.length||0;h.length=F+Y;for(let se=0;se<Y;se++)h[F+se]=S[se]}else h.push(S)}}class j{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ie(h){return ie[" "](h),h}ie[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ae(h,y,_){for(const S in h)y.call(_,h[S],S,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function I(h){const y={};for(const _ in h)y[_]=h[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,y){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)h[_]=S[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function L(h){d.setTimeout(()=>{throw h},0)}function M(){var h=Ne;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,_){const S=et.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new j(()=>new oe,h=>h.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,Ne=new Qe,U=()=>{const h=d.Promise.resolve(void 0);ge=()=>{h.then(re)}};var re=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(_){L(_)}var y=et;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Ae(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ee){e:{try{ie(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_e[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}k(Ae,le);var _e={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function qe(h,y,_,S,F){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=F,this.key=++Ie,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function wt(h){this.src=h,this.g={},this.h=0}wt.prototype.add=function(h,y,_,S,F){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var se=Vt(h,y,S,F);return-1<se?(y=h[se],_||(y.fa=!1)):(y=new qe(y,this.src,Y,!!S,F),y.fa=_,h.push(y)),y};function Dt(h,y){var _=y.type;if(_ in h.g){var S=h.g[_],F=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(S,F,1),Y&&(ye(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Vt(h,y,_,S){for(var F=0;F<h.length;++F){var Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==S)return F}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),In={};function yn(h,y,_,S,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)yn(h,y[Y],_,S,F);return null}return _=Ga(_),h&&h[it]?h.K(y,_,p(S)?!!S.capture:!1,F):Gi(h,y,_,!1,S,F)}function Gi(h,y,_,S,F,Y){if(!y)throw Error("Invalid event type");var se=p(F)?!!F.capture:!!F,je=$i(h);if(je||(h[Qt]=je=new wt(h)),_=je.add(y,_,S,se,Y),_.proxy)return _;if(S=oi(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)ue||(F=se),F===void 0&&(F=!1),h.addEventListener(y.toString(),S,F);else if(h.attachEvent)h.attachEvent(_r(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oi(){function h(_){return y.call(h.src,h.listener,_)}const y=Ki;return h}function Dr(h,y,_,S,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Dr(h,y[Y],_,S,F);else S=p(S)?!!S.capture:!!S,_=Ga(_),h&&h[it]?(h=h.i,y=String(y).toString(),y in h.g&&(Y=h.g[y],_=Vt(Y,_,S,F),-1<_&&(ye(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[y],h.h--)))):h&&(h=$i(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Vt(y,_,S,F)),(_=-1<h?y[h]:null)&&vn(_))}function vn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])Dt(y.i,h);else{var _=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(_,S,h.capture):y.detachEvent?y.detachEvent(_r(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=$i(y))?(Dt(_,h),_.h==0&&(_.src=null,y[Qt]=null)):ye(h)}}}function _r(h){return h in In?In[h]:In[h]="on"+h}function Ki(h,y){if(h.da)h=!0;else{y=new Ae(y,this);var _=h.listener,S=h.ha||h.src;h.fa&&vn(h),h=_.call(S,y)}return h}function $i(h){return h=h[Qt],h instanceof wt?h:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(h){return typeof h=="function"?h:(h[sn]||(h[sn]=function(y){return h.handleEvent(y)}),h[sn])}function At(){ce.call(this),this.i=new wt(this),this.M=this,this.F=null}k(At,ce),At.prototype[it]=!0,At.prototype.removeEventListener=function(h,y,_,S){Dr(this,h,y,_,S)};function st(h,y){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var F=y;y=new le(S,h),N(y,F)}if(F=!0,_)for(var Y=_.length-1;0<=Y;Y--){var se=y.g=_[Y];F=_n(se,S,!0,y)&&F}if(se=y.g=h,F=_n(se,S,!0,y)&&F,F=_n(se,S,!1,y)&&F,_)for(Y=0;Y<_.length;Y++)se=y.g=_[Y],F=_n(se,S,!1,y)&&F}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],S=0;S<_.length;S++)ye(_[S]);delete h.g[y],h.h--}}this.F=null},At.prototype.K=function(h,y,_,S){return this.i.add(String(h),y,!1,_,S)},At.prototype.L=function(h,y,_,S){return this.i.add(String(h),y,!0,_,S)};function _n(h,y,_,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==_){var je=se.listener,zt=se.ha||se.src;se.fa&&Dt(h.i,se),F=je.call(zt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Nr(h,y,_){if(typeof h=="function")_&&(h=b(h,_));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Qi(h){h.g=Nr(()=>{h.g=null,h.i&&(h.i=!1,Qi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class er extends ce{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(h){ce.call(this),this.h=h,this.g={}}k(xr,ce);var Or=[];function Yt(h){ae(h.g,function(y,_){this.g.hasOwnProperty(_)&&vn(y)},h),h.g={}}xr.prototype.N=function(){xr.aa.N.call(this),Yt(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=d.JSON.stringify,Hn=d.JSON.parse,an=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Yi(){}Yi.prototype.h=null;function Ka(h){return h.h||(h.h=h.i())}function $a(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function at(){le.call(this,"d")}k(at,le);function ot(){le.call(this,"c")}k(ot,le);var tt={},on=null;function Pt(){return on=on||new At}tt.La="serverreachability";function Lt(h){le.call(this,tt.La,h)}k(Lt,le);function Ut(h){const y=Pt();st(y,new Lt(y))}tt.STAT_EVENT="statevent";function qn(h,y){le.call(this,tt.STAT_EVENT,h),this.stat=y}k(qn,le);function xe(h){const y=Pt();st(y,new qn(y,h))}tt.Ma="timingevent";function Fn(h,y){le.call(this,tt.Ma,h),this.size=y}k(Fn,le);function jt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function Mr(h,y,_,S,F,Y){h.info(function(){if(h.g)if(Y)for(var se="",je=Y.split("&"),zt=0;zt<je.length;zt++){var Be=je[zt].split("=");if(1<Be.length){var Zt=Be[0];Be=Be[1];var Ht=Zt.split("_");se=2<=Ht.length&&Ht[1]=="type"?se+(Zt+"="+Be+"&"):se+(Zt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+_+`
`+se})}function kr(h,y,_,S,F,Y,se){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+_+`
`+Y+" "+se})}function ln(h,y,_,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+pt(h,_)+(S?" "+S:"")})}function En(h,y){h.info(function(){return"TIMEOUT: "+y})}Xt.prototype.info=function(){};function pt(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<F.length;se++)F[se]=""}}}}return li(_)}catch{return y}}var Bt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Js;function Qa(){}k(Qa,Yi),Qa.prototype.g=function(){return new XMLHttpRequest},Qa.prototype.i=function(){return{}},Js=new Qa;function Vr(h,y,_,S){this.j=h,this.i=y,this.l=_,this.R=S||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cl}function cl(){this.i=null,this.g="",this.h=!1}var Xi={},ea={};function Er(h,y,_){h.L=1,h.v=ra(yt(y)),h.m=_,h.P=!0,ci(h,null)}function ci(h,y){h.F=Date.now(),ht(h),h.A=yt(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),di(_.i,"t",S),h.C=0,_=h.j.J,h.h=new cl,h.g=bc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new er(b(h.Y,h,h.g),h.O)),y=h.U,_=h.g,S=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(Or[0]=F.toString()),F=Or);for(var Y=0;Y<F.length;Y++){var se=yn(_,F[Y],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ut(),Mr(h.i,h.u,h.A,h.l,h.R,h.m)}Vr.prototype.ca=function(h){h=h.target;const y=this.M;y&&ar(h)==3?y.j():this.Y(h)},Vr.prototype.Y=function(h){try{if(h==this.g)e:{const Ht=ar(this.g);var y=this.g.Ba();const yi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||gc(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=yi?Ut(3):Ut(2)),Ya(this);var _=this.g.Z();this.X=_;t:if(Wi(this)){var S=gc(this.g);h="";var F=S.length,Y=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),Gn(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(Y&&y==F-1)});S.length=0,this.h.g+=h,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,kr(this.i,this.u,this.A,this.l,this.R,Ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,zt=this.g;if((je=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(je)){var Be=je;break t}}Be=null}if(_=Be)ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kn(this,_);else{this.o=!1,this.s=3,xe(12),kn(this),Gn(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<se.length;)if(un=Zi(this,se),un==ea){Ht==4&&(this.s=4,xe(14),_=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Xi){this.s=4,xe(15),ln(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else ln(this.i,this.l,un,null),Kn(this,un);if(Wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||se.length!=0||this.h.h||(this.s=1,xe(16),_=!1),this.o=this.o&&_,!_)ln(this.i,this.l,se,"[Invalid Chunked Response]"),kn(this),Gn(this);else if(0<se.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ca(Zt),Zt.M=!0,xe(11))}}else ln(this.i,this.l,se,null),Kn(this,se);Ht==4&&kn(this),this.o&&!this.J&&(Ht==4?_c(this.j,this):(this.o=!1,ht(this)))}else ad(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),kn(this),Gn(this)}}}catch{}finally{}};function Wi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Zi(h,y){var _=h.C,S=y.indexOf(`
`,_);return S==-1?ea:(_=Number(y.substring(_,S)),isNaN(_)?Xi:(S+=1,S+_>y.length?ea:(y=y.slice(S,S+_),h.C=S+_,y)))}Vr.prototype.cancel=function(){this.J=!0,kn(this)};function ht(h){h.S=Date.now()+h.I,hl(h,h.I)}function hl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=jt(b(h.ba,h),y)}function Ya(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(En(this.i,this.A),this.L!=2&&(Ut(),xe(17)),kn(this),this.s=2,Gn(this)):hl(this,this.S-h)};function Gn(h){h.j.G==0||h.J||_c(h.j,h)}function kn(h){Ya(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Yt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Kn(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Ji(_.h,h))){if(!h.K&&Ji(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)so(_),ro(_);else break e;bl(_),xe(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=jt(b(_.Za,_),6e3));if(1>=uc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((h.K||_.g==h)&&so(_),!K(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let Be=F[y];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const Zt=Be[3];Zt!=null&&(_.la=Zt,_.j.info("VER="+_.la));const Ht=Be[4];Ht!=null&&(_.Aa=Ht,_.j.info("SVER="+_.Aa));const yi=Be[5];yi!=null&&typeof yi=="number"&&0<yi&&(S=1.5*yi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const un=h.g;if(un){const Hr=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Y=S.h;Y.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(es(Y,Y.h),Y.h=null))}if(S.D){const Al=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(S.ya=Al,Fe(S.I,S.D,Al))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=h;if(S.qa=Tc(S,S.J?S.ia:null,S.W),se.K){nr(S.h,se);var je=se,zt=S.L;zt&&(je.I=zt),je.B&&(Ya(je),ht(je)),S.g=se}else yc(S);0<_.i.length&&io(_)}else Be[0]!="stop"&&Be[0]!="close"||pi(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?pi(_,7):El(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Ut(4)}catch{}}var td=class{constructor(h,y){this.g=h,this.map=y}};function fl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function uc(h){return h.h?1:h.g?h.g.size:0}function Ji(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function es(h,y){h.g?h.g.add(y):h.h=y}function nr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}fl.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return z(h.i)}function cc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(g(h)){for(var y=[],_=h.length,S=0;S<_;S++)y.push(h[S]);return y}y=[],_=0;for(S in h)y[_++]=h[S];return y}function nd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(g(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const S in h)y[_++]=S;return y}}}function ta(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(g(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=nd(h),S=cc(h),F=S.length,Y=0;Y<F;Y++)y.call(void 0,S[Y],_&&_[Y],h)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xa(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),F=null;if(0<=S){var Y=h[_].substring(0,S);F=h[_].substring(S+1)}else Y=h[_];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof hi){this.h=h.h,ts(this,h.j),this.o=h.o,this.g=h.g,na(this,h.s),this.l=h.l;var y=h.i,_=new Pr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Wa(this,_),this.m=h.m}else h&&(y=String(h).match(gl))?(this.h=!1,ts(this,y[1]||"",!0),this.o=ns(y[2]||""),this.g=ns(y[3]||"",!0),na(this,y[4]),this.l=ns(y[5]||"",!0),Wa(this,y[6]||"",!0),this.m=ns(y[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}hi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(rr(y,ml,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rr(y,ml,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(rr(_,_.charAt(0)=="/"?pl:hc,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",rr(_,sd)),h.join("")};function yt(h){return new hi(h)}function ts(h,y,_){h.j=_?ns(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function na(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Wa(h,y,_){y instanceof Pr?(h.i=y,yl(h.i,h.h)):(_||(y=rr(y,id)),h.i=new Pr(y,h.h))}function Fe(h,y,_){h.i.set(y,_)}function ra(h){return Fe(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ns(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,rd),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ml=/[#\/\?@]/g,hc=/[#\?:]/g,pl=/[#\?]/g,id=/[#\?@]/g,sd=/#/g;function Pr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ir(h){h.g||(h.g=new Map,h.h=0,h.i&&Xa(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Pr.prototype,n.add=function(h,y){ir(this),this.i=null,h=gi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Za(h,y){ir(h),y=gi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function fi(h,y){return ir(h),y=gi(h,y),h.g.has(y)}n.forEach=function(h,y){ir(this),this.g.forEach(function(_,S){_.forEach(function(F){h.call(y,F,S,this)},this)},this)},n.na=function(){ir(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const F=h[S];for(let Y=0;Y<F.length;Y++)_.push(y[S])}return _},n.V=function(h){ir(this);let y=[];if(typeof h=="string")fi(this,h)&&(y=y.concat(this.g.get(gi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return ir(this),this.i=null,h=gi(this,h),fi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function di(h,y,_){Za(h,y),0<_.length&&(h.i=null,h.g.set(gi(h,y),z(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Y=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var F=Y;se[S]!==""&&(F+="="+encodeURIComponent(String(se[S]))),h.push(F)}}return this.i=h.join("&")};function gi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function yl(h,y){y&&!h.j&&(ir(h),h.i=null,h.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Za(this,S),di(this,F,_))},h)),h.j=y}function fc(h,y){const _=new Xt;if(d.Image){const S=new Image;S.onload=w(sr,_,"TestLoadImage: loaded",!0,y,S),S.onerror=w(sr,_,"TestLoadImage: error",!1,y,S),S.onabort=w(sr,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=w(sr,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function ia(h,y){const _=new Xt,S=new AbortController,F=setTimeout(()=>{S.abort(),sr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?sr(_,"TestPingServer: ok",!0,y):sr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),sr(_,"TestPingServer: error",!1,y)})}function sr(h,y,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function sa(){this.g=new an}function Lr(h,y,_){const S=_||"";try{ta(h,function(F,Y){let se=F;p(F)&&(se=li(F)),y.push(S+Y+"="+encodeURIComponent(se))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function rs(h){this.l=h.Ub||null,this.j=h.eb||!1}k(rs,Yi),rs.prototype.g=function(){return new mi(this.l,this.j)},rs.prototype.i=function(h){return function(){return h}}({});function mi(h,y){At.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(mi,At),n=mi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,jr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):jr(this),this.readyState==3&&vl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},n.Qa=function(h){this.g&&(this.response=h,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function _l(h){let y="";return ae(h,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Wt(h,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=_l(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Fe(h,y,_))}function Ye(h){At.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ye,At);var Ja=/^https?$/i,aa=["POST","PUT"];n=Ye.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Js.g(),this.v=this.o?Ka(this.o):Ka(Js),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){dc(this,Y);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(aa,y,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of _)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){dc(this,Y)}};function dc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,eo(h),Br(h)}function eo(h){h.A||(h.A=!0,st(h,"complete"),st(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,st(this,"complete"),st(this,"abort"),Br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},n.bb=function(){to(this)};function to(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ar(h)!=4||h.Z()!=2)){if(h.u&&ar(h)==4)Nr(h.Ea,0,h);else if(st(h,"readystatechange"),ar(h)==4){h.h=!1;try{const se=h.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=se===0){var F=String(h.D).match(gl)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Ja.test(F?F.toLowerCase():"")}_=S}if(_)st(h,"complete"),st(h,"success");else{h.m=6;try{var Y=2<ar(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",eo(h)}}finally{Br(h)}}}}function Br(h,y){if(h.g){oa(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||st(h,"ready");try{_.onreadystatechange=S}catch{}}}function oa(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Hn(y)}};function gc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ad(h){const y={};h=(h.g&&2<=ar(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(K(h[S]))continue;var _=P(h[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[F]||[];y[F]=Y,Y.push(_)}V(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function no(h){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,h),this.cb=la("retryDelaySeedMs",1e4,h),this.Wa=la("forwardChannelMaxRetries",2,h),this.wa=la("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new fl(h&&h.concurrentRequestLimit),this.Da=new sa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=no.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,S){xe(0),this.W=h,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Tc(this,null,this.W),io(this)};function El(h){if(mc(h),h.G==3){var y=h.U++,_=yt(h.I);if(Fe(_,"SID",h.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),ua(h,_),y=new Vr(h,h.j,y),y.L=2,y.v=ra(yt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}Ec(h)}function ro(h){h.g&&(ca(h),h.g.cancel(),h.g=null)}function mc(h){ro(h),h.u&&(d.clearTimeout(h.u),h.u=null),so(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function io(h){if(!dl(h.h)&&!h.s){h.s=!0;var y=h.Ga;ge||U(),me||(ge(),me=!0),Ne.add(y,h),h.B=0}}function od(h,y){return uc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=jt(b(h.Ga,h,y),wl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Vr(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=I(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=pc(this,F,y),_=yt(this.I),Fe(_,"RID",h),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),ua(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(_l(Y)))+"&"+y:this.m&&Wt(_,this.m,Y)),es(this.h,F),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),F.T=!0,Er(F,_,null)):Er(F,_,y),this.G=2}}else this.G==3&&(h?Tl(this,h):this.i.length==0||dl(this.h)||Tl(this))};function Tl(h,y){var _;y?_=y.l:_=h.U++;const S=yt(h.I);Fe(S,"SID",h.K),Fe(S,"RID",_),Fe(S,"AID",h.T),ua(h,S),h.m&&h.o&&Wt(S,h.m,h.o),_=new Vr(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=pc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),es(h.h,_),Er(_,S,y)}function ua(h,y){h.H&&ae(h.H,function(_,S){Fe(y,S,_)}),h.l&&ta({},function(_,S){Fe(y,S,_)})}function pc(h,y,_){_=Math.min(h.i.length,_);var S=h.l?b(h.l.Na,h.l,h):null;e:{var F=h.i;let Y=-1;for(;;){const se=["count="+_];Y==-1?0<_?(Y=F[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let je=!0;for(let zt=0;zt<_;zt++){let Be=F[zt].g;const Zt=F[zt].map;if(Be-=Y,0>Be)Y=Math.max(0,F[zt].g-100),je=!1;else try{Lr(Zt,se,"req"+Be+"_")}catch{S&&S(Zt)}}if(je){S=se.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,S}function yc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ge||U(),me||(ge(),me=!0),Ne.add(y,h),h.v=0}}function bl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=jt(b(h.Fa,h),wl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=jt(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),ro(this),vc(this))};function ca(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function vc(h){h.g=new Vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=yt(h.qa);Fe(y,"RID","rpc"),Fe(y,"SID",h.K),Fe(y,"AID",h.T),Fe(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Fe(y,"TO",h.ja),Fe(y,"TYPE","xmlhttp"),ua(h,y),h.m&&h.o&&Wt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ra(yt(y)),_.m=null,_.P=!0,ci(_,h)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),bl(this),xe(19))};function so(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function _c(h,y){var _=null;if(h.g==y){so(h),ca(h),h.g=null;var S=2}else if(Ji(h.h,y))_=y.D,nr(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;S=Pt(),st(S,new Fn(S,_)),io(h)}else yc(h);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&od(h,y)||S==2&&bl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),F){case 1:pi(h,5);break;case 4:pi(h,10);break;case 3:pi(h,6);break;default:pi(h,2)}}}function wl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function pi(h,y){if(h.j.info("Error code "+y),y==2){var _=b(h.fb,h),S=h.Xa;const F=!S;S=new hi(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ts(S,"https"),ra(S),F?fc(S.toString(),_):ia(S.toString(),_)}else xe(2);h.G=0,h.l&&h.l.sa(y),Ec(h),mc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Ec(h){if(h.G=0,h.ka=[],h.l){const y=Dn(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Tc(h,y,_){var S=_ instanceof hi?yt(_):new hi(_);if(S.g!="")y&&(S.g=y+"."+S.g),na(S,S.s);else{var F=d.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new hi(null);S&&ts(Y,S),y&&(Y.g=y),F&&na(Y,F),_&&(Y.l=_),S=Y}return _=h.D,y=h.ya,_&&y&&Fe(S,_,y),Fe(S,"VER",h.la),ua(h,S),S}function bc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ye(new rs({eb:_})):new Ye(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}n=wc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ao(){}ao.prototype.g=function(h,y){return new Nn(h,y)};function Nn(h,y){At.call(this),this.g=new no(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!K(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new zr(this)}k(Nn,At),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){El(this.g)},Nn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=li(h),h=_);y.i.push(new td(y.Ya++,h)),y.G==3&&io(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,Nn.aa.N.call(this)};function Ac(h){at.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}k(Ac,at);function Sc(){ot.call(this),this.status=1}k(Sc,ot);function zr(h){this.g=h}k(zr,wc),zr.prototype.ua=function(){st(this.g,"a")},zr.prototype.ta=function(h){st(this.g,new Ac(h))},zr.prototype.sa=function(h){st(this.g,new Sc)},zr.prototype.ra=function(){st(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,kb=function(){return new ao},Mb=function(){return Pt()},Ob=tt,Om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bt.NO_ERROR=0,Bt.TIMEOUT=8,Bt.HTTP_ERROR=6,Uh=Bt,ui.COMPLETE="complete",xb=ui,$a.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",At.prototype.listen=At.prototype.K,pu=$a,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Nb=Ye}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",hE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new sp("@firebase/firestore");function ko(){return Ua.logLevel}function fe(n,...e){if(Ua.logLevel<=Ve.DEBUG){const t=e.map(_p);Ua.debug(`Firestore (${Jo}): ${n}`,...t)}}function Hi(n,...e){if(Ua.logLevel<=Ve.ERROR){const t=e.map(_p);Ua.error(`Firestore (${Jo}): ${n}`,...t)}}function qo(n,...e){if(Ua.logLevel<=Ve.WARN){const t=e.map(_p);Ua.warn(`Firestore (${Jo}): ${n}`,...t)}}function _p(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Hi(e),new Error(e)}function Xe(n,e){n||we()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class tD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nD{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ui,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},d=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ui)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string"),new Vb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new An(e)}}class rD{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iD{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new rD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sD{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new fE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new fE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=aD(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ue(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,gE=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*gE);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dE)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(),i===void 0?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),a=Qr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class lt extends Qr{construct(e,t,i){return new lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new lt(t)}static emptyPath(){return new lt([])}}const oD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Qr{construct(e,t,i){return new gn(e,t,i)}static isValidIdentifier(e){return oD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new gn([mE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function lD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Ls(a,Ee.empty(),e)}function uD(n){return new Ls(n.readTime,n.key,Mu)}class Ls{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ls(Se.min(),Ee.empty(),Mu)}static max(){return new Ls(Se.max(),Ee.empty(),Mu)}}function cD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==hD)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,i)=>{t(e)})}static reject(e){return new te((t,i)=>{i(e)})}static waitFor(e){return new te((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},g=>i(g))}),c=!0,l===a&&t()})}static or(e){let t=te.resolve(!1);for(const i of e)t=t.next(a=>a?te.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new te((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(v=>{c[p]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new te((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function dD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function If(n){return n==null}function tf(n){return n===0&&1/n==-1/0}function gD(n){return typeof n=="number"&&Number.isInteger(n)&&!tf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="";function mD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pE(e)),e=pD(n.get(t),e);return pE(e)}function pD(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Lb:t+="";break;default:t+=l}}return t}function pE(n){return n+Lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ub(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||dn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new dn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,a,l){return this}insert(e,t,i){return new dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vE(this.data.getIterator())}getIteratorFrom(e){return new vE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class vE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new $t(gn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jb("Invalid base64 string: "+l):l}}(e);return new mn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const yD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=yD.exec(n);if(Xe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?mn.fromBase64String(n):mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="server_timestamp",zb="__type__",Hb="__previous_value__",qb="__local_write_time__";function Tp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zb])===null||t===void 0?void 0:t.stringValue)===Bb}function Df(n){const e=n.mapValue.fields[Hb];return Tp(e)?Df(e):e}function ku(n){const e=Us(n.mapValue.fields[qb].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t,i,a,l,c,d,g,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p}}const nf="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="__type__",_D="__max__",Rh={mapValue:{}},Gb="__vector__",rf="value";function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tp(n)?4:TD(n)?9007199254740991:ED(n)?10:11:we()}function ei(n,e){if(n===e)return!0;const t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Us(a.timestampValue),d=Us(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return js(a.bytesValue).isEqual(js(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?tf(c)===tf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(yE(c)!==yE(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!ei(c[g],d[g])))return!1;return!0}(n,e);default:return we()}}function Pu(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function Go(n,e){if(n===e)return 0;const t=Bs(n),i=Bs(e);if(t!==i)return Ue(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Rt(l.integerValue||l.doubleValue),g=Rt(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return _E(n.timestampValue,e.timestampValue);case 4:return _E(ku(n),ku(e));case 5:return Ue(n.stringValue,e.stringValue);case 6:return function(l,c){const d=js(l),g=js(c);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const v=Ue(d[p],g[p]);if(v!==0)return v}return Ue(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ue(Rt(l.latitude),Rt(c.latitude));return d!==0?d:Ue(Rt(l.longitude),Rt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return EE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,g,p,v;const T=l.fields||{},b=c.fields||{},w=(d=T[rf])===null||d===void 0?void 0:d.arrayValue,k=(g=b[rf])===null||g===void 0?void 0:g.arrayValue,z=Ue(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((v=k==null?void 0:k.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:EE(w,k)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Rh.mapValue&&c===Rh.mapValue)return 0;if(l===Rh.mapValue)return 1;if(c===Rh.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const b=Ue(g[T],v[T]);if(b!==0)return b;const w=Go(d[g[T]],p[v[T]]);if(w!==0)return w}return Ue(g.length,v.length)}(n.mapValue,e.mapValue);default:throw we()}}function _E(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Us(n),i=Us(e),a=Ue(t.seconds,i.seconds);return a!==0?a:Ue(t.nanos,i.nanos)}function EE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Go(t[a],i[a]);if(l)return l}return Ue(t.length,i.length)}function Ko(n){return Mm(n)}function Mm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Us(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Mm(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Mm(t.fields[c])}`;return a+"}"}(n.mapValue):we()}function jh(n){switch(Bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+jh(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+jh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,c)=>{a+=l.length+jh(c)}),a}(n.mapValue);default:throw we()}}function TE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function km(n){return!!n&&"integerValue"in n}function bp(n){return!!n&&"arrayValue"in n}function bE(n){return!!n&&"nullValue"in n}function wE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function ED(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fb])===null||t===void 0?void 0:t.stringValue)===Gb}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=gn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=bu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Qs(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Un(bu(this.value))}}function Kb(n){const e=[];return Qs(n.fields,(t,i)=>{const a=new gn([t]);if(Bh(i)){const l=Kb(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Sn(e,0,Se.min(),Se.min(),Se.min(),Un.empty(),0)}static newFoundDocument(e,t,i,a){return new Sn(e,1,t,Se.min(),i,a,0)}static newNoDocument(e,t){return new Sn(e,2,t,Se.min(),Se.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,Se.min(),Se.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.position=e,this.inclusive=t}}function AE(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Go(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function SE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function bD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{}class kt extends $b{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new AD(e,t,i):t==="array-contains"?new CD(e,i):t==="in"?new ID(e,i):t==="not-in"?new DD(e,i):t==="array-contains-any"?new ND(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new SD(e,i):new RD(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Go(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends $b{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Rr(e,t)}matches(e){return Qb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Qb(n){return n.op==="and"}function Yb(n){return wD(n)&&Qb(n)}function wD(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function Vm(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(Yb(n))return n.filters.map(e=>Vm(e)).join(",");{const e=n.filters.map(t=>Vm(t)).join(",");return`${n.op}(${e})`}}function Xb(n,e){return n instanceof kt?function(i,a){return a instanceof kt&&i.op===a.op&&i.field.isEqual(a.field)&&ei(i.value,a.value)}(n,e):n instanceof Rr?function(i,a){return a instanceof Rr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&Xb(c,a.filters[d]),!0):!1}(n,e):void we()}function Wb(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Wb).join(" ,")+"}"}(n):"Filter"}class AD extends kt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class SD extends kt{constructor(e,t){super(e,"in",t),this.keys=Zb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RD extends kt{constructor(e,t){super(e,"not-in",t),this.keys=Zb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class CD extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bp(t)&&Pu(t.arrayValue,this.value)}}class ID extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class DD extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pu(this.value.arrayValue,t)}}class ND extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function RE(n,e=null,t=[],i=[],a=null,l=null,c=null){return new xD(n,e,t,i,a,l,c)}function wp(n){const e=Ce(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Vm(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ko(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ko(i)).join(",")),e.le=t}return e.le}function Ap(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SE(n.startAt,e.startAt)&&SE(n.endAt,e.endAt)}function Pm(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OD(n,e,t,i,a,l,c,d){return new nl(n,e,t,i,a,l,c,d)}function Nf(n){return new nl(n)}function CE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Jb(n){return n.collectionGroup!==null}function wu(n){const e=Ce(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new $t(gn.comparator);return c.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Lu(l,i))}),t.has(gn.keyField().canonicalString())||e.he.push(new Lu(gn.keyField(),i))}return e.he}function Zr(n){const e=Ce(n);return e.Pe||(e.Pe=MD(e,wu(n))),e.Pe}function MD(n,e){if(n.limitType==="F")return RE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Lu(a.field,l)});const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return RE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Lm(n,e){const t=n.filters.concat([e]);return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Um(n,e,t){return new nl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Ap(Zr(n),Zr(e))&&n.limitType===e.limitType}function ew(n){return`${wp(Zr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Wb(a)).join(", ")}]`),If(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ko(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ko(a)).join(",")),`Target(${i})`}(Zr(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of wu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,g){const p=AE(c,d,g);return c.inclusive?p<=0:p<0}(i.startAt,wu(i),a)||i.endAt&&!function(c,d,g){const p=AE(c,d,g);return c.inclusive?p>=0:p>0}(i.endAt,wu(i),a))}(n,e)}function kD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tw(n){return(e,t)=>{let i=!1;for(const a of wu(n)){const l=VD(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function VD(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Go(g,p):we()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new mt(Ee.comparator);function qi(){return PD}const nw=new mt(Ee.comparator);function yu(...n){let e=nw;for(const t of n)e=e.insert(t.key,t);return e}function rw(n){let e=nw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oa(){return Au()}function iw(){return Au()}function Au(){return new Ha(n=>n.toString(),(n,e)=>n.isEqual(e))}const LD=new mt(Ee.comparator),UD=new $t(Ee.comparator);function Pe(...n){let e=UD;for(const t of n)e=e.add(t);return e}const jD=new $t(Ue);function BD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function sw(n){return{integerValue:""+n}}function zD(n,e){return gD(e)?sw(e):Sp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function HD(n,e,t){return n instanceof af?function(a,l){const c={fields:{[zb]:{stringValue:Bb},[qb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tp(l)&&(l=Df(l)),l&&(c.fields[Hb]=l),{mapValue:c}}(t,e):n instanceof $o?ow(n,e):n instanceof Uu?lw(n,e):function(a,l){const c=aw(a,l),d=IE(c)+IE(a.Ie);return km(c)&&km(a.Ie)?sw(d):Sp(a.serializer,d)}(n,e)}function qD(n,e,t){return n instanceof $o?ow(n,e):n instanceof Uu?lw(n,e):t}function aw(n,e){return n instanceof of?function(i){return km(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class af extends Mf{}class $o extends Mf{constructor(e){super(),this.elements=e}}function ow(n,e){const t=uw(e);for(const i of n.elements)t.some(a=>ei(a,i))||t.push(i);return{arrayValue:{values:t}}}class Uu extends Mf{constructor(e){super(),this.elements=e}}function lw(n,e){let t=uw(e);for(const i of n.elements)t=t.filter(a=>!ei(a,i));return{arrayValue:{values:t}}}class of extends Mf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function IE(n){return Rt(n.integerValue||n.doubleValue)}function uw(n){return bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.field=e,this.transform=t}}function GD(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof $o&&a instanceof $o||i instanceof Uu&&a instanceof Uu?Fo(i.elements,a.elements,ei):i instanceof of&&a instanceof of?ei(i.Ie,a.Ie):i instanceof af&&a instanceof af}(n.transform,e.transform)}class KD{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class kf{}function cw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vf(n.key,jn.none()):new Yu(n.key,n.data,jn.none());{const t=n.data,i=Un.empty();let a=new $t(gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ys(n.key,i,new Zn(a.toArray()),jn.none())}}function $D(n,e,t){n instanceof Yu?function(a,l,c){const d=a.value.clone(),g=NE(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(a,l,c){if(!zh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=NE(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(hw(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Su(n,e,t,i){return n instanceof Yu?function(l,c,d,g){if(!zh(l.precondition,c))return d;const p=l.value.clone(),v=xE(l.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ys?function(l,c,d,g){if(!zh(l.precondition,c))return d;const p=xE(l.fieldTransforms,g,c),v=c.data;return v.setAll(hw(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return zh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function QD(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=aw(i.transform,a||null);l!=null&&(t===null&&(t=Un.empty()),t.set(i.field,l))}return t||null}function DE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Fo(i,a,(l,c)=>GD(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yu extends kf{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ys extends kf{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NE(n,e,t){const i=new Map;Xe(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,qD(c,d,t[a]))}return i}function xE(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,HD(l,c,e))}return i}class Vf extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD extends kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$D(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const g=cw(c,d);g!==null&&i.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,i)=>DE(t,i))&&Fo(this.baseMutations,e.baseMutations,(t,i)=>DE(t,i))}}class Rp{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Xe(e.mutations.length===i.length);let a=function(){return LD}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Rp(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function JD(n){switch(n){case Z.OK:return we();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return we()}}function fw(n){if(n===void 0)return Hi("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Mt.OK:return Z.OK;case Mt.CANCELLED:return Z.CANCELLED;case Mt.UNKNOWN:return Z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Z.INTERNAL;case Mt.UNAVAILABLE:return Z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Z.NOT_FOUND;case Mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Mt.ABORTED:return Z.ABORTED;case Mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Mt.DATA_LOSS:return Z.DATA_LOSS;default:return we()}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Ms([4294967295,4294967295],0);function OE(n){const e=eN().encode(n),t=new Db;return t.update(e),new Uint8Array(t.digest())}function ME(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ms([t,i],0),new Ms([a,l],0)]}class Cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vu(`Invalid padding: ${t}`);if(i<0)throw new vu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ms.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Ms.fromNumber(i)));return a.compare(tN)===1&&(a=new Ms([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=OE(e),[i,a]=ME(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cp(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=OE(e),[i,a]=ME(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Xu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Pf(Se.min(),a,new mt(Ue),qi(),Pe())}}class Xu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Xu(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class dw{constructor(e,t){this.targetId=e,this.ge=t}}class gw{constructor(e,t,i=mn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class kE{constructor(){this.pe=0,this.ye=VE(),this.we=mn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),i=Pe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we()}}),new Xu(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=VE()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qi(),this.$e=Ch(),this.Ke=Ch(),this.Ue=new mt(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Pm(l))if(i===0){const c=new Ee(l.path);this.ze(t,c,Sn.newNoDocument(c,Se.min()))}else Xe(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),g=d?this.nt(d,e,c):1;if(g!==0){this.Ye(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=js(i).toUint8Array()}catch(g){if(g instanceof jb)return qo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Cp(c,a,l)}catch(g){return qo(g instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Pm(d.target)){const g=new Ee(d.target.path);this._t(g).has(c)||this.ut(c,g)||this.ze(c,g,Sn.newNoDocument(g,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Pe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(g=>{const p=this.Xe(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Pf(e,t,this.Ue,this.Qe,i);return this.Qe=qi(),this.$e=Ch(),this.Ke=Ch(),this.Ue=new mt(Ue),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new kE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new $t(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new $t(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new kE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ch(){return new mt(Ee.comparator)}function VE(){return new mt(Ee.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sN={and:"AND",or:"OR"};class aN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jm(n,e){return n.useProto3Json||If(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oN(n,e){return lf(n,e.toTimestamp())}function Jr(n){return Xe(!!n),Se.fromTimestamp(function(t){const i=Us(t);return new ut(i.seconds,i.nanos)}(n))}function Ip(n,e){return Bm(n,e).canonicalString()}function Bm(n,e){const t=function(a){return new lt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function pw(n){const e=lt.fromString(n);return Xe(Tw(e)),e}function zm(n,e){return Ip(n.databaseId,e.path)}function cm(n,e){const t=pw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(vw(t))}function yw(n,e){return Ip(n.databaseId,e)}function lN(n){const e=pw(n);return e.length===4?lt.emptyPath():vw(e)}function Hm(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vw(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function PE(n,e,t){return{name:zm(n,e),fields:t.value.mapValue.fields}}function uN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Xe(v===void 0||typeof v=="string"),mn.fromBase64String(v||"")):(Xe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),mn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const v=p.code===void 0?Z.UNKNOWN:fw(p.code);return new he(v,p.message||"")}(c);t=new gw(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=cm(n,i.document.name),l=Jr(i.document.updateTime),c=i.document.createTime?Jr(i.document.createTime):Se.min(),d=new Un({mapValue:{fields:i.document.fields}}),g=Sn.newFoundDocument(a,l,c,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Hh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=cm(n,i.document),l=i.readTime?Jr(i.readTime):Se.min(),c=Sn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Hh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=cm(n,i.document),l=i.removedTargetIds||[];t=new Hh([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new ZD(a,l),d=i.targetId;t=new dw(d,c)}}return t}function cN(n,e){let t;if(e instanceof Yu)t={update:PE(n,e.key,e.value)};else if(e instanceof Vf)t={delete:zm(n,e.key)};else if(e instanceof Ys)t={update:PE(n,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof YD))return we();t={verify:zm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $o)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof of)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:oN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(n,e.precondition)),t}function hN(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Jr(a.updateTime):Jr(l);return c.isEqual(Se.min())&&(c=Jr(l)),new KD(c,a.transformResults||[])}(t,e))):[]}function fN(n,e){return{documents:[yw(n,e.path)]}}function dN(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yw(n,a);const l=function(p){if(p.length!==0)return Ew(Rr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:Po(b.field),direction:pN(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:a}}function gN(n){let e=lN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Xe(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const b=_w(T);return b instanceof Rr&&Yb(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(k){return new Lu(Lo(k.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,If(b)?null:b}(t.limit));let g=null;t.startAt&&(g=function(T){const b=!!T.before,w=T.values||[];return new sf(w,b)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const b=!T.before,w=T.values||[];return new sf(w,b)}(t.endAt)),OD(e,a,c,l,d,"F",g,p)}function mN(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _w(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(t.unaryFilter.field);return kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(Lo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(i=>_w(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function pN(n){return rN[n]}function yN(n){return iN[n]}function vN(n){return sN[n]}function Po(n){return{fieldPath:n.canonicalString()}}function Lo(n){return gn.fromServerFormat(n.fieldPath)}function Ew(n){return n instanceof kt?function(t){if(t.op==="=="){if(wE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NAN"}};if(bE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NAN"}};if(bE(t.value))return{unaryFilter:{field:Po(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(t.field),op:yN(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const i=t.getFilters().map(a=>Ew(a));return i.length===1?i[0]:{compositeFilter:{op:vN(t.op),filters:i}}}(n):we()}function _N(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i,a,l=Se.min(),c=Se.min(),d=mn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Tt=e}}function TN(n){const e=gN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.Tn=new wN}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ls.min())}updateCollectionGroup(e,t,i){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class wN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new $t(lt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new $t(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(bw,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Qo(0)}static Un(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",AN=1048576;function jE([n,e],[t,i]){const a=Ue(n,t);return a===0?Ue(e,i):a}class SN{constructor(e){this.Hn=e,this.buffer=new $t(jE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();jE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(UE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?fe(UE,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.er(3e5)})}}class CN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Cf.ae);const i=new SN(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(LE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(p=Date.now(),ko()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function IN(n,e){return new CN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.changes=new Ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Su(i.mutation,a,Zn.empty(),ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const a=Oa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=yu();return l.forEach((d,g)=>{c=c.insert(d,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=qi();const c=Au(),d=function(){return Au()}();return t.forEach((g,p)=>{const v=i.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ys)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Su(v.mutation,p,v.mutation.getFieldMask(),ut.now())):c.set(p.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,v)=>c.set(p,v)),t.forEach((p,v)=>{var T;return d.set(p,new NN(v,(T=c.get(p))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Au();let a=new mt((c,d)=>c-d),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=i.get(g)||Zn.empty();v=d.applyToLocalView(p,v),i.set(g,v);const T=(a.get(d.batchId)||Pe()).add(g);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,v=g.value,T=iw();v.forEach(b=>{if(!l.has(b)){const w=cw(t.get(b),i.get(b));w!==null&&T.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):te.resolve(Oa());let d=Mu,g=l;return c.next(p=>te.forEach(p,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,Pe())).next(v=>({batchId:d,changes:rw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let a=yu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,g=>{const p=function(T,b){return new nl(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(v=>{v.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Sn.newInvalidDocument(v)))});let d=yu();return c.forEach((g,p)=>{const v=l.get(g);v!==void 0&&Su(v.mutation,p,Zn.empty(),ut.now()),Of(t,p)&&(d=d.insert(g,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Jr(a.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:TN(a.bundledQuery),readTime:Jr(a.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.overlays=new mt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return te.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),te.resolve()}getOverlaysForCollection(e,t,i){const a=Oa(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>i&&a.set(g.getKey(),g)}return te.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=l.get(p.largestBatchId);v===null&&(v=Oa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Oa(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=a)););return te.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new WD(t,i));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Vr=new $t(nn.mr),this.gr=new $t(nn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new nn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new nn(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new Ee(new lt([])),i=new nn(t,e),a=new nn(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new lt([])),i=new nn(t,e),a=new nn(t,e+1);let l=Pe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new nn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class nn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new $t(nn.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XD(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new nn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ep:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new nn(t,0),a=new nn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(Ue);return t.forEach(a=>{const l=new nn(a,0),c=new nn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),te.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new nn(new Ee(l),0);let d=new $t(Ue);return this.Mr.forEachWhile(g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(g.Cr)),!0)},c),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return te.forEach(t.mutations,a=>{const l=new nn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new nn(t,0),a=this.Mr.firstAfterOrEqual(i);return te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.kr=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return te.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let i=qi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))}),te.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=qi();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||cD(uD(v),i)<=0||(a.has(v.key)||Of(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we()}qr(e,t){return te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new LN(this)}getSize(e){return te.resolve(this.size)}}class LN extends DN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.Qr=new Ha(t=>wp(t),Ap),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Dp,this.targetCount=0,this.Ur=Qo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Qo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),te.waitFor(l).next(()=>a)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return te.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),te.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return te.resolve(i)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Cf(0),this.zr=!1,this.zr=!0,this.jr=new kN,this.referenceDelegate=e(this),this.Hr=new UN(this),this.indexManager=new bN,this.remoteDocumentCache=function(a){return new PN(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new EN(t),this.Yr=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new VN(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new jN(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class jN extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.ti=new Dp,this.ni=null}static ri(e){return new Np(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),te.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,i=>{const a=Ee.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class uf{constructor(e,t){this.persistence=e,this.oi=new Ha(i=>mD(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=IN(this,t)}static ri(e,t){return new uf(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?te.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),te.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jh(e.data.value)),t}ar(e,t,i){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return te.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new xp(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return _R()?8:dD(Cn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new BN;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(ko()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(ko()<=Ve.DEBUG&&fe("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(ko()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):te.resolve())}rs(e,t){if(CE(t))return te.resolve(null);let i=Zr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Um(t,null,"F"),i=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Pe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(g=>{const p=this.cs(t,d);return this.ls(t,p,c,g.readTime)?this.rs(e,Um(t,null,"F")):this.hs(e,p,t,g)}))})))}ss(e,t,i,a){return CE(t)||a.isEqual(Se.min())?te.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?te.resolve(null):(ko()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(t)),this.hs(e,c,t,lD(a,Mu)).next(d=>d))})}cs(e,t){let i=new $t(tw(e));return t.forEach((a,l)=>{Of(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return ko()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ns.getDocumentsMatchingQuery(e,t,Ls.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",HN=3e8;class qN{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new mt(Ue),this.Is=new Ha(l=>wp(l),Ap),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function FN(n,e,t,i){return new qN(n,e,t,i)}async function Aw(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let g=Pe();for(const p of a){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(i,g).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function GN(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,g,p,v){const T=p.batch,b=T.keys();let w=te.resolve();return b.forEach(k=>{w=w.next(()=>v.getEntry(g,k)).next(z=>{const O=p.docVersions.get(k);Xe(O!==null),z.version.compareTo(O)<0&&(T.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let g=Pe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function Sw(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function KN(n,e){const t=Ce(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const b=a.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(mn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),a=a.insert(T,w),function(z,O,j){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=HN?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,w,v)&&d.push(t.Hr.updateTargetData(l,w))});let g=qi(),p=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push($N(l,c,e.documentUpdates).next(v=>{g=v.Vs,p=v.fs})),!i.isEqual(Se.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return te.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.Ts=a,l))}function $N(n,e,t){let i=Pe(),a=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=qi();return t.forEach((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):fe(Op,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)}),{Vs:c,fs:a}})}function QN(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ep),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function YN(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,te.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Ns(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function qm(n,e,t){const i=Ce(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!tl(c))throw c;fe(Op,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function BE(n,e,t){const i=Ce(n);let a=Se.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(g,p,v){const T=Ce(g),b=T.Is.get(v);return b!==void 0?te.resolve(T.Ts.get(b)):T.Hr.getTargetData(p,v)}(i,c,Zr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(g=>{l=g})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:Se.min(),t?l:Pe())).next(d=>(XN(i,kD(e),d),{documents:d,gs:l})))}function XN(n,e,t){let i=n.Es.get(e)||Se.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class zE{constructor(){this.activeTargetIds=BD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WN{constructor(){this.ho=new zE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new zE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="ConnectivityMonitor";class qE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(HE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(HE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Fm(){return Ih===null?Ih=function(){return 268435456+Math.round(2147483648*Math.random())}():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",JN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ex{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===nf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,t,i,a,l){const c=Fm(),d=this.So(e,t.toUriEncodedString());fe(hm,`Sending RPC '${e}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,l),this.vo(e,d,g,i).then(p=>(fe(hm,`Received RPC '${e}' ${c}: `,p),p),p=>{throw qo(hm,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Co(e,t,i,a,l,c){return this.bo(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,t){const i=JN[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class nx extends ex{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=Fm();return new Promise((c,d)=>{const g=new Nb;g.setWithCredentials(!0),g.listenOnce(xb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const v=g.getResponseJson();fe(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Uh.TIMEOUT:fe(wn,`RPC '${e}' ${l} timed out`),d(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const T=g.getStatus();if(fe(wn,`RPC '${e}' ${l} failed with status:`,T,"response text:",g.getResponseText()),T>0){let b=g.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const k=function(O){const j=O.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN}(w.status);d(new he(k,w.message))}else d(new he(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new he(Z.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe(wn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);fe(wn,`RPC '${e}' ${l} sending request:`,a),g.send(t,"POST",p,i,15)})}Wo(e,t,i){const a=Fm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=kb(),d=Mb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const v=l.join("");fe(wn,`Creating RPC '${e}' stream ${a}: ${v}`,g);const T=c.createWebChannel(v,g);let b=!1,w=!1;const k=new tx({Fo:O=>{w?fe(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(fe(wn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),fe(wn,`RPC '${e}' stream ${a} sending:`,O),T.send(O))},Mo:()=>T.close()}),z=(O,j,K)=>{O.listen(j,$=>{try{K($)}catch(ie){setTimeout(()=>{throw ie},0)}})};return z(T,pu.EventType.OPEN,()=>{w||(fe(wn,`RPC '${e}' stream ${a} transport opened.`),k.Qo())}),z(T,pu.EventType.CLOSE,()=>{w||(w=!0,fe(wn,`RPC '${e}' stream ${a} transport closed`),k.Ko())}),z(T,pu.EventType.ERROR,O=>{w||(w=!0,qo(wn,`RPC '${e}' stream ${a} transport errored:`,O),k.Ko(new he(Z.UNAVAILABLE,"The operation could not be completed")))}),z(T,pu.EventType.MESSAGE,O=>{var j;if(!w){const K=O.data[0];Xe(!!K);const $=K,ie=($==null?void 0:$.error)||((j=$[0])===null||j===void 0?void 0:j.error);if(ie){fe(wn,`RPC '${e}' stream ${a} received error:`,ie);const ee=ie.status;let ae=function(C){const N=Mt[C];if(N!==void 0)return fw(N)}(ee),V=ie.message;ae===void 0&&(ae=Z.INTERNAL,V="Unknown error status: "+ee+" with message "+ie.message),w=!0,k.Ko(new he(ae,V)),T.close()}else fe(wn,`RPC '${e}' stream ${a} received:`,K),k.Uo(K)}}),z(d,Ob.STAT_EVENT,O=>{O.stat===Om.PROXY?fe(wn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Om.NOPROXY&&fe(wn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new aN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class Cw{constructor(e,t,i,a,l,c,d,g){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Rw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new he(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rx extends Cw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=uN(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?Jr(c.readTime):Se.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Hm(this.serializer),t.addTarget=function(l,c){let d;const g=c.target;if(d=Pm(g)?{documents:fN(l,g)}:{query:dN(l,g).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=mw(l,c.resumeToken);const p=jm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=lf(l,c.snapshotVersion.toTimestamp());const p=jm(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=mN(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Hm(this.serializer),t.removeTarget=e,this.I_(t)}}class ix extends Cw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=hN(e.writeResults,e.commitTime),i=Jr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Hm(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>cN(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ax extends sx{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,Bm(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Z.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Bm(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ox{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class lx{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{qa(this)&&(fe(ja,"Restarting streams for network reachability change."),await async function(g){const p=Ce(g);p.W_.add(4),await Wu(p),p.j_.set("Unknown"),p.W_.delete(4),await Uf(p)}(this))})}),this.j_=new ox(i,a)}}async function Uf(n){if(qa(n))for(const e of n.G_)await e(!0)}async function Wu(n){for(const e of n.G_)await e(!1)}function Iw(n,e){const t=Ce(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Pp(t)?Vp(t):rl(t).c_()&&kp(t,e))}function Mp(n,e){const t=Ce(n),i=rl(t);t.U_.delete(e),i.c_()&&Dw(t,e),t.U_.size===0&&(i.c_()?i.P_():qa(t)&&t.j_.set("Unknown"))}function kp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(n).y_(e)}function Dw(n,e){n.H_.Ne(e),rl(n).w_(e)}function Vp(n){n.H_=new nN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),rl(n).start(),n.j_.B_()}function Pp(n){return qa(n)&&!rl(n).u_()&&n.U_.size>0}function qa(n){return Ce(n).W_.size===0}function Nw(n){n.H_=void 0}async function ux(n){n.j_.set("Online")}async function cx(n){n.U_.forEach((e,t)=>{kp(n,e)})}async function hx(n,e){Nw(n),Pp(n)?(n.j_.q_(e),Vp(n)):n.j_.set("Unknown")}async function fx(n,e,t){if(n.j_.set("Online"),e instanceof gw&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){fe(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await cf(n,i)}else if(e instanceof Hh?n.H_.We(e):e instanceof dw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Se.min()))try{const i=await Sw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l.U_.get(p);v&&l.U_.set(p,v.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach((g,p)=>{const v=l.U_.get(g);if(!v)return;l.U_.set(g,v.withResumeToken(mn.EMPTY_BYTE_STRING,v.snapshotVersion)),Dw(l,g);const T=new Ns(v.target,g,p,v.sequenceNumber);kp(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(ja,"Failed to raise snapshot:",i),await cf(n,i)}}async function cf(n,e,t){if(!tl(e))throw e;n.W_.add(1),await Wu(n),n.j_.set("Offline"),t||(t=()=>Sw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(ja,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Uf(n)})}function xw(n,e){return e().catch(t=>cf(n,t,e))}async function jf(n){const e=Ce(n),t=zs(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ep;for(;dx(e);)try{const a=await QN(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,gx(e,a)}catch(a){await cf(e,a)}Ow(e)&&Mw(e)}function dx(n){return qa(n)&&n.K_.length<10}function gx(n,e){n.K_.push(e);const t=zs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function Ow(n){return qa(n)&&!zs(n).u_()&&n.K_.length>0}function Mw(n){zs(n).start()}async function mx(n){zs(n).C_()}async function px(n){const e=zs(n);for(const t of n.K_)e.S_(t.mutations)}async function yx(n,e,t){const i=n.K_.shift(),a=Rp.from(i,e,t);await xw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await jf(n)}async function vx(n,e){e&&zs(n).b_&&await async function(i,a){if(function(c){return JD(c)&&c!==Z.ABORTED}(a.code)){const l=i.K_.shift();zs(i).h_(),await xw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await jf(i)}}(n,e),Ow(n)&&Mw(n)}async function GE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),fe(ja,"RemoteStore received new credentials");const i=qa(t);t.W_.add(3),await Wu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Uf(t)}async function _x(n,e){const t=Ce(n);e?(t.W_.delete(2),await Uf(t)):e||(t.W_.add(2),await Wu(t),t.j_.set("Unknown"))}function rl(n){return n.J_||(n.J_=function(t,i,a){const l=Ce(t);return l.M_(),new rx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:ux.bind(null,n),No:cx.bind(null,n),Lo:hx.bind(null,n),p_:fx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Pp(n)?Vp(n):n.j_.set("Unknown")):(await n.J_.stop(),Nw(n))})),n.J_}function zs(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ce(t);return l.M_(),new ix(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:mx.bind(null,n),Lo:vx.bind(null,n),D_:px.bind(null,n),v_:yx.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await jf(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(ja,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Lp(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),tl(n))return new he(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{static emptySet(e){return new zo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=yu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new zo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.Z_=new mt(Ee.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yo{constructor(e,t,i,a,l,c,d,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Yo(e,t,zo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Tx{constructor(){this.queries=$E(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ce(t),l=a.queries;a.queries=$E(),l.forEach((c,d)=>{for(const g of d.ta)g.onError(i)})})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function $E(){return new Ha(n=>ew(n),xf)}async function jp(n,e){const t=Ce(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new Ex,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Up(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&zp(t)}async function Bp(n,e){const t=Ce(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function bx(n,e){const t=Ce(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&zp(t)}function wx(n,e,t){const i=Ce(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function zp(n){n.ia.forEach(e=>{e.next()})}var Gm,QE;(QE=Gm||(Gm={}))._a="default",QE.Cache="cache";class Hp{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.key=e}}class Vw{constructor(e){this.key=e}}class Ax{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=tw(e),this.wa=new zo(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new KE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const b=a.get(v),w=Of(this.query,T)?T:null,k=!!b&&this.mutatedKeys.has(b.key),z=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;b&&w?b.data.isEqual(w.data)?k!==z&&(i.track({type:3,doc:w}),O=!0):this.va(b,w)||(i.track({type:2,doc:w}),O=!0,(g&&this.ya(w,g)>0||p&&this.ya(w,p)<0)&&(d=!0)):!b&&w?(i.track({type:0,doc:w}),O=!0):b&&!w&&(i.track({type:1,doc:b}),O=!0,(g||p)&&(d=!0)),O&&(w?(c=c.add(w),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(w,k){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return z(w)-z(k)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,p=g!==this.ga;return this.ga=g,c.length!==0||p?{snapshot:new Yo(this.query,e.wa,l,c,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new KE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Vw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new kw(i))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Yo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qp="SyncEngine";class Sx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Rx{constructor(e){this.key=e,this.Ba=!1}}class Cx{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ha(d=>ew(d),xf),this.qa=new Map,this.Qa=new Set,this.$a=new mt(Ee.comparator),this.Ka=new Map,this.Ua=new Dp,this.Wa={},this.Ga=new Map,this.za=Qo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ix(n,e,t=!0){const i=zw(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Pw(i,e,t,!0),a}async function Dx(n,e){const t=zw(n);await Pw(t,e,!0,!1)}async function Pw(n,e,t,i){const a=await YN(n.localStore,Zr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Nx(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Iw(n.remoteStore,a),d}async function Nx(n,e,t,i,a){n.Ha=(T,b,w)=>async function(z,O,j,K){let $=O.view.Sa(j);$.ls&&($=await BE(z.localStore,O.query,!1).then(({documents:V})=>O.view.Sa(V,$)));const ie=K&&K.targetChanges.get(O.targetId),ee=K&&K.targetMismatches.get(O.targetId)!=null,ae=O.view.applyChanges($,z.isPrimaryClient,ie,ee);return XE(z,O.targetId,ae.Ma),ae.snapshot}(n,T,b,w);const l=await BE(n.localStore,e,!0),c=new Ax(e,l.gs),d=c.Sa(l.documents),g=Xu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,g);XE(n,t,p.Ma);const v=new Sx(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function xx(n,e,t){const i=Ce(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!xf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await qm(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Mp(i.remoteStore,a.targetId),Km(i,a.targetId)}).catch(el)):(Km(i,a.targetId),await qm(i.localStore,a.targetId,!0))}async function Ox(n,e){const t=Ce(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Mp(t.remoteStore,i.targetId))}async function Mx(n,e,t){const i=Bx(n);try{const a=await function(c,d){const g=Ce(c),p=ut.now(),v=d.reduce((w,k)=>w.add(k.key),Pe());let T,b;return g.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=qi(),z=Pe();return g.ds.getEntries(w,v).next(O=>{k=O,k.forEach((j,K)=>{K.isValidDocument()||(z=z.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(w,k)).next(O=>{T=O;const j=[];for(const K of d){const $=QD(K,T.get(K.key).overlayedDocument);$!=null&&j.push(new Ys(K.key,$,Kb($.value.mapValue),jn.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,j,d)}).next(O=>{b=O;const j=O.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(w,O.batchId,j)})}).then(()=>({batchId:b.batchId,changes:rw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,g){let p=c.Wa[c.currentUser.toKey()];p||(p=new mt(Ue)),p=p.insert(d,g),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,t),await Zu(i,a.changes),await jf(i.remoteStore)}catch(a){const l=Up(a,"Failed to persist write");t.reject(l)}}async function Lw(n,e){const t=Ce(n);try{const i=await KN(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Xe(c.Ba):a.removedDocuments.size>0&&(Xe(c.Ba),c.Ba=!1))}),await Zu(t,i,e)}catch(i){await el(i)}}function YE(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const g=Ce(c);g.onlineState=d;let p=!1;g.queries.forEach((v,T)=>{for(const b of T.ta)b.sa(d)&&(p=!0)}),p&&zp(g)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function kx(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new mt(Ee.comparator);c=c.insert(l,Sn.newNoDocument(l,Se.min()));const d=Pe().add(l),g=new Pf(Se.min(),new Map,new mt(Ue),c,d);await Lw(i,g),i.$a=i.$a.remove(l),i.Ka.delete(e),Fp(i)}else await qm(i.localStore,e,!1).then(()=>Km(i,e,t)).catch(el)}async function Vx(n,e){const t=Ce(n),i=e.batch.batchId;try{const a=await GN(t.localStore,e);jw(t,i,null),Uw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Zu(t,a)}catch(a){await el(a)}}async function Px(n,e,t){const i=Ce(n);try{const a=await function(c,d){const g=Ce(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,d).next(T=>(Xe(T!==null),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(i.localStore,e);jw(i,e,t),Uw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Zu(i,a)}catch(a){await el(a)}}function Uw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function jw(n,e,t){const i=Ce(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Km(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||Bw(n,i)})}function Bw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Mp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Fp(n))}function XE(n,e,t){for(const i of t)i instanceof kw?(n.Ua.addReference(i.key,e),Lx(n,i)):i instanceof Vw?(fe(qp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||Bw(n,i.key)):we()}function Lx(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(qp,"New document in limbo: "+t),n.Qa.add(i),Fp(n))}function Fp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(lt.fromString(e)),i=n.za.next();n.Ka.set(i,new Rx(t)),n.$a=n.$a.insert(t,i),Iw(n.remoteStore,new Ns(Zr(Nf(t.path)),i,"TargetPurposeLimboResolution",Cf.ae))}}async function Zu(n,e,t){const i=Ce(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,g)=>{c.push(i.Ha(g,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){a.push(p);const T=xp.Yi(g.targetId,p);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(g,p){const v=Ce(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(p,b=>te.forEach(b.Hi,w=>v.persistence.referenceDelegate.addReference(T,b.targetId,w)).next(()=>te.forEach(b.Ji,w=>v.persistence.referenceDelegate.removeReference(T,b.targetId,w)))))}catch(T){if(!tl(T))throw T;fe(Op,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const w=v.Ts.get(b),k=w.snapshotVersion,z=w.withLastLimboFreeSnapshotVersion(k);v.Ts=v.Ts.insert(b,z)}}}(i.localStore,l))}async function Ux(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){fe(qp,"User change. New user:",e.toKey());const i=await Aw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(g=>{g.reject(new he(Z.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Zu(t,i.Rs)}}function jx(n,e){const t=Ce(n),i=t.Ka.get(e);if(i&&i.Ba)return Pe().add(i.key);{let a=Pe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function zw(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kx.bind(null,e),e.La.p_=bx.bind(null,e.eventManager),e.La.Ja=wx.bind(null,e.eventManager),e}function Bx(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Px.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return FN(this.persistence,new zN,e.initialUser,this.serializer)}Xa(e){return new ww(Np.ri,this.serializer)}Za(e){return new WN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class zx extends hf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof uf);const i=this.persistence.referenceDelegate.garbageCollector;return new RN(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new ww(i=>uf.ri(i,t),this.serializer)}}class $m{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ux.bind(null,this.syncEngine),await _x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tx}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),i=function(l){return new nx(l)}(e.databaseInfo);return function(l,c,d,g){return new ax(l,c,d,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new lx(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>YE(this.syncEngine,t,0),function(){return qE.D()?new qE:new ZN}())}createSyncEngine(e,t){return function(a,l,c,d,g,p,v){const T=new Cx(a,l,c,d,g,p);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);fe(ja,"RemoteStore shutting down."),l.W_.add(5),await Wu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class Hx{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=An.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Up(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function dm(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Aw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function WE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qx(n);fe(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>GE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>GE(e.remoteStore,a)),n._onlineComponents=e}async function qx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Hs,"Using user provided OfflineComponentProvider");try{await dm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;qo("Error using user provided cache. Falling back to memory cache: "+t),await dm(n,new hf)}}else fe(Hs,"Using default OfflineComponentProvider"),await dm(n,new zx(void 0));return n._offlineComponents}async function Hw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Hs,"Using user provided OnlineComponentProvider"),await WE(n,n._uninitializedComponentsProvider._online)):(fe(Hs,"Using default OnlineComponentProvider"),await WE(n,new $m))),n._onlineComponents}function Fx(n){return Hw(n).then(e=>e.syncEngine)}async function ff(n){const e=await Hw(n),t=e.eventManager;return t.onListen=Ix.bind(null,e.syncEngine),t.onUnlisten=xx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ox.bind(null,e.syncEngine),t}function Gx(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new Gp({next:b=>{v.su(),c.enqueueAndForget(()=>Bp(l,T));const w=b.docs.has(d);!w&&b.fromCache?p.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&g&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Hp(Nf(d.path),v,{includeMetadataChanges:!0,Ta:!0});return jp(l,T)}(await ff(n),n.asyncQueue,e,t,i)),i.promise}function Kx(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,g,p){const v=new Gp({next:b=>{v.su(),c.enqueueAndForget(()=>Bp(l,T)),b.fromCache&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new Hp(d,v,{includeMetadataChanges:!0,Ta:!0});return jp(l,T)}(await ff(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e,t){if(!t)throw new he(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $x(n,e,t,i){if(e===!0&&i===!0)throw new he(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JE(n){if(!Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eT(n){if(Ee.isDocumentKey(n))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(n);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firestore.googleapis.com",tT=!0;class nT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gw,this.ssl=tT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AN)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$x("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new eD;switch(i.type){case"firstParty":return new iD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ZE.get(t);i&&(fe("ComponentProvider","Removing Datastore"),ZE.delete(t),i.terminate())}(this),Promise.resolve()}}function Qx(n,e,t,i={}){var a;const l=(n=Bn(n,zf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Gw&&l.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Vs(g,c)&&(n._setSettings(g),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=An.MOCK_USER;else{p=qT(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new An(T)}n._authCredentials=new tD(new Vb(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class ks extends Xs{constructor(e,t,i){super(e,t,Nf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ee(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Ju(n,e,...t){if(n=ct(n),Fw("collection","path",e),n instanceof zf){const i=lt.fromString(e,...t);return eT(i),new ks(n,null,i)}{if(!(n instanceof Rn||n instanceof ks))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return eT(i),new ks(n.firestore,null,i)}}function pn(n,e,...t){if(n=ct(n),arguments.length===1&&(e=Pb.newId()),Fw("doc","path",e),n instanceof zf){const i=lt.fromString(e,...t);return JE(i),new Rn(n,null,new Ee(i))}{if(!(n instanceof Rn||n instanceof ks))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(lt.fromString(e,...t));return JE(i),new Rn(n.firestore,n instanceof ks?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Rw(this,"async_queue_retry"),this.bu=()=>{const i=fm();i&&fe(rT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=fm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=fm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ui;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;fe(rT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Hi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Lp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function sT(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Fi extends zf{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new iT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}}function Yx(n,e){const t=typeof n=="object"?n:op(),i=typeof n=="string"?n:nf,a=wf(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=BT("firestore");l&&Qx(a,...l)}return a}function ec(n){if(n._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xx(n),n._firestoreClient}function Xx(n){var e,t,i;const a=n._freezeSettings(),l=function(d,g,p,v){return new vD(d,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,qw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Hx(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(mn.fromBase64String(e))}catch(t){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xo(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^__.*__$/;class Zx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}class Kw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $w(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class qf{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new qf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return df(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($w(this.Lu)&&Wx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Lf(e)}ju(e,t,i,a=!1){return new qf({Lu:e,methodName:t,zu:i,path:gn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new Jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Qw(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Yp("Data must be an object, but it was:",c,i);const d=Ww(i,c);let g,p;if(l.merge)g=new Zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const b=Qm(e,T,t);if(!c.contains(b))throw new he(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Jw(v,b)||v.push(b)}g=new Zn(v),p=c.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=c.fieldTransforms;return new Zx(new Un(d),g,p)}class Gf extends Hf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function eO(n,e,t){return new qf({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qp extends Hf{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=eO(this,e,!0),i=this.Hu.map(l=>il(l,t)),a=new $o(i);return new FD(e.path,a)}isEqual(e){return e instanceof Qp&&Vs(this.Hu,e.Hu)}}function Yw(n,e,t,i){const a=n.ju(1,e,t);Yp("Data must be an object, but it was:",a,i);const l=[],c=Un.empty();Qs(i,(g,p)=>{const v=Xp(e,g,t);p=ct(p);const T=a.Ku(v);if(p instanceof Gf)l.push(v);else{const b=il(p,T);b!=null&&(l.push(v),c.set(v,b))}});const d=new Zn(l);return new Kw(c,d,a.fieldTransforms)}function Xw(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[Qm(e,i,t)],g=[a];if(l.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Qm(e,l[b])),g.push(l[b+1]);const p=[],v=Un.empty();for(let b=d.length-1;b>=0;--b)if(!Jw(p,d[b])){const w=d[b];let k=g[b];k=ct(k);const z=c.Ku(w);if(k instanceof Gf)p.push(w);else{const O=il(k,z);O!=null&&(p.push(w),v.set(w,O))}}const T=new Zn(p);return new Kw(v,T,c.fieldTransforms)}function tO(n,e,t,i=!1){return il(t,n.ju(i?4:3,e))}function il(n,e){if(Zw(n=ct(n)))return Yp("Unsupported field value:",e,n),Ww(n,e);if(n instanceof Hf)return function(i,a){if(!$w(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let g=il(d,a.Uu(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return zD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ut.fromDate(i);return{timestampValue:lf(a.serializer,l)}}if(i instanceof ut){const l=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lf(a.serializer,l)}}if(i instanceof Kp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xo)return{bytesValue:mw(a.serializer,i._byteString)};if(i instanceof Rn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ip(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof $p)return function(c,d){return{mapValue:{fields:{[Fb]:{stringValue:Gb},[rf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Sp(d.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Bf(i)}`)}(n,e)}function Ww(n,e){const t={};return Ub(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(n,(i,a)=>{const l=il(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function Zw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Kp||n instanceof Xo||n instanceof Rn||n instanceof Hf||n instanceof $p)}function Yp(n,e,t){if(!Zw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Bf(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Qm(n,e,t){if((e=ct(e))instanceof tc)return e._internalPath;if(typeof e=="string")return Xp(n,e);throw df("Field path arguments must be of type string or ",n,!1,void 0,t)}const nO=new RegExp("[~\\*/\\[\\]]");function Xp(n,e,t){if(e.search(nO)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tc(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function df(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${a}`),g+=")"),new he(Z.INVALID_ARGUMENT,d+n+g)}function Jw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rO extends eA{data(){return super.data()}}function Kf(n,e){return typeof e=="string"?Xp(n,e):e instanceof tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class nA extends Wp{}function Zp(n,e,...t){let i=[];e instanceof Wp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(g=>g instanceof Jp).length,d=l.filter(g=>g instanceof $f).length;if(c>1||c>0&&d>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class $f extends nA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $f(e,t,i)}_apply(e){const t=this._parse(e);return iA(e._query,t),new Xs(e.firestore,e.converter,Lm(e._query,t))}_parse(e){const t=Ff(e.firestore);return function(l,c,d,g,p,v,T){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){oT(T,v);const k=[];for(const z of T)k.push(aT(g,l,z));b={arrayValue:{values:k}}}else b=aT(g,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||oT(T,v),b=tO(d,c,T,v==="in"||v==="not-in");return kt.create(p,v,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rA(n,e,t){const i=e,a=Kf("where",n);return $f._create(a,i,t)}class Jp extends Wp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const g of d)iA(c,g),c=Lm(c,g)}(e._query,t),new Xs(e.firestore,e.converter,Lm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends nA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ey(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(l,c)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new nl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function iO(n,e="asc"){const t=e,i=Kf("orderBy",n);return ey._create(i,t)}function aT(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jb(e)&&t.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(lt.fromString(t));if(!Ee.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return TE(n,new Ee(i))}if(t instanceof Rn)return TE(n,t._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(t)}.`)}function oT(n,e){if(!Array.isArray(n)||n.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iA(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sO{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[rf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new $p(l)}convertGeoPoint(e){return new Kp(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Df(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=Us(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=lt.fromString(e);Xe(Tw(i));const a=new Vu(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(t)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aA extends eA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qh extends aA{data(e={}){return super.data(e)}}class oA{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qh(this._firestore,this._userDataWriter,i.key,i,new _u(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const g=new qh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const g=new qh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:aO(d.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){n=Bn(n,Rn);const e=Bn(n.firestore,Fi);return Gx(ec(e),n._key).then(t=>uA(e,n,t))}class ty extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function oO(n){n=Bn(n,Xs);const e=Bn(n.firestore,Fi),t=ec(e),i=new ty(e);return tA(n._query),Kx(t,n._query).then(a=>new oA(e,i,n,a))}function Qf(n,e,t){n=Bn(n,Rn);const i=Bn(n.firestore,Fi),a=sA(n.converter,e,t);return Yf(i,[Qw(Ff(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,jn.none())])}function qs(n,e,t,...i){n=Bn(n,Rn);const a=Bn(n.firestore,Fi),l=Ff(a);let c;return c=typeof(e=ct(e))=="string"||e instanceof tc?Xw(l,"updateDoc",n._key,e,t,i):Yw(l,"updateDoc",n._key,e),Yf(a,[c.toMutation(n._key,jn.exists(!0))])}function lO(n){return Yf(Bn(n.firestore,Fi),[new Vf(n._key,jn.none())])}function lA(n,...e){var t,i,a;n=ct(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||sT(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(sT(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let g,p,v;if(n instanceof Rn)p=Bn(n.firestore,Fi),v=Nf(n._key.path),g={next:T=>{e[c]&&e[c](uA(p,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Bn(n,Xs);p=Bn(T.firestore,Fi),v=T._query;const b=new ty(p);g={next:w=>{e[c]&&e[c](new oA(p,b,T,w))},error:e[c+1],complete:e[c+2]},tA(n._query)}return function(b,w,k,z){const O=new Gp(z),j=new Hp(w,O,k);return b.asyncQueue.enqueueAndForget(async()=>jp(await ff(b),j)),()=>{O.su(),b.asyncQueue.enqueueAndForget(async()=>Bp(await ff(b),j))}}(ec(p),v,d,g)}function Yf(n,e){return function(i,a){const l=new Ui;return i.asyncQueue.enqueueAndForget(async()=>Mx(await Fx(i),a,l)),l.promise}(ec(n),e)}function uA(n,e,t){const i=t.docs.get(e._key),a=new ty(n);return new aA(n,a,e._key,i,new _u(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ff(e)}set(e,t,i){this._verifyNotCommitted();const a=gm(e,this._firestore),l=sA(a.converter,t,i),c=Qw(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,jn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=gm(e,this._firestore);let c;return c=typeof(t=ct(t))=="string"||t instanceof tc?Xw(this._dataReader,"WriteBatch.update",l._key,t,i,a):Yw(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gm(e,this._firestore);return this._mutations=this._mutations.concat(new Vf(t._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gm(n,e){if((n=ct(n)).firestore!==e)throw new he(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function cA(...n){return new Qp("arrayUnion",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){return ec(n=Bn(n,Fi)),new uO(n,e=>Yf(n,e))}(function(e,t=!0){(function(a){Jo=a})(za),Va(new Ps("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Fi(new nD(i.getProvider("auth-internal")),new sD(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(p.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Xr(cE,hE,e),Xr(cE,hE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebasestorage.googleapis.com",fA="storageBucket",hO=2*60*1e3,fO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends ni{constructor(e,t,i=0){super(mm(e),`Firebase Storage: ${t} (${mm(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function mm(n){return"storage/"+n}function ny(){const n="An unknown error occurred, please check the error payload for server response.";return new bt(Tt.UNKNOWN,n)}function dO(n){return new bt(Tt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function gO(n){return new bt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(Tt.UNAUTHENTICATED,n)}function pO(){return new bt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yO(n){return new bt(Tt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function vO(){return new bt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _O(){return new bt(Tt.CANCELED,"User canceled the upload/download.")}function EO(n){return new bt(Tt.INVALID_URL,"Invalid URL '"+n+"'.")}function TO(n){return new bt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function bO(){return new bt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fA+"' property when initializing the app?")}function wO(){return new bt(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AO(){return new bt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SO(n){return new bt(Tt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ym(n){return new bt(Tt.INVALID_ARGUMENT,n)}function dA(){return new bt(Tt.APP_DELETED,"The Firebase app was deleted.")}function RO(n){return new bt(Tt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ru(n,e){return new bt(Tt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function hu(n){throw new bt(Tt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Jn.makeFromUrl(e,t)}catch{return new Jn(e,"")}if(i.path==="")return i;throw TO(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),g={bucket:1,path:3};function p(ie){ie.path_=decodeURIComponent(ie.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${T}/${v}/b/${a}/o${b}`,"i"),k={bucket:1,path:3},z=t===hA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",j=new RegExp(`^https?://${z}/${a}/${O}`,"i"),$=[{regex:d,indices:g,postModify:l},{regex:w,indices:k,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let ie=0;ie<$.length;ie++){const ee=$[ie],ae=ee.regex.exec(e);if(ae){const V=ae[ee.indices.bucket];let I=ae[ee.indices.path];I||(I=""),i=new Jn(V,I),ee.postModify(i);break}}if(i==null)throw EO(e);return i}}class CO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function g(){return d===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function T(O){a=setTimeout(()=>{a=null,n(w,g())},O)}function b(){l&&clearTimeout(l)}function w(O,...j){if(p){b();return}if(O){b(),v.call(null,O,...j);return}if(g()||c){b(),v.call(null,O,...j);return}i<64&&(i*=2);let $;d===1?(d=2,$=0):$=(i+Math.random())*1e3,T($)}let k=!1;function z(O){k||(k=!0,b(),!p&&(a!==null?(O||(d=2),clearTimeout(a),T(0)):O||(d=1)))}return T(0),l=setTimeout(()=>{c=!0,z(!0)},t),z}function DO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n){return n!==void 0}function xO(n){return typeof n=="object"&&!Array.isArray(n)}function ry(n){return typeof n=="string"||n instanceof String}function lT(n){return iy()&&n instanceof Blob}function iy(){return typeof Blob<"u"}function uT(n,e,t,i){if(i<e)throw Ym(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ym(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function gA(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var ka;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ka||(ka={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t,i,a,l,c,d,g,p,v,T,b=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=T,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,k)=>{this.resolve_=w,this.reject_=k,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Dh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const g=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ka.NO_ERROR,g=l.getStatus();if(!d||OO(g,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ka.ABORT;i(!1,new Dh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;i(!0,new Dh(p,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const g=this.callback_(d,d.getResponse());NO(g)?l(g):l()}catch(g){c(g)}else if(d!==null){const g=ny();g.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,g)):c(g)}else if(a.canceled){const g=this.appDelete_?dA():_O();c(g)}else{const g=vO();c(g)}};this.canceled_?t(!1,new Dh(!1,null,!0)):this.backoffId_=IO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function kO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function VO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function LO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function UO(n,e,t,i,a,l,c=!0){const d=gA(n.urlParams),g=n.url+d,p=Object.assign({},n.headers);return PO(p,e),kO(p,t),VO(p,l),LO(p,i),new MO(g,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BO(...n){const e=jO();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(iy())return new Blob(n);throw new bt(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){if(typeof atob>"u")throw SO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pm{constructor(e,t){this.data=e,this.contentType=t||null}}function qO(n,e){switch(n){case Yr.RAW:return new pm(mA(e));case Yr.BASE64:case Yr.BASE64URL:return new pm(pA(n,e));case Yr.DATA_URL:return new pm(GO(e),KO(e))}throw ny()}function mA(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function FO(n){let e;try{e=decodeURIComponent(n)}catch{throw Ru(Yr.DATA_URL,"Malformed data URL.")}return mA(e)}function pA(n,e){switch(n){case Yr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ru(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Yr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ru(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=HO(e)}catch(a){throw a.message.includes("polyfill")?a:Ru(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class yA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ru(Yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=$O(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function GO(n){const e=new yA(n);return e.base64?pA(Yr.BASE64,e.rest):FO(e.rest)}function KO(n){return new yA(n).contentType}function $O(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){let i=0,a="";lT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(lT(this.data_)){const i=this.data_,a=zO(i,e,t);return a===null?null:new Ds(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ds(i,!0)}}static getBlob(...e){if(iy()){const t=e.map(i=>i instanceof Ds?i.data_:i);return new Ds(BO.apply(null,t))}else{const t=e.map(c=>ry(c)?qO(Yr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Ds(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){let e;try{e=JSON.parse(n)}catch{return null}return xO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function YO(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function _A(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n,e){return e}class Mn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||XO}}let Nh=null;function WO(n){return!ry(n)||n.length<2?n:_A(n)}function EA(){if(Nh)return Nh;const n=[];n.push(new Mn("bucket")),n.push(new Mn("generation")),n.push(new Mn("metageneration")),n.push(new Mn("name","fullPath",!0));function e(l,c){return WO(c)}const t=new Mn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Mn("size");return a.xform=i,n.push(a),n.push(new Mn("timeCreated")),n.push(new Mn("updated")),n.push(new Mn("md5Hash",null,!0)),n.push(new Mn("cacheControl",null,!0)),n.push(new Mn("contentDisposition",null,!0)),n.push(new Mn("contentEncoding",null,!0)),n.push(new Mn("contentLanguage",null,!0)),n.push(new Mn("contentType",null,!0)),n.push(new Mn("metadata","customMetadata",!0)),Nh=n,Nh}function ZO(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Jn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function JO(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return ZO(i,n),i}function TA(n,e,t){const i=vA(e);return i===null?null:JO(n,i,t)}function eM(n,e,t,i){const a=vA(e);if(a===null||!ry(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=n.bucket,T=n.fullPath,b="/b/"+c(v)+"/o/"+c(T),w=sy(b,t,i),k=gA({alt:"media",token:p});return w+k})[0]}function tM(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class bA{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){if(!n)throw ny()}function nM(n,e){function t(i,a){const l=TA(n,a,e);return wA(l!==null),l}return t}function rM(n,e){function t(i,a){const l=TA(n,a,e);return wA(l!==null),eM(l,a,n.host,n._protocol)}return t}function AA(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=pO():a=mO():t.getStatus()===402?a=gO(n.bucket):t.getStatus()===403?a=yO(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function iM(n){const e=AA(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=dO(n.path)),l.serverResponse=a.serverResponse,l}return t}function sM(n,e,t){const i=e.fullServerUrl(),a=sy(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new bA(a,l,rM(n,t),c);return d.errorHandler=iM(e),d}function aM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function oM(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=aM(null,e)),i}function lM(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let ie=0;ie<2;ie++)$=$+Math.random().toString().slice(2);return $}const g=d();c["Content-Type"]="multipart/related; boundary="+g;const p=oM(e,i,a),v=tM(p,t),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+g+`\r
Content-Type: `+p.contentType+`\r
\r
`,b=`\r
--`+g+"--",w=Ds.getBlob(T,i,b);if(w===null)throw wO();const k={name:p.fullPath},z=sy(l,n.host,n._protocol),O="POST",j=n.maxUploadRetryTime,K=new bA(z,O,nM(n,t),j);return K.urlParams=k,K.headers=c,K.body=w.uploadData(),K.errorHandler=AA(e),K}class uM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ka.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ka.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ka.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a){if(this.sent_)throw hu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cM extends uM{initXhr(){this.xhr_.responseType="text"}}function SA(){return new cM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this._service=e,t instanceof Jn?this._location=t:this._location=Jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ba(e,t)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _A(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const t=new Jn(this._location.bucket,e);return new Ba(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw RO(e)}}function hM(n,e,t){n._throwIfRoot("uploadBytes");const i=lM(n.storage,n._location,EA(),new Ds(e,!0),t);return n.storage.makeRequestWithTokens(i,SA).then(a=>({metadata:a,ref:n}))}function fM(n){n._throwIfRoot("getDownloadURL");const e=sM(n.storage,n._location,EA());return n.storage.makeRequestWithTokens(e,SA).then(t=>{if(t===null)throw AO();return t})}function dM(n,e){const t=YO(n._location.path,e),i=new Jn(n._location.bucket,t);return new Ba(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n){return/^[A-Za-z]+:\/\//.test(n)}function mM(n,e){return new Ba(n,e)}function RA(n,e){if(n instanceof ay){const t=n;if(t._bucket==null)throw bO();const i=new Ba(t,t._bucket);return e!=null?RA(i,e):i}else return e!==void 0?dM(n,e):n}function pM(n,e){if(e&&gM(e)){if(n instanceof ay)return mM(n,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}else return RA(n,e)}function cT(n,e){const t=e==null?void 0:e[fA];return t==null?null:Jn.makeFromBucketSpec(t,n)}function yM(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=i;a&&(n._overrideAuthToken=typeof a=="string"?a:qT(a,n.app.options.projectId))}class ay{constructor(e,t,i,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=hA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hO,this._maxUploadRetryTime=fO,this._requests=new Set,a!=null?this._bucket=Jn.makeFromBucketSpec(a,this._host):this._bucket=cT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=cT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ba(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new CO(dA());{const c=UO(e,this._appId,i,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const hT="@firebase/storage",fT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="storage";function vM(n,e,t){return n=ct(n),hM(n,e,t)}function _M(n){return n=ct(n),fM(n)}function EM(n,e){return n=ct(n),pM(n,e)}function TM(n=op(),e){n=ct(n);const i=wf(n,CA).getImmediate({identifier:e}),a=BT("storage");return a&&bM(i,...a),i}function bM(n,e,t,i={}){yM(n,e,t,i)}function wM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new ay(t,i,a,e,za)}function AM(){Va(new Ps(CA,wM,"PUBLIC").setMultipleInstances(!0)),Xr(hT,fT,""),Xr(hT,fT,"esm2017")}AM();const SM={apiKey:"AIzaSyDMZWwedrDHpCnY9ikNLnk0ciWyXjt0Z1o",authDomain:"jellio-4a5f0.firebaseapp.com",projectId:"jellio-4a5f0",storageBucket:"jellio-4a5f0.firebasestorage.app",messagingSenderId:"30048229201",appId:"1:30048229201:web:d2789f3d6bd29b9fd62570"},oy=KT(SM),It=Yx(oy),ju=X2(oy),RM=new Mi,CM=TM(oy),IA=R.createContext(void 0),IM=({children:n})=>{const[e,t]=R.useState(null),[i,a]=R.useState(!0),l=new Date,c=ut.fromDate(l);R.useEffect(()=>{const g=UI(ju,async p=>{if(p){const v=pn(It,"users",p.uid),T=await nc(v);if(T.exists()){const b=T.data();t({...p,userId:p.uid,username:b.username||"No username",email:b.email||"No email",profilePic:b.profilePic||"",createdAt:b.createdAt||c})}else t(null)}else t(null);a(!1)});return()=>g()},[]);const d=async()=>{try{await jI(ju),t(null)}catch(g){console.error("Logout failed",g)}};return D.jsx(IA.Provider,{value:{user:e,setUser:t,loading:i,logout:d},children:n})},ri=()=>{const n=R.useContext(IA);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},DM=(n,e)=>{if(!n)return()=>{};const t=Zp(Ju(It,"boards"),rA("userId","==",n));return lA(t,a=>{const l=a.docs.map(c=>({...c.data()}));e(l)},a=>{console.error("Error fetching boards:",a)})},DA=R.createContext({boards:[],boardsLoading:!0}),NM=({user:n,children:e})=>{const[t,i]=R.useState([]),[a,l]=R.useState(!0);return R.useEffect(()=>{if(!(n!=null&&n.userId))return;const c=DM(n.userId,d=>{i(d),l(!1)});return()=>c()},[n]),D.jsx(DA.Provider,{value:{boards:t,boardsLoading:a},children:e})},NA=()=>R.useContext(DA);var fu={},dT;function xM(){if(dT)return fu;dT=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=c,fu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const k=new l,z=b.length;if(z<2)return k;const O=(w==null?void 0:w.decode)||v;let j=0;do{const K=b.indexOf("=",j);if(K===-1)break;const $=b.indexOf(";",j),ie=$===-1?z:$;if(K>ie){j=b.lastIndexOf(";",K-1)+1;continue}const ee=d(b,j,K),ae=g(b,K,ee),V=b.slice(ee,ae);if(k[V]===void 0){let I=d(b,K+1,ie),C=g(b,ie,I);const N=O(b.slice(I,C));k[V]=N}j=ie+1}while(j<z);return k}function d(b,w,k){do{const z=b.charCodeAt(w);if(z!==32&&z!==9)return w}while(++w<k);return k}function g(b,w,k){for(;w>k;){const z=b.charCodeAt(--w);if(z!==32&&z!==9)return w+1}return k}function p(b,w,k){const z=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const O=z(w);if(!e.test(O))throw new TypeError(`argument val is invalid: ${w}`);let j=b+"="+O;if(!k)return j;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);j+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);j+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);j+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);j+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(j+="; HttpOnly"),k.secure&&(j+="; Secure"),k.partitioned&&(j+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return j}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return fu}xM();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gT="popstate";function OM(n={}){function e(a,l){let{pathname:c="/",search:d="",hash:g=""}=Fa(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Xm("",{pathname:c,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let g=a.location.href,p=g.indexOf("#");d=p===-1?g:g.slice(0,p)}return d+"#"+(typeof l=="string"?l:Bu(l))}function i(a,l){Cr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return kM(e,t,i,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MM(){return Math.random().toString(36).substring(2,10)}function mT(n,e){return{usr:n.state,key:n.key,idx:e}}function Xm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fa(e):e,state:t,key:e&&e.key||i||MM()}}function Bu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kM(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let O=v(),j=O==null?null:O-p;p=O,g&&g({action:d,location:z.location,delta:j})}function b(O,j){d="PUSH";let K=Xm(z.location,O,j);t&&t(K,O),p=v()+1;let $=mT(K,p),ie=z.createHref(K);try{c.pushState($,"",ie)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(ie)}l&&g&&g({action:d,location:z.location,delta:1})}function w(O,j){d="REPLACE";let K=Xm(z.location,O,j);t&&t(K,O),p=v();let $=mT(K,p),ie=z.createHref(K);c.replaceState($,"",ie),l&&g&&g({action:d,location:z.location,delta:0})}function k(O){let j=a.location.origin!=="null"?a.location.origin:a.location.href,K=typeof O=="string"?O:Bu(O);return K=K.replace(/ $/,"%20"),gt(j,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,j)}let z={get action(){return d},get location(){return n(a,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(gT,T),g=O,()=>{a.removeEventListener(gT,T),g=null}},createHref(O){return e(a,O)},createURL:k,encodeLocation(O){let j=k(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(O){return c.go(O)}};return z}function xA(n,e,t="/"){return VM(n,e,t,!1)}function VM(n,e,t,i){let a=typeof e=="string"?Fa(e):e,l=Fs(a.pathname||"/",t);if(l==null)return null;let c=OA(n);PM(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=$M(l);d=GM(c[g],p,i)}return d}function OA(n,e=[],t=[],i=""){let a=(l,c,d)=>{let g={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};g.relativePath.startsWith("/")&&(gt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=ji([i,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),OA(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:qM(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let g of MA(l.path))a(l,c,g)}),e}function MA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=MA(i.join("/")),d=[];return d.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&d.push(...c),d.map(g=>n.startsWith("/")&&g===""?"/":g)}function PM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FM(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var LM=/^:[\w-]+$/,UM=3,jM=2,BM=1,zM=10,HM=-2,pT=n=>n==="*";function qM(n,e){let t=n.split("/"),i=t.length;return t.some(pT)&&(i+=HM),e&&(i+=jM),t.filter(a=>!pT(a)).reduce((a,l)=>a+(LM.test(l)?UM:l===""?BM:zM),i)}function FM(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function GM(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let g=i[d],p=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=gf({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!T&&p&&t&&!i[i.length-1].route.index&&(T=gf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ji([l,T.pathname]),pathnameBase:WM(ji([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=ji([l,T.pathnameBase]))}return c}function gf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KM(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:T},b)=>{if(v==="*"){let k=d[b]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const w=d[b];return T&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function KM(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(i.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function $M(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function QM(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Fa(n):n;return{pathname:t?t.startsWith("/")?t:YM(t,e):e,search:ZM(i),hash:JM(a)}}function YM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ym(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kA(n){let e=XM(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function VA(n,e,t,i=!1){let a;typeof n=="string"?a=Fa(n):(a={...n},gt(!a.pathname||!a.pathname.includes("?"),ym("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),ym("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),ym("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let g=QM(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var ji=n=>n.join("/").replace(/\/\/+/g,"/"),WM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function e4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var PA=["POST","PUT","PATCH","DELETE"];new Set(PA);var t4=["GET",...PA];new Set(t4);var sl=R.createContext(null);sl.displayName="DataRouter";var Xf=R.createContext(null);Xf.displayName="DataRouterState";var LA=R.createContext({isTransitioning:!1});LA.displayName="ViewTransition";var n4=R.createContext(new Map);n4.displayName="Fetchers";var r4=R.createContext(null);r4.displayName="Await";var ii=R.createContext(null);ii.displayName="Navigation";var rc=R.createContext(null);rc.displayName="Location";var si=R.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var ly=R.createContext(null);ly.displayName="RouteError";function i4(n,{relative:e}={}){gt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(ii),{hash:a,pathname:l,search:c}=sc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ji([t,l])),i.createHref({pathname:d,search:c,hash:a})}function ic(){return R.useContext(rc)!=null}function Ws(){return gt(ic(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(rc).location}var UA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jA(n){R.useContext(ii).static||R.useLayoutEffect(n)}function Zs(){let{isDataRoute:n}=R.useContext(si);return n?y4():s4()}function s4(){gt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(sl),{basename:e,navigator:t}=R.useContext(ii),{matches:i}=R.useContext(si),{pathname:a}=Ws(),l=JSON.stringify(kA(i)),c=R.useRef(!1);return jA(()=>{c.current=!0}),R.useCallback((g,p={})=>{if(Cr(c.current,UA),!c.current)return;if(typeof g=="number"){t.go(g);return}let v=VA(g,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ji([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,a,n])}R.createContext(null);function BA(){let{matches:n}=R.useContext(si),e=n[n.length-1];return e?e.params:{}}function sc(n,{relative:e}={}){let{matches:t}=R.useContext(si),{pathname:i}=Ws(),a=JSON.stringify(kA(t));return R.useMemo(()=>VA(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function a4(n,e){return zA(n,e)}function zA(n,e,t,i){var K;gt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=R.useContext(ii),{matches:c}=R.useContext(si),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";HA(p,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Ws(),w;if(e){let $=typeof e=="string"?Fa(e):e;gt(v==="/"||((K=$.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),w=$}else w=b;let k=w.pathname||"/",z=k;if(v!=="/"){let $=v.replace(/^\//,"").split("/");z="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:xA(n,{pathname:z});Cr(T||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=h4(O&&O.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:ji([v,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:ji([v,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&j?R.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function o4(){let n=p4(),e=e4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:a},t):null,c)}var l4=R.createElement(o4,null),u4=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(si.Provider,{value:this.props.routeContext},R.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function c4({routeContext:n,match:e,children:t}){let i=R.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(si.Provider,{value:n},t)}function h4(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let g=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=g),p.route.id){let{loaderData:v,errors:T}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((g,p,v)=>{let T,b=!1,w=null,k=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||l4,c&&(d<0&&v===0?(HA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):d===v&&(b=!0,k=p.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,v+1)),O=()=>{let j;return T?j=w:b?j=k:p.route.Component?j=R.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=g,R.createElement(c4,{match:p,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:j})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?R.createElement(u4,{location:t.location,revalidation:t.revalidation,component:w,error:T,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f4(n){let e=R.useContext(sl);return gt(e,uy(n)),e}function d4(n){let e=R.useContext(Xf);return gt(e,uy(n)),e}function g4(n){let e=R.useContext(si);return gt(e,uy(n)),e}function cy(n){let e=g4(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m4(){return cy("useRouteId")}function p4(){var i;let n=R.useContext(ly),e=d4("useRouteError"),t=cy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function y4(){let{router:n}=f4("useNavigate"),e=cy("useNavigate"),t=R.useRef(!1);return jA(()=>{t.current=!0}),R.useCallback(async(a,l={})=>{Cr(t.current,UA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var yT={};function HA(n,e,t){!e&&!yT[n]&&(yT[n]=!0,Cr(!1,t))}R.memo(v4);function v4({routes:n,future:e,state:t}){return zA(n,void 0,t,e)}function Na(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _4({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){gt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Fa(t));let{pathname:g="/",search:p="",hash:v="",state:T=null,key:b="default"}=t,w=R.useMemo(()=>{let k=Fs(g,c);return k==null?null:{location:{pathname:k,search:p,hash:v,state:T,key:b},navigationType:i}},[c,g,p,v,T,b,i]);return Cr(w!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(ii.Provider,{value:d},R.createElement(rc.Provider,{children:e,value:w}))}function E4({children:n,location:e}){return a4(Wm(n),e)}function Wm(n,e=[]){let t=[];return R.Children.forEach(n,(i,a)=>{if(!R.isValidElement(i))return;let l=[...e,a];if(i.type===R.Fragment){t.push.apply(t,Wm(i.props.children,l));return}gt(i.type===Na,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Wm(i.props.children,l)),t.push(c)}),t}var Fh="get",Gh="application/x-www-form-urlencoded";function Wf(n){return n!=null&&typeof n.tagName=="string"}function T4(n){return Wf(n)&&n.tagName.toLowerCase()==="button"}function b4(n){return Wf(n)&&n.tagName.toLowerCase()==="form"}function w4(n){return Wf(n)&&n.tagName.toLowerCase()==="input"}function A4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S4(n,e){return n.button===0&&(!e||e==="_self")&&!A4(n)}var xh=null;function R4(){if(xh===null)try{new FormData(document.createElement("form"),0),xh=!1}catch{xh=!0}return xh}var C4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(n){return n!=null&&!C4.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gh}"`),null):n}function I4(n,e){let t,i,a,l,c;if(b4(n)){let d=n.getAttribute("action");i=d?Fs(d,e):null,t=n.getAttribute("method")||Fh,a=vm(n.getAttribute("enctype"))||Gh,l=new FormData(n)}else if(T4(n)||w4(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||d.getAttribute("action");if(i=g?Fs(g,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Fh,a=vm(n.getAttribute("formenctype"))||vm(d.getAttribute("enctype"))||Gh,l=new FormData(d,n),!R4()){let{name:p,type:v,value:T}=n;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,T)}}else{if(Wf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Fh,i=null,a=Gh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function hy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function D4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function x4(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await D4(l,t);return c.links?c.links():[]}return[]}));return V4(i.flat(1).filter(N4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vT(n,e,t,i,a,l){let c=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,d=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>c(g,p)||d(g,p)):l==="data"?e.filter((g,p)=>{var T;let v=i.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function O4(n,e){return M4(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function M4(n){return[...new Set(n)]}function k4(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function V4(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(k4(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function P4(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function L4(){let n=R.useContext(sl);return hy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function U4(){let n=R.useContext(Xf);return hy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fy=R.createContext(void 0);fy.displayName="FrameworkContext";function qA(){let n=R.useContext(fy);return hy(n,"You must render this element inside a <HydratedRouter> element"),n}function j4(n,e){let t=R.useContext(fy),[i,a]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,b=R.useRef(null);R.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=j=>{j.forEach(K=>{c(K.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[n]),R.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let w=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:du(d,w),onBlur:du(g,k),onMouseEnter:du(p,w),onMouseLeave:du(v,k),onTouchStart:du(T,w)}]:[!1,b,{}]}function du(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function B4({page:n,...e}){let{router:t}=L4(),i=R.useMemo(()=>xA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(H4,{page:n,matches:i,...e}):null}function z4(n){let{manifest:e,routeModules:t}=qA(),[i,a]=R.useState([]);return R.useEffect(()=>{let l=!1;return x4(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function H4({page:n,matches:e,...t}){let i=Ws(),{manifest:a,routeModules:l}=qA(),{loaderData:c,matches:d}=U4(),g=R.useMemo(()=>vT(n,e,d,a,i,"data"),[n,e,d,a,i]),p=R.useMemo(()=>vT(n,e,d,a,i,"assets"),[n,e,d,a,i]),v=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,k=!1;if(e.forEach(O=>{var K;let j=a.routes[O.route.id];!j||!j.hasLoader||(!g.some($=>$.route.id===O.route.id)&&O.route.id in c&&((K=l[O.route.id])!=null&&K.shouldRevalidate)||j.hasClientLoader?k=!0:w.add(O.route.id))}),w.size===0)return[];let z=P4(n);return k&&w.size>0&&z.searchParams.set("_routes",e.filter(O=>w.has(O.route.id)).map(O=>O.route.id).join(",")),[z.pathname+z.search]},[c,i,a,g,e,n,l]),T=R.useMemo(()=>O4(p,a),[p,a]),b=z4(p);return R.createElement(R.Fragment,null,v.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),T.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:k})=>R.createElement("link",{key:w,...k})))}function q4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FA&&(window.__reactRouterVersion="7.1.5")}catch{}function F4({basename:n,children:e,window:t}){let i=R.useRef();i.current==null&&(i.current=OM({window:t,v5Compat:!0}));let a=i.current,[l,c]=R.useState({action:a.action,location:a.location}),d=R.useCallback(g=>{R.startTransition(()=>c(g))},[c]);return R.useLayoutEffect(()=>a.listen(d),[a,d]),R.createElement(_4,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:g,to:p,preventScrollReset:v,viewTransition:T,...b},w){let{basename:k}=R.useContext(ii),z=typeof p=="string"&&GA.test(p),O,j=!1;if(typeof p=="string"&&z&&(O=p,FA))try{let C=new URL(window.location.href),N=p.startsWith("//")?new URL(C.protocol+p):new URL(p),P=Fs(N.pathname,k);N.origin===C.origin&&P!=null?p=P+N.search+N.hash:j=!0}catch{Cr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=i4(p,{relative:a}),[$,ie,ee]=j4(i,b),ae=Q4(p,{replace:c,state:d,target:g,preventScrollReset:v,relative:a,viewTransition:T});function V(C){e&&e(C),C.defaultPrevented||ae(C)}let I=R.createElement("a",{...b,...ee,href:O||K,onClick:j||l?e:V,ref:q4(w,ie),target:g,"data-discover":!z&&t==="render"?"true":void 0});return $&&!z?R.createElement(R.Fragment,null,I,R.createElement(B4,{page:K})):I});Ma.displayName="Link";var G4=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:g,...p},v){let T=sc(c,{relative:p.relative}),b=Ws(),w=R.useContext(Xf),{navigator:k,basename:z}=R.useContext(ii),O=w!=null&&J4(T)&&d===!0,j=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,K=b.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(K=K.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&z&&($=Fs($,z)||$);const ie=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=K===j||!a&&K.startsWith(j)&&K.charAt(ie)==="/",ae=$!=null&&($===j||!a&&$.startsWith(j)&&$.charAt(j.length)==="/"),V={isActive:ee,isPending:ae,isTransitioning:O},I=ee?e:void 0,C;typeof i=="function"?C=i(V):C=[i,ee?"active":null,ae?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(V):l;return R.createElement(Ma,{...p,"aria-current":I,className:C,ref:v,style:N,to:c,viewTransition:d},typeof g=="function"?g(V):g)});G4.displayName="NavLink";var K4=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Fh,action:d,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,...b},w)=>{let k=W4(),z=Z4(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&GA.test(d),K=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ie=$.nativeEvent.submitter,ee=(ie==null?void 0:ie.getAttribute("formmethod"))||c;k(ie||$.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return R.createElement("form",{ref:w,method:O,action:z,onSubmit:i?g:K,...b,"data-discover":!j&&n==="render"?"true":void 0})});K4.displayName="Form";function $4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(n){let e=R.useContext(sl);return gt(e,$4(n)),e}function Q4(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Zs(),g=Ws(),p=sc(n,{relative:l});return R.useCallback(v=>{if(S4(v,e)){v.preventDefault();let T=t!==void 0?t:Bu(g)===Bu(p);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[g,d,p,t,i,e,n,a,l,c])}var Y4=0,X4=()=>`__${String(++Y4)}__`;function W4(){let{router:n}=KA("useSubmit"),{basename:e}=R.useContext(ii),t=m4();return R.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:g,body:p}=I4(i,e);if(a.navigate===!1){let v=a.fetcherKey||X4();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Z4(n,{relative:e}={}){let{basename:t}=R.useContext(ii),i=R.useContext(si);gt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...sc(n||".",{relative:e})},c=Ws();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),g=d.getAll("index");if(g.some(v=>v==="")){d.delete("index"),g.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ji([t,l.pathname])),Bu(l)}function J4(n,e={}){let t=R.useContext(LA);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KA("useViewTransitionState"),a=sc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Fs(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return gf(a.pathname,c)!=null||gf(a.pathname,l)!=null}new TextEncoder;var Eu=VT();const Kh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAA61JREFUeF7tmT1uFEEQhbf3AEi2yddC4gBICDl25CMgMjgYZMARiBw7cwiSJWTn/jkBM0iw7NaIrpnX3dVbvTvPoV1T1f2+etU947Dgj6sCwbU6iy8IwLkJCIAAnBVwLk8HEICzAs7l6QACcFbAuTwdQADOCjiXpwMIwFkB5/J0AAE4K+Bcfj8dcPfQR3U7Oo7L+fQY//3qxH3/7gvIakACyJLN7iECsNNyNJMUWo4XbaRoI0gWaWwctT2CCGBHna6VIQAHAEL08KjcXsSy+mPl5iOXjowmGf8s7Gwy7KwQjJIAYKnqBBJAHV3Hsobrm/iLFbAUaARpeZAXt8ova02MIAIAOq1mCAHUVBfITQCASDVDCKCmukBuAgBEsg4Jl1fbm8/RyWT6/tXLaEy4von+Xr0dreK1tDyLp4dN/v78zPzSYp5wUsl1AAH8FYIA/jWE4qRZOKC/u90YJ6xOtyYSo0kdQZdX0XjNiamjjADWShIAOtzBOHkG0AGgaJZhg0NYJJYw+u+voyWXF/fxpQC3Kflg9yV+BGr5D/cWRACWvY3logMauoaG259Rar9+vJkcQf352fYGJW9E0lVKTPft+WR+GXCwI4gAsKlhGiVHEAGYSoslQwCoL1OnL6J/kuNIBgRlNGEr3UbNbgQRQGqLJMTTAc63oAGrT183n6aXfZeAcRjahWX02cH3pcTsNcbOYDwmrqdOOAHU0RXOSgCwVHaBRqLLBWkjqGjR799W/Z9J1eSjGyeAP/IQwJQ9DtUBy4+fNzef7sO7yUZA4rUY5FnJITV+iuHY3yc3XpJ87NnUTSLxBJBACxE0tSsJIAEAIq4UdHDbUUYWARBAsgJuZwAd0NC3oJLRYXWWpOZJbnXlgb1xgHZVTRWuBLaV6M19jCsRhQAy2wIRziom9bxBXgwzt/3fY24jyEpcJA8BRNoFEc4qhgAyASDCITEISCSP1dhp4hCuIUrJYU4AE+2FACOATI+WCFcCRlsukjNzq+3cghDLI0JYxSDrsRK9iTMA2bCVuEgeZD2zA5AqCiJ0ybgjgLUCJd+FCCDznaCkuxEnIfkPygHIhluLIQBn9xAAAdj1wC7HC3IGpMZYKcHP0ZmuIoC1AoiTUrs7NWcJDDcH1BAFEc4qpkT0vfkU0TIkAsic3XRAZuuUfEJoTfTmRhDChAAQlSrGEEBFceecuolrKAHMWQHnvdMBBOCsgHN5OoAAnBVwLk8HEICzAs7l6QACcFbAuTwd4AzgN/CQ1Y5WnAF8AAAAAElFTkSuQmCC";var $A={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_T=Ct.createContext&&Ct.createContext($A),ek=["attr","size","title"];function tk(n,e){if(n==null)return{};var t=nk(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function nk(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function mf(){return mf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mf.apply(this,arguments)}function ET(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function pf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(t),!0).forEach(function(i){rk(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ET(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rk(n,e,t){return e=ik(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ik(n){var e=sk(n,"string");return typeof e=="symbol"?e:e+""}function sk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function QA(n){return n&&n.map((e,t)=>Ct.createElement(e.tag,pf({key:t},e.attr),QA(e.child)))}function ai(n){return e=>Ct.createElement(ak,mf({attr:pf({},n.attr)},e),QA(n.child))}function ak(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=tk(n,ek),d=a||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Ct.createElement("svg",mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:g,style:pf(pf({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ct.createElement("title",null,l),n.children)};return _T!==void 0?Ct.createElement(_T.Consumer,null,t=>e(t)):e($A)}function ok(n){return ai({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(n)}const dy="/Jellio/assets/jellyfishImage-B3gFi67c.png",lk=({closeOverlay:n})=>{const{user:e,logout:t,setUser:i}=ri(),a=Zs(),l=R.useRef(null);R.useEffect(()=>{const g=p=>{l.current&&!l.current.contains(p.target)&&n()};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}});const c=()=>{n()},d=async()=>{try{await t(),i(null),a("/login")}catch(g){console.error("Logout failed",g)}};return D.jsx("div",{className:"accountOverlay",onClick:c,ref:l,children:D.jsxs("div",{className:"accountContent",children:[D.jsx("p",{children:"Account"}),D.jsxs("div",{className:"placeInRightPlace",children:[D.jsx("img",{src:(e==null?void 0:e.profilePic)??dy,className:"accountMenuPic"}),D.jsxs("div",{children:[D.jsx("p",{children:e==null?void 0:e.username}),D.jsx("p",{children:e==null?void 0:e.email})]})]}),D.jsx("hr",{}),D.jsx("div",{className:"logOut",onClick:d,children:D.jsx("p",{children:"Log out"})})]})})},Gt={purple:{default:"linear-gradient(140deg, rgb(162, 0, 250),rgb(255, 0, 170))",hover:"linear-gradient(140deg, rgb(149, 0, 230),rgb(213, 0, 142))",menu:"linear-gradient(140deg, rgb(149, 0, 230),rgb(192, 0, 128))",header:"linear-gradient(140deg, rgb(152, 0, 186),rgb(98, 0, 136))",sidebar:"linear-gradient(140deg, rgb(138, 0, 169),rgb(80, 0, 112))"},sunrise:{default:"linear-gradient(140deg, rgb(255, 0, 157), rgb(250, 242, 0))",hover:"linear-gradient(140deg, rgb(226, 0, 139), rgb(208, 201, 0))",menu:"linear-gradient(140deg, rgb(226, 0, 139), rgb(183, 164, 0))",header:"linear-gradient(360deg,  rgb(147, 0, 91),  rgb(202, 0, 125))",sidebar:"linear-gradient(360deg,  rgb(118, 0, 73),  rgb(173, 0, 107))"},orange:{default:"linear-gradient(140deg, rgb(189, 0, 218),rgb(250, 142, 0))",hover:"linear-gradient(140deg, rgb(166, 0, 192),rgb(223, 126, 0))",menu:"linear-gradient(140deg, rgb(166, 0, 192),rgb(208, 118, 0))",header:"linear-gradient(140deg, rgb(137, 0, 159),rgb(163, 92, 0))",sidebar:"linear-gradient(140deg, rgb(118, 0, 136),rgb(138, 78, 0))"},blue:{default:"linear-gradient(140deg, rgb(0, 129, 172),rgb(0, 252, 239))",hover:"linear-gradient(140deg, rgb(0, 72, 96),rgb(0, 225, 214))",menu:"linear-gradient(140deg, rgb(0, 109, 145),rgb(1, 206, 196))",header:"linear-gradient(140deg, rgb(0, 80, 106),rgb(0, 177, 169))",sidebar:"linear-gradient(140deg, rgb(0, 69, 92),rgb(0, 145, 138))"},yellow:{default:"linear-gradient(140deg, rgb(146, 0, 250),rgb(246, 255, 0))",hover:"linear-gradient(140deg, rgb(132, 0, 226),rgb(214, 222, 0))",menu:"linear-gradient(140deg, rgb(119, 0, 203),rgb(179, 185, 0))",header:"linear-gradient(140deg, rgb(97, 0, 166),rgb(127, 132, 0))",sidebar:"linear-gradient(140deg, rgb(76, 0, 131),rgb(93, 96, 0))"},pink:{default:"linear-gradient(140deg, rgb(140, 0, 114),rgb(252, 0, 118))",hover:"linear-gradient(140deg, rgb(113, 0, 92),rgb(217, 0, 101))",menu:"linear-gradient(140deg, rgb(121, 0, 99),rgb(194, 0, 94))",header:"linear-gradient(140deg, rgb(113, 0, 92),rgb(113, 0, 92))",sidebar:"linear-gradient(140deg, rgb(92, 0, 75),rgb(92, 0, 75))"},tropical:{default:"linear-gradient(140deg, rgb(255, 0, 191),rgb(117, 250, 0))",hover:"linear-gradient(140deg, rgb(222, 0, 166),rgb(105, 226, 0))",menu:"linear-gradient(140deg, rgb(222, 0, 166),rgb(105, 226, 0))",header:"linear-gradient(140deg, rgb(193, 0, 145),rgb(91, 195, 0))",sidebar:"linear-gradient(140deg, rgb(168, 0, 126),rgb(77, 166, 0))"},green:{default:"linear-gradient(140deg, rgb(0, 155, 49),rgb(254, 250, 1))",hover:"linear-gradient(140deg, rgb(0, 140, 44),rgb(213, 210, 0))",menu:"linear-gradient(140deg, rgb(0, 140, 44),rgb(189, 186, 0))",header:"linear-gradient(140deg, rgb(0, 113, 36),rgb(164, 161, 0))",sidebar:"linear-gradient(140deg, rgb(0, 80, 25),rgb(135, 133, 0))"},seaGrass:{default:"linear-gradient(140deg, rgb(0, 221, 255), rgb(187, 250, 0))",hover:"linear-gradient(140deg, rgb(0, 181, 209), rgb(149, 199, 0))",menu:"linear-gradient(140deg, rgb(0, 164, 190), rgb(141, 188, 0))",header:"linear-gradient(140deg, rgb(0, 133, 153), rgb(109, 145, 0))",sidebar:"linear-gradient(140deg, rgb(0, 118, 136), rgb(93, 124, 0))"}},TT=(n,e)=>{var t,i;return e?((t=Gt[n])==null?void 0:t.hover)||n:((i=Gt[n])==null?void 0:i.default)||n};function uk(n){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M362.6 192.9L345 174.8c-.7-.8-1.8-1.2-2.8-1.2-1.1 0-2.1.4-2.8 1.2l-122 122.9-44.4-44.4c-.8-.8-1.8-1.2-2.8-1.2-1 0-2 .4-2.8 1.2l-17.8 17.8c-1.6 1.6-1.6 4.1 0 5.7l56 56c3.6 3.6 8 5.7 11.7 5.7 5.3 0 9.9-3.9 11.6-5.5h.1l133.7-134.4c1.4-1.7 1.4-4.2-.1-5.7z"},child:[]}]})(n)}const ck=async(n,e,t,i)=>{const a=Ju(It,"boards"),l=pn(a),c=l.id,d=new Date,g=ut.fromDate(d);try{await Qf(l,{id:c,title:t,color:i,userId:n,username:e,createdAt:g,members:[]}),console.log("Success writing doucment")}catch{console.log("Error fetching doucment")}};function hk(n){return ai({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(n)}function gy(n){return ai({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const YA=({closeCreateOverlay:n})=>{const[e,t]=R.useState(""),[i,a]=R.useState(""),{user:l}=ri(),[c,d]=R.useState(""),g=R.useRef(null);R.useEffect(()=>{const b=w=>{g.current&&!g.current.contains(w.target)&&n()};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}}),R.useEffect(()=>{if(c){const b=setTimeout(()=>{d("")},2e3);return()=>clearTimeout(b)}},[c]);const p=()=>{n()},v=(b,w,k)=>{var z,O;b.currentTarget.style.background=k?((z=Gt[w])==null?void 0:z.hover)||w:((O=Gt[w])==null?void 0:O.default)||w},T=async()=>{if(console.log(e,i),e===""){d("Choose an title for the board");return}if(i===""){d("You need to choose an background");return}l&&l.username&&(await ck(l.uid,l.username,e,i),t(""),a(""),p())};return D.jsxs("div",{className:"createBoard",ref:g,children:[D.jsxs("div",{className:"createMenuHeader",children:[D.jsx("p",{id:"createTitle",children:"Create a new board"}),D.jsx("button",{onClick:p,id:"closeCreate",children:D.jsx(hk,{})})]}),D.jsx("input",{className:"createInput",value:e,onChange:b=>t(b.target.value),placeholder:"Enter the title of your board...",maxLength:25}),c&&D.jsx("p",{className:"errorMessage",children:c}),D.jsx("p",{children:"Choose a background"}),D.jsx("div",{className:"colorSelect",children:Object.keys(Gt).map(b=>D.jsx("div",{className:"selectColor",style:{background:Gt[b].default},onMouseEnter:w=>v(w,b,!0),onMouseLeave:w=>v(w,b,!1),onClick:()=>a(b),children:i===b?D.jsx("p",{className:"selectedBoardColor",children:D.jsx(uk,{size:30})}):D.jsx("p",{})},b))}),D.jsx("button",{className:"createBtn",onClick:T,children:"Create"})]})},al=({backgroundColor:n="default"})=>{var T;const e={background:((T=Gt[n])==null?void 0:T.header)||"linear-gradient(180deg, #018f94, #00335a)"},{user:t}=ri(),[i,a]=R.useState(!1),[l,c]=R.useState(!1),d=Zs(),g=()=>{a(b=>!b)},p=()=>{c(b=>!b)},v=()=>{d("/login")};return D.jsxs("header",{className:"header",style:e,children:[D.jsxs("div",{className:"headerLeft",children:[D.jsx("img",{id:"jellyicon",src:Kh,style:{width:90,height:"auto"}}),D.jsx(Ma,{to:"/",className:"nav-link",children:D.jsx("h1",{id:"appname",children:"Jellio"})}),D.jsxs("div",{className:"nav-links",children:[D.jsx(Ma,{to:"/",className:"nav-link",children:"Home"}),D.jsx(Ma,{to:"/workspaces",className:"nav-link",children:"Workspaces"}),t?D.jsxs("div",{className:"createHeaderContainer",children:[D.jsx("button",{className:"createInHeader",onClick:p,children:"Create"}),D.jsx("div",{className:"createWrapper",children:l&&D.jsx(YA,{closeCreateOverlay:p})})]}):D.jsx("div",{className:"createHeaderContainer",children:D.jsx("button",{className:"createInHeader",onClick:v,children:"Get started"})})]})]}),D.jsx("div",{className:"headerRight",children:t?D.jsxs(D.Fragment,{children:[D.jsx("button",{className:"profileButton",onClick:g,children:D.jsx("img",{src:t.profilePic??dy,id:"jellyProfile"})}),i&&D.jsx(lk,{closeOverlay:g})]}):D.jsx(Ma,{to:"/login",children:D.jsx("button",{className:"profileButton",children:D.jsx(ok,{size:35})})})})]})},fk=()=>D.jsxs(D.Fragment,{children:[D.jsx(al,{}),D.jsx("div",{className:"homebody",children:D.jsx("div",{className:"background-container",children:D.jsx("div",{className:"wrapper",children:D.jsxs("div",{className:"content",children:[D.jsx("h1",{className:"title",children:"Jellio brings all your tasks, teammates, and tools together"}),D.jsx("p",{id:"description",children:"The best way to organize your workflow in a simple and visual way"}),D.jsx(Ma,{to:"/login",children:D.jsx("button",{className:"getStartedButton",children:"Get Started"})})]})})})})]});function XA(n){return ai({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(n)}function dk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return R.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ol(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function my(n){return"nodeType"in n}function zn(n){var e,t;return n?ol(n)?n:my(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function py(n){const{Document:e}=zn(n);return n instanceof e}function ac(n){return ol(n)?!1:n instanceof zn(n).HTMLElement}function WA(n){return n instanceof zn(n).SVGElement}function ll(n){return n?ol(n)?n.document:my(n)?py(n)?n:ac(n)||WA(n)?n.ownerDocument:document:document:document}const ti=Zf?R.useLayoutEffect:R.useEffect;function yy(n){const e=R.useRef(n);return ti(()=>{e.current=n}),R.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function gk(){const n=R.useRef(null),e=R.useCallback((i,a)=>{n.current=setInterval(i,a)},[]),t=R.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function zu(n,e){e===void 0&&(e=[n]);const t=R.useRef(n);return ti(()=>{t.current!==n&&(t.current=n)},e),t}function oc(n,e){const t=R.useRef();return R.useMemo(()=>{const i=n(t.current);return t.current=i,i},[...e])}function yf(n){const e=yy(n),t=R.useRef(null),i=R.useCallback(a=>{a!==t.current&&(e==null||e(a,t.current)),t.current=a},[]);return[t,i]}function Zm(n){const e=R.useRef();return R.useEffect(()=>{e.current=n},[n]),e.current}let _m={};function lc(n,e){return R.useMemo(()=>{if(e)return e;const t=_m[n]==null?0:_m[n]+1;return _m[n]=t,n+"-"+t},[n,e])}function ZA(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((l,c)=>{const d=Object.entries(c);for(const[g,p]of d){const v=l[g];v!=null&&(l[g]=v+n*p)}return l},{...e})}}const Ho=ZA(1),vf=ZA(-1);function mk(n){return"clientX"in n&&"clientY"in n}function vy(n){if(!n)return!1;const{KeyboardEvent:e}=zn(n.target);return e&&n instanceof e}function pk(n){if(!n)return!1;const{TouchEvent:e}=zn(n.target);return e&&n instanceof e}function Jm(n){if(pk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return mk(n)?{x:n.clientX,y:n.clientY}:null}const Wo=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Wo.Translate.toString(n),Wo.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:i}=n;return e+" "+t+"ms "+i}}}),bT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function yk(n){return n.matches(bT)?n:n.querySelector(bT)}const vk={display:"none"};function _k(n){let{id:e,value:t}=n;return Ct.createElement("div",{id:e,style:vk},t)}function Ek(n){let{id:e,announcement:t,ariaLiveType:i="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ct.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function Tk(){const[n,e]=R.useState("");return{announce:R.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const JA=R.createContext(null);function bk(n){const e=R.useContext(JA);R.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function wk(){const[n]=R.useState(()=>new Set),e=R.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[R.useCallback(i=>{let{type:a,event:l}=i;n.forEach(c=>{var d;return(d=c[a])==null?void 0:d.call(c,l)})},[n]),e]}const Ak={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Sk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Rk(n){let{announcements:e=Sk,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=Ak}=n;const{announce:l,announcement:c}=Tk(),d=lc("DndLiveRegion"),[g,p]=R.useState(!1);if(R.useEffect(()=>{p(!0)},[]),bk(R.useMemo(()=>({onDragStart(T){let{active:b}=T;l(e.onDragStart({active:b}))},onDragMove(T){let{active:b,over:w}=T;e.onDragMove&&l(e.onDragMove({active:b,over:w}))},onDragOver(T){let{active:b,over:w}=T;l(e.onDragOver({active:b,over:w}))},onDragEnd(T){let{active:b,over:w}=T;l(e.onDragEnd({active:b,over:w}))},onDragCancel(T){let{active:b,over:w}=T;l(e.onDragCancel({active:b,over:w}))}}),[l,e])),!g)return null;const v=Ct.createElement(Ct.Fragment,null,Ct.createElement(_k,{id:i,value:a.draggable}),Ct.createElement(Ek,{id:d,announcement:c}));return t?Eu.createPortal(v,t):v}var Kt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Kt||(Kt={}));function _f(){}function wT(n,e){return R.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Ck(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return R.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Ir=Object.freeze({x:0,y:0});function Ik(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Dk(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return t-i}function Nk(n,e){let{data:{value:t}}=n,{data:{value:i}}=e;return i-t}function xk(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function AT(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Ok=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=AT(e,e.left,e.top),l=[];for(const c of i){const{id:d}=c,g=t.get(d);if(g){const p=Ik(AT(g),a);l.push({id:d,data:{droppableContainer:c,value:p}})}}return l.sort(Dk)};function Mk(n,e){const t=Math.max(e.top,n.top),i=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),l=Math.min(e.top+e.height,n.top+n.height),c=a-i,d=l-t;if(i<a&&t<l){const g=e.width*e.height,p=n.width*n.height,v=c*d,T=v/(g+p-v);return Number(T.toFixed(4))}return 0}const kk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=n;const a=[];for(const l of i){const{id:c}=l,d=t.get(c);if(d){const g=Mk(d,e);g>0&&a.push({id:c,data:{droppableContainer:l,value:g}})}}return a.sort(Nk)};function Vk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function eS(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Ir}function Pk(n){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((c,d)=>({...c,top:c.top+n*d.y,bottom:c.bottom+n*d.y,left:c.left+n*d.x,right:c.right+n*d.x}),{...t})}}const Lk=Pk(1);function Uk(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function jk(n,e,t){const i=Uk(e);if(!i)return n;const{scaleX:a,scaleY:l,x:c,y:d}=i,g=n.left-c-(1-a)*parseFloat(t),p=n.top-d-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),v=a?n.width/a:n.width,T=l?n.height/l:n.height;return{width:v,height:T,top:p,right:g+v,bottom:p+T,left:g}}const Bk={ignoreTransform:!1};function ul(n,e){e===void 0&&(e=Bk);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:v}=zn(n).getComputedStyle(n);p&&(t=jk(t,p,v))}const{top:i,left:a,width:l,height:c,bottom:d,right:g}=t;return{top:i,left:a,width:l,height:c,bottom:d,right:g}}function ST(n){return ul(n,{ignoreTransform:!0})}function zk(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Hk(n,e){return e===void 0&&(e=zn(n).getComputedStyle(n)),e.position==="fixed"}function qk(n,e){e===void 0&&(e=zn(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?t.test(l):!1})}function _y(n,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(py(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!ac(a)||WA(a)||t.includes(a))return t;const l=zn(n).getComputedStyle(a);return a!==n&&qk(a,l)&&t.push(a),Hk(a,l)?t:i(a.parentNode)}return n?i(n):t}function tS(n){const[e]=_y(n,1);return e??null}function Em(n){return!Zf||!n?null:ol(n)?n:my(n)?py(n)||n===ll(n).scrollingElement?window:ac(n)?n:null:null}function nS(n){return ol(n)?n.scrollX:n.scrollLeft}function rS(n){return ol(n)?n.scrollY:n.scrollTop}function ep(n){return{x:nS(n),y:rS(n)}}var rn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(rn||(rn={}));function iS(n){return!Zf||!n?!1:n===document.scrollingElement}function sS(n){const e={x:0,y:0},t=iS(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,l=n.scrollLeft<=e.x,c=n.scrollTop>=i.y,d=n.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:c,isRight:d,maxScroll:i,minScroll:e}}const Fk={x:.2,y:.2};function Gk(n,e,t,i,a){let{top:l,left:c,right:d,bottom:g}=t;i===void 0&&(i=10),a===void 0&&(a=Fk);const{isTop:p,isBottom:v,isLeft:T,isRight:b}=sS(n),w={x:0,y:0},k={x:0,y:0},z={height:e.height*a.y,width:e.width*a.x};return!p&&l<=e.top+z.height?(w.y=rn.Backward,k.y=i*Math.abs((e.top+z.height-l)/z.height)):!v&&g>=e.bottom-z.height&&(w.y=rn.Forward,k.y=i*Math.abs((e.bottom-z.height-g)/z.height)),!b&&d>=e.right-z.width?(w.x=rn.Forward,k.x=i*Math.abs((e.right-z.width-d)/z.width)):!T&&c<=e.left+z.width&&(w.x=rn.Backward,k.x=i*Math.abs((e.left+z.width-c)/z.width)),{direction:w,speed:k}}function Kk(n){if(n===document.scrollingElement){const{innerWidth:l,innerHeight:c}=window;return{top:0,left:0,right:l,bottom:c,width:l,height:c}}const{top:e,left:t,right:i,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:n.clientWidth,height:n.clientHeight}}function aS(n){return n.reduce((e,t)=>Ho(e,ep(t)),Ir)}function $k(n){return n.reduce((e,t)=>e+nS(t),0)}function Qk(n){return n.reduce((e,t)=>e+rS(t),0)}function Yk(n,e){if(e===void 0&&(e=ul),!n)return;const{top:t,left:i,bottom:a,right:l}=e(n);tS(n)&&(a<=0||l<=0||t>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Xk=[["x",["left","right"],$k],["y",["top","bottom"],Qk]];class Ey{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=_y(t),a=aS(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,c,d]of Xk)for(const g of c)Object.defineProperty(this,g,{get:()=>{const p=d(i),v=a[l]-p;return this.rect[g]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function Wk(n){const{EventTarget:e}=zn(n);return n instanceof e?n:ll(n)}function Tm(n,e){const t=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var yr;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(yr||(yr={}));function RT(n){n.preventDefault()}function Zk(n){n.stopPropagation()}var $e;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})($e||($e={}));const oS={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},Jk=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case $e.Right:return{...t,x:t.x+25};case $e.Left:return{...t,x:t.x-25};case $e.Down:return{...t,y:t.y+25};case $e.Up:return{...t,y:t.y-25}}};class Ty{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Cu(ll(t)),this.windowListeners=new Cu(zn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yr.Resize,this.handleCancel),this.windowListeners.add(yr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&Yk(i),t(Ir)}handleKeyDown(e){if(vy(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:l=oS,coordinateGetter:c=Jk,scrollBehavior:d="smooth"}=a,{code:g}=e;if(l.end.includes(g)){this.handleEnd(e);return}if(l.cancel.includes(g)){this.handleCancel(e);return}const{collisionRect:p}=i.current,v=p?{x:p.left,y:p.top}:Ir;this.referenceCoordinates||(this.referenceCoordinates=v);const T=c(e,{active:t,context:i.current,currentCoordinates:v});if(T){const b=vf(T,v),w={x:0,y:0},{scrollableAncestors:k}=i.current;for(const z of k){const O=e.code,{isTop:j,isRight:K,isLeft:$,isBottom:ie,maxScroll:ee,minScroll:ae}=sS(z),V=Kk(z),I={x:Math.min(O===$e.Right?V.right-V.width/2:V.right,Math.max(O===$e.Right?V.left:V.left+V.width/2,T.x)),y:Math.min(O===$e.Down?V.bottom-V.height/2:V.bottom,Math.max(O===$e.Down?V.top:V.top+V.height/2,T.y))},C=O===$e.Right&&!K||O===$e.Left&&!$,N=O===$e.Down&&!ie||O===$e.Up&&!j;if(C&&I.x!==T.x){const P=z.scrollLeft+b.x,L=O===$e.Right&&P<=ee.x||O===$e.Left&&P>=ae.x;if(L&&!b.y){z.scrollTo({left:P,behavior:d});return}L?w.x=z.scrollLeft-P:w.x=O===$e.Right?z.scrollLeft-ee.x:z.scrollLeft-ae.x,w.x&&z.scrollBy({left:-w.x,behavior:d});break}else if(N&&I.y!==T.y){const P=z.scrollTop+b.y,L=O===$e.Down&&P<=ee.y||O===$e.Up&&P>=ae.y;if(L&&!b.x){z.scrollTo({top:P,behavior:d});return}L?w.y=z.scrollTop-P:w.y=O===$e.Down?z.scrollTop-ee.y:z.scrollTop-ae.y,w.y&&z.scrollBy({top:-w.y,behavior:d});break}}this.handleMove(e,Ho(vf(T,this.referenceCoordinates),w))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ty.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:i=oS,onActivation:a}=e,{active:l}=t;const{code:c}=n.nativeEvent;if(i.start.includes(c)){const d=l.activatorNode.current;return d&&n.target!==d?!1:(n.preventDefault(),a==null||a({event:n.nativeEvent}),!0)}return!1}}];function CT(n){return!!(n&&"distance"in n)}function IT(n){return!!(n&&"delay"in n)}class by{constructor(e,t,i){var a;i===void 0&&(i=Wk(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:c}=l;this.props=e,this.events=t,this.document=ll(c),this.documentListeners=new Cu(this.document),this.listeners=new Cu(i),this.windowListeners=new Cu(zn(c)),this.initialCoordinates=(a=Jm(l))!=null?a:Ir,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yr.Resize,this.handleCancel),this.windowListeners.add(yr.DragStart,RT),this.windowListeners.add(yr.VisibilityChange,this.handleCancel),this.windowListeners.add(yr.ContextMenu,RT),this.documentListeners.add(yr.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(IT(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(CT(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(yr.Click,Zk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:c,options:{activationConstraint:d}}=l;if(!a)return;const g=(t=Jm(e))!=null?t:Ir,p=vf(a,g);if(!i&&d){if(CT(d)){if(d.tolerance!=null&&Tm(p,d.tolerance))return this.handleCancel();if(Tm(p,d.distance))return this.handleStart()}if(IT(d)&&Tm(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}e.cancelable&&e.preventDefault(),c(g)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const eV={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lS extends by{constructor(e){const{event:t}=e,i=ll(t.target);super(e,eV,i)}}lS.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i==null||i({event:t}),!0)}}];const tV={move:{name:"mousemove"},end:{name:"mouseup"}};var tp;(function(n){n[n.RightClick=2]="RightClick"})(tp||(tp={}));class uS extends by{constructor(e){super(e,tV,ll(e.event.target))}}uS.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;return t.button===tp.RightClick?!1:(i==null||i({event:t}),!0)}}];const bm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nV extends by{constructor(e){super(e,bm)}static setup(){return window.addEventListener(bm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bm.move.name,e)};function e(){}}}nV.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i==null||i({event:t}),!0)}}];var Iu;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Iu||(Iu={}));var Ef;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ef||(Ef={}));function rV(n){let{acceleration:e,activator:t=Iu.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:c=5,order:d=Ef.TreeOrder,pointerCoordinates:g,scrollableAncestors:p,scrollableAncestorRects:v,delta:T,threshold:b}=n;const w=sV({delta:T,disabled:!l}),[k,z]=gk(),O=R.useRef({x:0,y:0}),j=R.useRef({x:0,y:0}),K=R.useMemo(()=>{switch(t){case Iu.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Iu.DraggableRect:return a}},[t,a,g]),$=R.useRef(null),ie=R.useCallback(()=>{const ae=$.current;if(!ae)return;const V=O.current.x*j.current.x,I=O.current.y*j.current.y;ae.scrollBy(V,I)},[]),ee=R.useMemo(()=>d===Ef.TreeOrder?[...p].reverse():p,[d,p]);R.useEffect(()=>{if(!l||!p.length||!K){z();return}for(const ae of ee){if((i==null?void 0:i(ae))===!1)continue;const V=p.indexOf(ae),I=v[V];if(!I)continue;const{direction:C,speed:N}=Gk(ae,I,K,e,b);for(const P of["x","y"])w[P][C[P]]||(N[P]=0,C[P]=0);if(N.x>0||N.y>0){z(),$.current=ae,k(ie,c),O.current=N,j.current=C;return}}O.current={x:0,y:0},j.current={x:0,y:0},z()},[e,ie,i,z,l,c,JSON.stringify(K),JSON.stringify(w),k,p,ee,v,JSON.stringify(b)])}const iV={x:{[rn.Backward]:!1,[rn.Forward]:!1},y:{[rn.Backward]:!1,[rn.Forward]:!1}};function sV(n){let{delta:e,disabled:t}=n;const i=Zm(e);return oc(a=>{if(t||!i||!a)return iV;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[rn.Backward]:a.x[rn.Backward]||l.x===-1,[rn.Forward]:a.x[rn.Forward]||l.x===1},y:{[rn.Backward]:a.y[rn.Backward]||l.y===-1,[rn.Forward]:a.y[rn.Forward]||l.y===1}}},[t,e,i])}function aV(n,e){const t=e!=null?n.get(e):void 0,i=t?t.node.current:null;return oc(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function oV(n,e){return R.useMemo(()=>n.reduce((t,i)=>{const{sensor:a}=i,l=a.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,i)}));return[...t,...l]},[]),[n,e])}var Hu;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Hu||(Hu={}));var np;(function(n){n.Optimized="optimized"})(np||(np={}));const DT=new Map;function lV(n,e){let{dragging:t,dependencies:i,config:a}=e;const[l,c]=R.useState(null),{frequency:d,measure:g,strategy:p}=a,v=R.useRef(n),T=O(),b=zu(T),w=R.useCallback(function(j){j===void 0&&(j=[]),!b.current&&c(K=>K===null?j:K.concat(j.filter($=>!K.includes($))))},[b]),k=R.useRef(null),z=oc(j=>{if(T&&!t)return DT;if(!j||j===DT||v.current!==n||l!=null){const K=new Map;for(let $ of n){if(!$)continue;if(l&&l.length>0&&!l.includes($.id)&&$.rect.current){K.set($.id,$.rect.current);continue}const ie=$.node.current,ee=ie?new Ey(g(ie),ie):null;$.rect.current=ee,ee&&K.set($.id,ee)}return K}return j},[n,l,t,T,g]);return R.useEffect(()=>{v.current=n},[n]),R.useEffect(()=>{T||w()},[t,T]),R.useEffect(()=>{l&&l.length>0&&c(null)},[JSON.stringify(l)]),R.useEffect(()=>{T||typeof d!="number"||k.current!==null||(k.current=setTimeout(()=>{w(),k.current=null},d))},[d,T,w,...i]),{droppableRects:z,measureDroppableContainers:w,measuringScheduled:l!=null};function O(){switch(p){case Hu.Always:return!1;case Hu.BeforeDragging:return t;default:return!t}}}function cS(n,e){return oc(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function uV(n,e){return cS(n,e)}function cV(n){let{callback:e,disabled:t}=n;const i=yy(e),a=R.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,t]);return R.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Jf(n){let{callback:e,disabled:t}=n;const i=yy(e),a=R.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[t]);return R.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function hV(n){return new Ey(ul(n),n)}function NT(n,e,t){e===void 0&&(e=hV);const[i,a]=R.useState(null);function l(){a(g=>{if(!n)return null;if(n.isConnected===!1){var p;return(p=g??t)!=null?p:null}const v=e(n);return JSON.stringify(g)===JSON.stringify(v)?g:v})}const c=cV({callback(g){if(n)for(const p of g){const{type:v,target:T}=p;if(v==="childList"&&T instanceof HTMLElement&&T.contains(n)){l();break}}}}),d=Jf({callback:l});return ti(()=>{l(),n?(d==null||d.observe(n),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),c==null||c.disconnect())},[n]),i}function fV(n){const e=cS(n);return eS(n,e)}const xT=[];function dV(n){const e=R.useRef(n),t=oc(i=>n?i&&i!==xT&&n&&e.current&&n.parentNode===e.current.parentNode?i:_y(n):xT,[n]);return R.useEffect(()=>{e.current=n},[n]),t}function gV(n){const[e,t]=R.useState(null),i=R.useRef(n),a=R.useCallback(l=>{const c=Em(l.target);c&&t(d=>d?(d.set(c,ep(c)),new Map(d)):null)},[]);return R.useEffect(()=>{const l=i.current;if(n!==l){c(l);const d=n.map(g=>{const p=Em(g);return p?(p.addEventListener("scroll",a,{passive:!0}),[p,ep(p)]):null}).filter(g=>g!=null);t(d.length?new Map(d):null),i.current=n}return()=>{c(n),c(l)};function c(d){d.forEach(g=>{const p=Em(g);p==null||p.removeEventListener("scroll",a)})}},[a,n]),R.useMemo(()=>n.length?e?Array.from(e.values()).reduce((l,c)=>Ho(l,c),Ir):aS(n):Ir,[n,e])}function OT(n,e){e===void 0&&(e=[]);const t=R.useRef(null);return R.useEffect(()=>{t.current=null},e),R.useEffect(()=>{const i=n!==Ir;i&&!t.current&&(t.current=n),!i&&t.current&&(t.current=null)},[n]),t.current?vf(n,t.current):Ir}function mV(n){R.useEffect(()=>{if(!Zf)return;const e=n.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function pV(n,e){return R.useMemo(()=>n.reduce((t,i)=>{let{eventName:a,handler:l}=i;return t[a]=c=>{l(c,e)},t},{}),[n,e])}function hS(n){return R.useMemo(()=>n?zk(n):null,[n])}const MT=[];function yV(n,e){e===void 0&&(e=ul);const[t]=n,i=hS(t?zn(t):null),[a,l]=R.useState(MT);function c(){l(()=>n.length?n.map(g=>iS(g)?i:new Ey(e(g),g)):MT)}const d=Jf({callback:c});return ti(()=>{d==null||d.disconnect(),c(),n.forEach(g=>d==null?void 0:d.observe(g))},[n]),a}function vV(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ac(e)?e:n}function _V(n){let{measure:e}=n;const[t,i]=R.useState(null),a=R.useCallback(p=>{for(const{target:v}of p)if(ac(v)){i(T=>{const b=e(v);return T?{...T,width:b.width,height:b.height}:b});break}},[e]),l=Jf({callback:a}),c=R.useCallback(p=>{const v=vV(p);l==null||l.disconnect(),v&&(l==null||l.observe(v)),i(v?e(v):null)},[e,l]),[d,g]=yf(c);return R.useMemo(()=>({nodeRef:d,rect:t,setRef:g}),[t,d,g])}const EV=[{sensor:lS,options:{}},{sensor:Ty,options:{}}],TV={current:{}},$h={draggable:{measure:ST},droppable:{measure:ST,strategy:Hu.WhileDragging,frequency:np.Optimized},dragOverlay:{measure:ul}};class Du extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const bV={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Du,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_f},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$h,measureDroppableContainers:_f,windowRect:null,measuringScheduled:!1},wV={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_f,draggableNodes:new Map,over:null,measureDroppableContainers:_f},ed=R.createContext(wV),fS=R.createContext(bV);function AV(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Du}}}function SV(n,e){switch(e.type){case Kt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Kt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Kt.DragEnd:case Kt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Kt.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Du(n.droppable.containers);return a.set(i,t),{...n,droppable:{...n.droppable,containers:a}}}case Kt.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,l=n.droppable.containers.get(t);if(!l||i!==l.key)return n;const c=new Du(n.droppable.containers);return c.set(t,{...l,disabled:a}),{...n,droppable:{...n.droppable,containers:c}}}case Kt.UnregisterDroppable:{const{id:t,key:i}=e,a=n.droppable.containers.get(t);if(!a||i!==a.key)return n;const l=new Du(n.droppable.containers);return l.delete(t),{...n,droppable:{...n.droppable,containers:l}}}default:return n}}function RV(n){let{disabled:e}=n;const{active:t,activatorEvent:i,draggableNodes:a}=R.useContext(ed),l=Zm(i),c=Zm(t==null?void 0:t.id);return R.useEffect(()=>{if(!e&&!i&&l&&c!=null){if(!vy(l)||document.activeElement===l.target)return;const d=a.get(c);if(!d)return;const{activatorNode:g,node:p}=d;if(!g.current&&!p.current)return;requestAnimationFrame(()=>{for(const v of[g.current,p.current]){if(!v)continue;const T=yk(v);if(T){T.focus();break}}})}},[i,e,a,c,l]),null}function CV(n,e){let{transform:t,...i}=e;return n!=null&&n.length?n.reduce((a,l)=>l({transform:a,...i}),t):t}function IV(n){return R.useMemo(()=>({draggable:{...$h.draggable,...n==null?void 0:n.draggable},droppable:{...$h.droppable,...n==null?void 0:n.droppable},dragOverlay:{...$h.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function DV(n){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=n;const l=R.useRef(!1),{x:c,y:d}=typeof a=="boolean"?{x:a,y:a}:a;ti(()=>{if(!c&&!d||!e){l.current=!1;return}if(l.current||!i)return;const p=e==null?void 0:e.node.current;if(!p||p.isConnected===!1)return;const v=t(p),T=eS(v,i);if(c||(T.x=0),d||(T.y=0),l.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const b=tS(p);b&&b.scrollBy({top:T.y,left:T.x})}},[e,c,d,i,t])}const dS=R.createContext({...Ir,scaleX:1,scaleY:1});var Ss;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Ss||(Ss={}));const NV=R.memo(function(e){var t,i,a,l;let{id:c,accessibility:d,autoScroll:g=!0,children:p,sensors:v=EV,collisionDetection:T=kk,measuring:b,modifiers:w,...k}=e;const z=R.useReducer(SV,void 0,AV),[O,j]=z,[K,$]=wk(),[ie,ee]=R.useState(Ss.Uninitialized),ae=ie===Ss.Initialized,{draggable:{active:V,nodes:I,translate:C},droppable:{containers:N}}=O,P=V!=null?I.get(V):null,L=R.useRef({initial:null,translated:null}),M=R.useMemo(()=>{var at;return V!=null?{id:V,data:(at=P==null?void 0:P.data)!=null?at:TV,rect:L}:null},[V,P]),Qe=R.useRef(null),[et,oe]=R.useState(null),[ge,me]=R.useState(null),Ne=zu(k,Object.values(k)),U=lc("DndDescribedBy",c),re=R.useMemo(()=>N.getEnabled(),[N]),ce=IV(b),{droppableRects:le,measureDroppableContainers:ue,measuringScheduled:Ae}=lV(re,{dragging:ae,dependencies:[C.x,C.y],config:ce.droppable}),_e=aV(I,V),it=R.useMemo(()=>ge?Jm(ge):null,[ge]),Ie=tr(),qe=uV(_e,ce.draggable.measure);DV({activeNode:V!=null?I.get(V):null,config:Ie.layoutShiftCompensation,initialRect:qe,measure:ce.draggable.measure});const ye=NT(_e,ce.draggable.measure,qe),wt=NT(_e?_e.parentElement:null),Dt=R.useRef({activatorEvent:null,active:null,activeNode:_e,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Vt=N.getNodeFor((t=Dt.current.over)==null?void 0:t.id),Qt=_V({measure:ce.dragOverlay.measure}),In=(i=Qt.nodeRef.current)!=null?i:_e,yn=ae?(a=Qt.rect)!=null?a:ye:null,Gi=!!(Qt.nodeRef.current&&Qt.rect),oi=fV(Gi?null:ye),Dr=hS(In?zn(In):null),vn=dV(ae?Vt??_e:null),_r=yV(vn),Ki=CV(w,{transform:{x:C.x-oi.x,y:C.y-oi.y,scaleX:1,scaleY:1},activatorEvent:ge,active:M,activeNodeRect:ye,containerNodeRect:wt,draggingNodeRect:yn,over:Dt.current.over,overlayNodeRect:Qt.rect,scrollableAncestors:vn,scrollableAncestorRects:_r,windowRect:Dr}),$i=it?Ho(it,C):null,sn=gV(vn),Ga=OT(sn),At=OT(sn,[ye]),st=Ho(Ki,Ga),_n=yn?Lk(yn,Ki):null,Nr=M&&_n?T({active:M,collisionRect:_n,droppableRects:le,droppableContainers:re,pointerCoordinates:$i}):null,Qi=xk(Nr,"id"),[er,xr]=R.useState(null),Or=Gi?Ki:Ho(Ki,At),Yt=Vk(Or,(l=er==null?void 0:er.rect)!=null?l:null,ye),li=R.useRef(null),Hn=R.useCallback((at,ot)=>{let{sensor:tt,options:on}=ot;if(Qe.current==null)return;const Pt=I.get(Qe.current);if(!Pt)return;const Lt=at.nativeEvent,Ut=new tt({active:Qe.current,activeNode:Pt,event:Lt,options:on,context:Dt,onAbort(xe){if(!I.get(xe))return;const{onDragAbort:jt}=Ne.current,Xt={id:xe};jt==null||jt(Xt),K({type:"onDragAbort",event:Xt})},onPending(xe,Fn,jt,Xt){if(!I.get(xe))return;const{onDragPending:kr}=Ne.current,ln={id:xe,constraint:Fn,initialCoordinates:jt,offset:Xt};kr==null||kr(ln),K({type:"onDragPending",event:ln})},onStart(xe){const Fn=Qe.current;if(Fn==null)return;const jt=I.get(Fn);if(!jt)return;const{onDragStart:Xt}=Ne.current,Mr={activatorEvent:Lt,active:{id:Fn,data:jt.data,rect:L}};Eu.unstable_batchedUpdates(()=>{Xt==null||Xt(Mr),ee(Ss.Initializing),j({type:Kt.DragStart,initialCoordinates:xe,active:Fn}),K({type:"onDragStart",event:Mr}),oe(li.current),me(Lt)})},onMove(xe){j({type:Kt.DragMove,coordinates:xe})},onEnd:qn(Kt.DragEnd),onCancel:qn(Kt.DragCancel)});li.current=Ut;function qn(xe){return async function(){const{active:jt,collisions:Xt,over:Mr,scrollAdjustedTranslate:kr}=Dt.current;let ln=null;if(jt&&kr){const{cancelDrop:En}=Ne.current;ln={activatorEvent:Lt,active:jt,collisions:Xt,delta:kr,over:Mr},xe===Kt.DragEnd&&typeof En=="function"&&await Promise.resolve(En(ln))&&(xe=Kt.DragCancel)}Qe.current=null,Eu.unstable_batchedUpdates(()=>{j({type:xe}),ee(Ss.Uninitialized),xr(null),oe(null),me(null),li.current=null;const En=xe===Kt.DragEnd?"onDragEnd":"onDragCancel";if(ln){const pt=Ne.current[En];pt==null||pt(ln),K({type:En,event:ln})}})}}},[I]),an=R.useCallback((at,ot)=>(tt,on)=>{const Pt=tt.nativeEvent,Lt=I.get(on);if(Qe.current!==null||!Lt||Pt.dndKit||Pt.defaultPrevented)return;const Ut={active:Lt};at(tt,ot.options,Ut)===!0&&(Pt.dndKit={capturedBy:ot.sensor},Qe.current=on,Hn(tt,ot))},[I,Hn]),Yi=oV(v,an);mV(v),ti(()=>{ye&&ie===Ss.Initializing&&ee(Ss.Initialized)},[ye,ie]),R.useEffect(()=>{const{onDragMove:at}=Ne.current,{active:ot,activatorEvent:tt,collisions:on,over:Pt}=Dt.current;if(!ot||!tt)return;const Lt={active:ot,activatorEvent:tt,collisions:on,delta:{x:st.x,y:st.y},over:Pt};Eu.unstable_batchedUpdates(()=>{at==null||at(Lt),K({type:"onDragMove",event:Lt})})},[st.x,st.y]),R.useEffect(()=>{const{active:at,activatorEvent:ot,collisions:tt,droppableContainers:on,scrollAdjustedTranslate:Pt}=Dt.current;if(!at||Qe.current==null||!ot||!Pt)return;const{onDragOver:Lt}=Ne.current,Ut=on.get(Qi),qn=Ut&&Ut.rect.current?{id:Ut.id,rect:Ut.rect.current,data:Ut.data,disabled:Ut.disabled}:null,xe={active:at,activatorEvent:ot,collisions:tt,delta:{x:Pt.x,y:Pt.y},over:qn};Eu.unstable_batchedUpdates(()=>{xr(qn),Lt==null||Lt(xe),K({type:"onDragOver",event:xe})})},[Qi]),ti(()=>{Dt.current={activatorEvent:ge,active:M,activeNode:_e,collisionRect:_n,collisions:Nr,droppableRects:le,draggableNodes:I,draggingNode:In,draggingNodeRect:yn,droppableContainers:N,over:er,scrollableAncestors:vn,scrollAdjustedTranslate:st},L.current={initial:yn,translated:_n}},[M,_e,Nr,_n,I,In,yn,le,N,er,vn,st]),rV({...Ie,delta:C,draggingRect:_n,pointerCoordinates:$i,scrollableAncestors:vn,scrollableAncestorRects:_r});const Ka=R.useMemo(()=>({active:M,activeNode:_e,activeNodeRect:ye,activatorEvent:ge,collisions:Nr,containerNodeRect:wt,dragOverlay:Qt,draggableNodes:I,droppableContainers:N,droppableRects:le,over:er,measureDroppableContainers:ue,scrollableAncestors:vn,scrollableAncestorRects:_r,measuringConfiguration:ce,measuringScheduled:Ae,windowRect:Dr}),[M,_e,ye,ge,Nr,wt,Qt,I,N,le,er,ue,vn,_r,ce,Ae,Dr]),$a=R.useMemo(()=>({activatorEvent:ge,activators:Yi,active:M,activeNodeRect:ye,ariaDescribedById:{draggable:U},dispatch:j,draggableNodes:I,over:er,measureDroppableContainers:ue}),[ge,Yi,M,ye,j,U,I,er,ue]);return Ct.createElement(JA.Provider,{value:$},Ct.createElement(ed.Provider,{value:$a},Ct.createElement(fS.Provider,{value:Ka},Ct.createElement(dS.Provider,{value:Yt},p)),Ct.createElement(RV,{disabled:(d==null?void 0:d.restoreFocus)===!1})),Ct.createElement(Rk,{...d,hiddenTextDescribedById:U}));function tr(){const at=(et==null?void 0:et.autoScrollEnabled)===!1,ot=typeof g=="object"?g.enabled===!1:g===!1,tt=ae&&!at&&!ot;return typeof g=="object"?{...g,enabled:tt}:{enabled:tt}}}),xV=R.createContext(null),kT="button",OV="Draggable";function MV(n){let{id:e,data:t,disabled:i=!1,attributes:a}=n;const l=lc(OV),{activators:c,activatorEvent:d,active:g,activeNodeRect:p,ariaDescribedById:v,draggableNodes:T,over:b}=R.useContext(ed),{role:w=kT,roleDescription:k="draggable",tabIndex:z=0}=a??{},O=(g==null?void 0:g.id)===e,j=R.useContext(O?dS:xV),[K,$]=yf(),[ie,ee]=yf(),ae=pV(c,e),V=zu(t);ti(()=>(T.set(e,{id:e,key:l,node:K,activatorNode:ie,data:V}),()=>{const C=T.get(e);C&&C.key===l&&T.delete(e)}),[T,e]);const I=R.useMemo(()=>({role:w,tabIndex:z,"aria-disabled":i,"aria-pressed":O&&w===kT?!0:void 0,"aria-roledescription":k,"aria-describedby":v.draggable}),[i,w,z,O,k,v.draggable]);return{active:g,activatorEvent:d,activeNodeRect:p,attributes:I,isDragging:O,listeners:i?void 0:ae,node:K,over:b,setNodeRef:$,setActivatorNodeRef:ee,transform:j}}function kV(){return R.useContext(fS)}const VV="Droppable",PV={timeout:25};function LV(n){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=n;const l=lc(VV),{active:c,dispatch:d,over:g,measureDroppableContainers:p}=R.useContext(ed),v=R.useRef({disabled:t}),T=R.useRef(!1),b=R.useRef(null),w=R.useRef(null),{disabled:k,updateMeasurementsFor:z,timeout:O}={...PV,...a},j=zu(z??i),K=R.useCallback(()=>{if(!T.current){T.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(j.current)?j.current:[j.current]),w.current=null},O)},[O]),$=Jf({callback:K,disabled:k||!c}),ie=R.useCallback((I,C)=>{$&&(C&&($.unobserve(C),T.current=!1),I&&$.observe(I))},[$]),[ee,ae]=yf(ie),V=zu(e);return R.useEffect(()=>{!$||!ee.current||($.disconnect(),T.current=!1,$.observe(ee.current))},[ee,$]),R.useEffect(()=>(d({type:Kt.RegisterDroppable,element:{id:i,key:l,disabled:t,node:ee,rect:b,data:V}}),()=>d({type:Kt.UnregisterDroppable,key:l,id:i})),[i]),R.useEffect(()=>{t!==v.current.disabled&&(d({type:Kt.SetDroppableDisabled,id:i,key:l,disabled:t}),v.current.disabled=t)},[i,l,t,d]),{active:c,rect:b,isOver:(g==null?void 0:g.id)===i,node:ee,over:g,setNodeRef:ae}}function Tf(n,e,t){const i=n.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function UV(n,e){return n.reduce((t,i,a)=>{const l=e.get(i);return l&&(t[a]=l),t},Array(n.length))}function Oh(n){return n!==null&&n>=0}function jV(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function BV(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const gS=n=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=n;const l=Tf(e,i,t),c=e[a],d=l[a];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Mh={scaleX:1,scaleY:1},zV=n=>{var e;let{activeIndex:t,activeNodeRect:i,index:a,rects:l,overIndex:c}=n;const d=(e=l[t])!=null?e:i;if(!d)return null;if(a===t){const p=l[c];return p?{x:0,y:t<c?p.top+p.height-(d.top+d.height):p.top-d.top,...Mh}:null}const g=HV(l,a,t);return a>t&&a<=c?{x:0,y:-d.height-g,...Mh}:a<t&&a>=c?{x:0,y:d.height+g,...Mh}:{x:0,y:0,...Mh}};function HV(n,e,t){const i=n[e],a=n[e-1],l=n[e+1];return i?t<e?a?i.top-(a.top+a.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0}const mS="Sortable",pS=Ct.createContext({activeIndex:-1,containerId:mS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:gS,disabled:{draggable:!1,droppable:!1}});function yS(n){let{children:e,id:t,items:i,strategy:a=gS,disabled:l=!1}=n;const{active:c,dragOverlay:d,droppableRects:g,over:p,measureDroppableContainers:v}=kV(),T=lc(mS,t),b=d.rect!==null,w=R.useMemo(()=>i.map(ae=>typeof ae=="object"&&"id"in ae?ae.id:ae),[i]),k=c!=null,z=c?w.indexOf(c.id):-1,O=p?w.indexOf(p.id):-1,j=R.useRef(w),K=!jV(w,j.current),$=O!==-1&&z===-1||K,ie=BV(l);ti(()=>{K&&k&&v(w)},[K,w,k,v]),R.useEffect(()=>{j.current=w},[w]);const ee=R.useMemo(()=>({activeIndex:z,containerId:T,disabled:ie,disableTransforms:$,items:w,overIndex:O,useDragOverlay:b,sortedRects:UV(w,g),strategy:a}),[z,T,ie.draggable,ie.droppable,$,w,O,g,b,a]);return Ct.createElement(pS.Provider,{value:ee},e)}const qV=n=>{let{id:e,items:t,activeIndex:i,overIndex:a}=n;return Tf(t,i,a).indexOf(e)},FV=n=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:l,newIndex:c,previousItems:d,previousContainerId:g,transition:p}=n;return!p||!i||d!==l&&a===c?!1:t?!0:c!==a&&e===g},GV={duration:200,easing:"ease"},vS="transform",KV=Wo.Transition.toString({property:vS,duration:0,easing:"linear"}),$V={roleDescription:"sortable"};function QV(n){let{disabled:e,index:t,node:i,rect:a}=n;const[l,c]=R.useState(null),d=R.useRef(t);return ti(()=>{if(!e&&t!==d.current&&i.current){const g=a.current;if(g){const p=ul(i.current,{ignoreTransform:!0}),v={x:g.left-p.left,y:g.top-p.top,scaleX:g.width/p.width,scaleY:g.height/p.height};(v.x||v.y)&&c(v)}}t!==d.current&&(d.current=t)},[e,t,i,a]),R.useEffect(()=>{l&&c(null)},[l]),l}function _S(n){let{animateLayoutChanges:e=FV,attributes:t,disabled:i,data:a,getNewIndex:l=qV,id:c,strategy:d,resizeObserverConfig:g,transition:p=GV}=n;const{items:v,containerId:T,activeIndex:b,disabled:w,disableTransforms:k,sortedRects:z,overIndex:O,useDragOverlay:j,strategy:K}=R.useContext(pS),$=YV(i,w),ie=v.indexOf(c),ee=R.useMemo(()=>({sortable:{containerId:T,index:ie,items:v},...a}),[T,a,ie,v]),ae=R.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:V,node:I,isOver:C,setNodeRef:N}=LV({id:c,data:ee,disabled:$.droppable,resizeObserverConfig:{updateMeasurementsFor:ae,...g}}),{active:P,activatorEvent:L,activeNodeRect:M,attributes:Qe,setNodeRef:et,listeners:oe,isDragging:ge,over:me,setActivatorNodeRef:Ne,transform:U}=MV({id:c,data:ee,attributes:{...$V,...t},disabled:$.draggable}),re=dk(N,et),ce=!!P,le=ce&&!k&&Oh(b)&&Oh(O),ue=!j&&ge,Ae=ue&&le?U:null,it=le?Ae??(d??K)({rects:z,activeNodeRect:M,activeIndex:b,overIndex:O,index:ie}):null,Ie=Oh(b)&&Oh(O)?l({id:c,items:v,activeIndex:b,overIndex:O}):ie,qe=P==null?void 0:P.id,ye=R.useRef({activeId:qe,items:v,newIndex:Ie,containerId:T}),wt=v!==ye.current.items,Dt=e({active:P,containerId:T,isDragging:ge,isSorting:ce,id:c,index:ie,items:v,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:p,wasDragging:ye.current.activeId!=null}),Vt=QV({disabled:!Dt,index:ie,node:I,rect:V});return R.useEffect(()=>{ce&&ye.current.newIndex!==Ie&&(ye.current.newIndex=Ie),T!==ye.current.containerId&&(ye.current.containerId=T),v!==ye.current.items&&(ye.current.items=v)},[ce,Ie,T,v]),R.useEffect(()=>{if(qe===ye.current.activeId)return;if(qe!=null&&ye.current.activeId==null){ye.current.activeId=qe;return}const In=setTimeout(()=>{ye.current.activeId=qe},50);return()=>clearTimeout(In)},[qe]),{active:P,activeIndex:b,attributes:Qe,data:ee,rect:V,index:ie,newIndex:Ie,items:v,isOver:C,isSorting:ce,isDragging:ge,listeners:oe,node:I,overIndex:O,over:me,setNodeRef:re,setActivatorNodeRef:Ne,setDroppableNodeRef:N,setDraggableNodeRef:et,transform:Vt??it,transition:Qt()};function Qt(){if(Vt||wt&&ye.current.newIndex===ie)return KV;if(!(ue&&!vy(L)||!p)&&(ce||Dt))return Wo.Transition.toString({...p,property:vS})}}function YV(n,e){var t,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:e.droppable}}$e.Down,$e.Right,$e.Up,$e.Left;function ES(n){return ai({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(n)}const XV=async(n,e,t)=>{try{const i=pn(It,"boards",n,"lists",e.toString()),a=await nc(i);if(!a.exists())return console.log("List does not exist"),!1;const c=a.data().cards.map(d=>d.id===t.id?{...d,...t}:d);return await qs(i,{cards:c}),console.log("Card updated successfully"),!0}catch(i){return console.log("Error updating card in db",i),!1}},WV=({card:n,removeCard:e,boardId:t,listId:i})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:d,transition:g}=_S({id:n.id}),[p,v]=R.useState(!1),[T,b]=R.useState(n.content),w=R.useRef(null);R.useEffect(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`)},[T,p]);const k={transform:Wo.Transform.toString(d),transition:g},z=()=>{b(n.content),v(!0)},O=K=>{K.preventDefault(),v(!1),T.length>0&&(n.content=T,XV(t,i,{id:n.id,content:T}))},j=K=>{K.key==="Enter"&&(K.preventDefault(),O(K))};return D.jsx("div",{className:"cardContainer",style:k,ref:c,...a,...l,children:p?D.jsx("form",{onSubmit:O,children:D.jsx("textarea",{ref:w,value:T,className:"inputCard",onChange:K=>b(K.target.value),onKeyDown:j,onBlur:()=>v(!1),autoFocus:!0})}):D.jsxs("div",{className:"cardContentPlacement",children:[D.jsx("p",{className:"cardContent",onClick:z,children:n.content}),D.jsx("div",{className:"cardContentBottom",children:D.jsx(ES,{id:"trashIcon",onClick:e,size:12})})]})})},ZV=async(n,e,t)=>{try{const i=pn(It,"boards",n,"lists",e.toString());return await qs(i,t),console.log("List updated in db",t),!0}catch(i){return console.log("error updating list in db",i),!1}},JV=({boardId:n,list:e,addCardToList:t,onRemove:i,removeCard:a})=>{const[l,c]=R.useState(""),[d,g]=R.useState(!1),[p,v]=R.useState(!1),[T,b]=R.useState(""),w=R.useRef(null),{attributes:k,listeners:z,setNodeRef:O,transform:j,transition:K,isDragging:$}=_S({id:e.id});R.useEffect(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`)},[T]);const ie=()=>{g(!0),c(e.title)},ee=L=>{L.key==="Enter"&&(L.preventDefault(),ae(L))},ae=async L=>{L.preventDefault(),g(!1),l.length>0&&(e.title=l,await ZV(n,e.id,{title:l}))},V=()=>v(!0),I=L=>{if(L.preventDefault(),T==="")return v(!1);t(e.id,T),v(!0),b("")},C=L=>{L.relatedTarget&&L.relatedTarget.id==="addCard"||(v(!1),b(""))},N=L=>{L.key==="Enter"&&(L.preventDefault(),I(L))},P={transform:Wo.Transform.toString(j),transition:K};return D.jsxs("div",{className:`listContainer ${$?"isDragging":""}`,style:P,children:[D.jsxs("div",{className:"listTitleContainer",ref:O,...k,...z,children:[d?D.jsx("form",{onSubmit:ae,children:D.jsx("input",{className:"input",value:l,onChange:L=>c(L.target.value),placeholder:"Enter your listname...",onBlur:()=>g(!1),autoFocus:!0,maxLength:33,onKeyDown:L=>{L.key===" "&&L.stopPropagation(),ee(L)}})}):D.jsx("div",{onClick:ie,className:"listTitleTextField",children:D.jsx("p",{className:"listTitle",children:e.title})}),D.jsx("button",{className:"icon-button",children:D.jsx(ES,{onClick:()=>i(e.id),size:18})})]}),D.jsx("div",{className:"listsFlex",children:D.jsx(yS,{items:e.cards.map(L=>L.id),strategy:zV,children:e.cards.map(L=>D.jsx(WV,{card:L,removeCard:()=>a(e.id,L.id),boardId:n,listId:e.id},L.id))})}),p?D.jsxs("div",{children:[D.jsx("form",{onSubmit:I,children:D.jsx("textarea",{ref:w,className:"inputCardContent",value:T,onChange:L=>b(L.target.value),placeholder:"Enter a title...",onBlur:C,autoFocus:!0,onKeyDown:N})}),D.jsxs("div",{className:"addOrCancelContainer",children:[D.jsx("button",{id:"addCard",className:"btnAddCard",onClick:I,children:"Add card"}),D.jsx("button",{className:"icon-button",onClick:()=>v(!1),children:D.jsx(gy,{})})]})]}):D.jsxs("button",{className:"btnhandleCard",onClick:V,children:[D.jsx(XA,{size:18})," Add a card"]})]})},eP=async(n,e)=>{if(!n||e.length===0)return;const t=cO(It);e.forEach((i,a)=>{const l=pn(It,"boards",n,"lists",i.id);t.update(l,{index:a})});try{await t.commit(),console.log("update list order")}catch(i){console.log("error updating order",i)}},tP=async(n,e,t,i,a)=>{try{const l=t.findIndex(p=>p.id===i),c=t.findIndex(p=>p.id===a);if(l===-1||c===-1){console.log("Cards not found");return}const d=[...t],g=pn(It,"boards",n,"lists",e);await qs(g,{cards:d})}catch(l){console.log("error swapping order",l)}},nP=async(n,e,t,i,a)=>{try{const l=pn(It,"boards",n,"lists",e),c=pn(It,"boards",n,"lists",t);await Promise.all([qs(l,{cards:i}),qs(c,{cards:a})]),console.log("Cards swapped between lists.")}catch(l){console.log("error swapping order",l)}},rP=async(n,e,t,i)=>{var O;const{active:a,over:l}=n;if(!l)return;const c=a.id,d=l.id,g=e.findIndex(j=>j.id===c),p=e.findIndex(j=>j.id===d);if(g!==-1&&p!==-1){const j=Tf(e,g,p);console.log("updatedLists",j),await eP(i,j),console.log("updatedLists",j);return}let v=e.find(j=>j.cards.some(K=>K.id===c)),T=e.find(j=>j.cards.some(K=>K.id===d))||e.find(j=>j.id===d);if(!v){console.log("Source list not found.");return}if(!T){console.log("Destination list not found.");return}const b=v.cards.find(j=>j.id===c);if(!b)return;if(v.id===T.id){const j=v.cards.findIndex($=>$.id===c),K=T.cards.findIndex($=>$.id===d);if(j!==-1&&K!==-1){const $=Tf(v.cards,j,K);await tP(i,v.id,$,b.id,(O=T.cards[K])==null?void 0:O.id)}return}const w=v.cards.filter(j=>j.id!==c),k=[...T.cards||[]],z=d?k.findIndex(j=>j.id===d):k.length;k.splice(z===-1?k.length:z,0,b),console.log("newSourceCards",w,k),await nP(i,v.id,T.id,w,k),t(e.map(j=>j.id===v.id?{...j,cards:w}:j.id===T.id?{...j,cards:k}:j))},iP=async(n,e,t)=>{try{const i=pn(Ju(It,"boards",n,"lists")),a={id:i.id,title:e,cards:[],index:t.length};return await Qf(i,a),console.log("List created successfully:",i.id),a}catch(i){return console.log("error adding list to firestore",i),!1}},sP=async(n,e,t)=>{try{const i=pn(It,"boards",n,"lists",e);return console.log("listRef",e),await qs(i,{cards:cA(t)}),console.log("Card added to list"),!0}catch(i){return console.error("Error adding card to Firestore:",i),!1}},aP=async(n,e)=>{try{const t=pn(It,"boards",n,"lists",e);return await lO(t),console.log("List deleted succesfully"),!0}catch(t){return console.log("error deleting list from firestore",t),!1}},oP=(n,e)=>{const t=Ju(It,"boards",n,"lists"),i=Zp(t,iO("index"));return lA(i,l=>{const c=l.docs.map(d=>({...d.data()}));e(c)})},lP=async(n,e,t,i)=>{try{const a=t.find(d=>d.id===e);if(!a)return console.log("List does not exist"),!1;const l=a.cards.filter(d=>d.id!==i),c=pn(It,"boards",n,"lists",e);return await qs(c,{cards:l}),console.log("Card deleted successfully"),!0}catch(a){return console.log("Error deleting card in db",a),!1}},uP=({board:n})=>{const[e,t]=R.useState([]),[i,a]=R.useState(!1),[l,c]=R.useState("");R.useEffect(()=>{if(!n.id)return;const O=oP(n.id,t);return()=>O()},[n.id]);const d=()=>a(!0),g=async O=>{if(O.preventDefault(),l==="")return a(!1);if(!await iP(n.id,l,e)){console.log("Error adding list");return}a(!0),c("")},p=async(O,j)=>{const K={id:Date.now(),content:j};if(!await sP(n.id,O,K)){console.log("Error adding card");return}},v=async O=>{if(!await aP(n.id,O)){console.log("Error deleting list");return}},T=(O,j)=>{if(!lP(n.id,O,e,j)){console.log("Error deleting card");return}},b=O=>{O.relatedTarget&&O.relatedTarget.id==="addButton"||a(!1)},w=wT(uS,{activationConstraint:{distance:10}}),k=wT(Ty),z=Ck(w,k);return D.jsx("div",{className:"boardContainer",children:D.jsxs("div",{className:"boardColumn",children:[D.jsx("div",{className:"boardFlex",children:D.jsx(NV,{sensors:z,collisionDetection:Ok,onDragEnd:O=>rP(O,e,t,n.id),children:D.jsx(yS,{items:e.map(O=>O.id),children:e.map(O=>D.jsx(JV,{boardId:n.id,list:O,addCardToList:p,onRemove:v,removeCard:T},O.id))})})}),i?D.jsxs("div",{className:"listContainer",children:[D.jsx("form",{onSubmit:g,children:D.jsx("input",{className:"input",value:l,onChange:O=>c(O.target.value),placeholder:"Enter list name...",onBlur:b,autoFocus:!0,maxLength:33})}),D.jsxs("div",{className:"addOrCancelContainer",children:[D.jsx("button",{id:"addButton",className:"btnAdd",onClick:g,children:"Add list"}),D.jsx("button",{className:"icon-button",onClick:()=>a(!1),children:D.jsx(gy,{})})]})]}):D.jsx(D.Fragment,{children:D.jsxs("button",{onClick:d,id:"handleAddBtn",children:[D.jsx(XA,{size:18})," Add another list"]})})]})})},TS=async n=>{const e=pn(It,"boards",n),t=await nc(e),i=new Date,a=ut.fromDate(i);if(t.exists()){const l=t.data();return console.log("fetchedBoardById"),{id:t.id,title:l.title||"Unnamed board",color:l.color||"",userId:l.userId||"",username:l.username||"",createdAt:l.createdAt||a,members:l.members||[]}}else return console.log("Board not found"),null},cP=({isOpen:n,onClose:e,board:t})=>{const[i,a]=R.useState(""),[l,c]=R.useState(!1);R.useEffect(()=>{if(i!==""){const v=setTimeout(()=>{a("")},2e3);return()=>clearTimeout(v)}},[i]);const g=`${window.location.origin}/#/board/${t.id}/invite`,p=()=>{navigator.clipboard.writeText(g).then(()=>{a("Link copied to clipboard!"),c(!0)}).catch(v=>{console.log("Error copying text",v),a("Link didnt copy"),c(!1)})};return n?D.jsx("div",{className:"modal-overlay",children:D.jsxs("div",{className:"modal-content",children:[D.jsxs("div",{className:"modal-header",children:[D.jsx("p",{children:"Share board"}),D.jsx(gy,{onClick:e,size:25,className:"close"})]}),D.jsx("p",{children:"Anyone with the link can join as an member"}),D.jsx("input",{type:"text",value:g,readOnly:!0,className:"linkShow"}),D.jsx("p",{style:{color:l?"lime":"red",fontSize:"14px"},children:i}),D.jsx("button",{className:"copyLink",onClick:p,children:"Copy link"})]})}):null};function bS(n){return ai({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M392.3 32H56.1C25.1 32 0 57.1 0 88c-.1 0 0-4 0 336 0 30.9 25.1 56 56 56h336.2c30.8-.2 55.7-25.2 55.7-56V88c.1-30.8-24.8-55.8-55.6-56zM197 371.3c-.2 14.7-12.1 26.6-26.9 26.6H87.4c-14.8.1-26.9-11.8-27-26.6V117.1c0-14.8 12-26.9 26.9-26.9h82.9c14.8 0 26.9 12 26.9 26.9v254.2zm193.1-112c0 14.8-12 26.9-26.9 26.9h-81c-14.8 0-26.9-12-26.9-26.9V117.2c0-14.8 12-26.9 26.8-26.9h81.1c14.8 0 26.9 12 26.9 26.9v142.1z"},child:[]}]})(n)}function hP(n){return ai({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(n)}function fP(n){return ai({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(n)}const rp=n=>n?n.charAt(0).toUpperCase()+n.slice(1):"",wS=async n=>{if(!n)return[];try{const e=Zp(Ju(It,"boards"),rA("members","array-contains",n.uid)),t=await oO(e),i=new Date,a=ut.fromDate(i);return t.docs.map(c=>{const d=c.data();return{id:c.id,title:d.title||"Unnamed board",color:d.color||"",userId:d.userId||"",username:d.username||"",createdAt:d.createdAt||a,members:d.members||[]}})}catch{return console.error("Error fetching boards"),[]}},dP=({boardColor:n})=>{const{boards:e,boardsLoading:t}=NA(),[i,a]=R.useState(!1),{user:l,loading:c}=ri(),d=Zs(),[g,p]=R.useState([]),v="linear-gradient(340deg, rgb(0, 242, 255), rgba(1, 88, 89, 0.943));";R.useEffect(()=>{if(c)return;if(!l){d("/login");return}(async()=>{if(l){const k=await wS(l);p(k)}})()},[l,c]);const T=()=>{a(!i)};if(t)return D.jsx("p",{children:"Loading boards..."});const b=w=>{console.log("Navigating to:",`/board/${w.id}`),d(`/board/${w.id}`,{state:{board:w}})};return D.jsxs("div",{className:`sidebar ${i?"collapsed":""}`,style:{background:n&&Gt[n]?Gt[n].sidebar:v},children:[D.jsx("div",{className:"sidebar-header",children:i?D.jsxs(D.Fragment,{children:[D.jsx("button",{className:"sidebar-toggle",onClick:T,children:D.jsx(fP,{})}),D.jsx("p",{})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"groupSidebar",children:[D.jsx("img",{src:(l==null?void 0:l.profilePic)??dy,className:"sidebar-profilePic"}),D.jsxs("p",{children:[l==null?void 0:l.username,"'s Workspace"]})]}),D.jsx("button",{className:"sidebar-toggle",onClick:T,children:D.jsx(hP,{})})]})}),i?D.jsx(D.Fragment,{}):D.jsxs("div",{className:"sidebar-content",style:{background:n&&Gt[n]?Gt[n].menu:v},children:[D.jsx("div",{className:"side-barTitle",children:"Your boards"}),e.map(w=>D.jsxs("div",{className:"sidebar-item",onClick:()=>b(w),children:[D.jsx("div",{className:"sidebar-boardItem",style:{background:w!=null&&w.color&&Gt[w.color]?Gt[w.color].default:v},children:"  "}),w.title]})),D.jsx("div",{className:"side-barTitle",children:"Other workspaces"}),g.map(w=>D.jsxs("div",{className:"sidebar-item",onClick:()=>b(w),children:[D.jsx("div",{className:"sidebar-boardItem",style:{background:w!=null&&w.color&&Gt[w.color]?Gt[w.color].default:v},children:"  "}),w.title]}))]})]})},gP=()=>{var p;const{id:n}=BA(),e=Ws(),[t,i]=R.useState(((p=e.state)==null?void 0:p.board)||null),[a,l]=R.useState(!t),c="linear-gradient(340deg, rgb(0, 242, 255), rgba(1, 88, 89, 0.943));",[d,g]=R.useState(!1);return R.useEffect(()=>{if(t||!n)return;(async()=>{try{console.log("Hej");const T=await TS(n);i(T)}catch(T){console.log("Error fetching board",T)}finally{l(!1)}})()},[n,t]),R.useEffect(()=>{var v;i((v=e.state)==null?void 0:v.board)},[e.state,n]),a?D.jsx("div",{children:"Loading..."}):t?D.jsxs("div",{className:"boardPage",children:[D.jsx(dP,{boardColor:t.color}),D.jsx(al,{backgroundColor:t.color}),D.jsxs("div",{className:"board-background",style:{background:t!=null&&t.color&&Gt[t.color]?Gt[t.color].default:c},children:[D.jsxs("div",{className:"menu",style:{background:t!=null&&t.color&&Gt[t.color]?Gt[t.color].menu:c},children:[D.jsxs("p",{className:"workspace-title",children:[" ",D.jsx(bS,{size:25,id:"trelloIcon"})," ",rp(t.title)," "]}),D.jsxs("div",{className:"usernameAndShareContainer",children:[D.jsx("p",{className:"workspace-title"}),D.jsxs("div",{children:[D.jsx("button",{className:"menuButton",onClick:()=>g(!0),children:"Share link"}),D.jsx(cP,{isOpen:d,onClose:()=>g(!1),board:t})]})]})]}),D.jsx(uP,{board:t})]})]}):D.jsx("div",{children:"No board found"})},mP=async()=>{try{const e=(await s2(ju,RM)).user,t=pn(It,"users",e.uid),i=await nc(t),a=new Date,l=ut.fromDate(a);return i.exists()||await Qf(t,{userId:e.uid,username:e.displayName||"No username",email:e.email||"No email",profilePic:e.photoURL||"",createdAt:l}),e}catch(n){return console.log("Google sign in error",n),null}};function pP(n){return ai({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}const yP=async(n,e)=>{try{console.log("Attempting to sign in...");const i=(await VI(ju,n,e)).user;return console.log("sucess getting user?",i),i}catch(t){return console.log("Error code:",t.code),t.code==="auth/invalid-credential"?{error:"Invalid email or password"}:{error:"An error occurred during sign-in"}}},vP=async n=>{const e=pn(It,"users",n);return(await nc(e)).exists()},_P=()=>{const[n,e]=R.useState(""),[t,i]=R.useState(""),a=Zs(),[l,c]=R.useState(""),[d,g]=R.useState(!1),{user:p,loading:v}=ri();R.useEffect(()=>{!v&&p&&a("/workspaces")},[p,v,a]),R.useEffect(()=>{if(l){const w=setTimeout(()=>{c("")},2e3);return()=>clearTimeout(w)}},[l]);const T=async()=>{try{if(console.log("signInWithEmail"),!n||!t){c("Please fill in all fields");return}console.log("signInWithEmail");const w=await yP(n,t);if(console.log("Login result:",w),!w){c("Your account doesn't exist, please create a new account");return}if("error"in w){console.log("Login failed with error:",w.error),c(w.error);return}console.log("Checking user in DB..."),await vP(w.uid)?console.log("Login successful, waiting for user state..."):c("Your account doesn't exist in the database, please create an account")}catch(w){console.log("Unexpected error in signInWithEmail:",w),c("Something went wrong. Please try again.")}},b=async()=>{g(!0);const w=await mP();g(!1),w&&a("/workspaces")};return D.jsxs(D.Fragment,{children:[D.jsx(al,{}),D.jsx("div",{className:"loginScreen",children:D.jsxs("div",{className:"loginCardContainer",children:[D.jsxs("div",{className:"heading",children:[D.jsx("h1",{children:"Jellio"}),D.jsxs("div",{children:[D.jsx("img",{id:"jellyicon",src:Kh}),D.jsx("img",{id:"jellyiconMiddle",src:Kh}),D.jsx("img",{id:"jellyicon",src:Kh})]})]}),D.jsxs("div",{className:"cardSection",children:[D.jsxs("form",{className:"loginEmail",onSubmit:w=>w.preventDefault(),children:[D.jsx("h3",{children:"Login to continue"}),D.jsx("input",{className:"loginInput",value:n,onChange:w=>e(w.target.value),placeholder:"Enter your email",autoComplete:"email"}),D.jsx("input",{className:"loginInput",type:"password",value:t,onChange:w=>i(w.target.value),placeholder:"Write your password",autoComplete:"current-password"}),l&&D.jsx("p",{className:"errorMessage",children:l}),D.jsx("button",{className:"loginButton",onClick:T,children:"Sign in"})]}),D.jsxs("div",{className:"loginGoogle",children:[D.jsx("h3",{children:"Or continue with"}),D.jsxs("button",{onClick:b,className:"loginButton",children:[D.jsx(pP,{size:30}),D.jsx("p",{children:d?"Signing in...":"Sign in with Google"})]}),D.jsx("button",{className:"loginButton",id:"signUpBtn",onClick:()=>a("/signup"),children:"Create an account"})]})]})]})})]})},EP=()=>{const{user:n,loading:e}=ri(),{boards:t,boardsLoading:i}=NA(),a=Zs(),[l,c]=R.useState(null),[d,g]=R.useState([]),[p,v]=R.useState(!1);if(i)return D.jsx("p",{children:"Loading boards..."});R.useEffect(()=>{if(e)return;if(!n){a("/login");return}(async()=>{if(n){const k=await wS(n);g(k)}})()},[n,e]);const T=()=>{v(w=>!w)},b=w=>{a(`/board/${w.id}`)};return D.jsxs(D.Fragment,{children:[D.jsx(al,{}),D.jsx("div",{className:"workSpaceContainer",children:D.jsxs("div",{className:"workSpaceCard",children:[D.jsx("h3",{className:"titleGray",children:"Your Workspaces"}),D.jsxs("div",{className:"boardShowContainer",children:[t.map(w=>D.jsx("div",{className:"boardShow",onClick:()=>b(w),onMouseEnter:()=>c(w.id),onMouseLeave:()=>c(null),style:{background:TT(w.color,l===w.id)},children:D.jsx("div",{className:"boardTextOpacityContainer",children:D.jsx("p",{className:"boardText",children:rp(w.title)})})},w.id)),D.jsxs("div",{className:"toggleCreateContainer",children:[D.jsxs("div",{className:"toggleCreate",onClick:T,children:[D.jsx(bS,{size:20}),D.jsx("p",{children:"Create new board"})]}),p&&D.jsx("div",{className:"createMenuWrapper",children:D.jsx(YA,{closeCreateOverlay:T})})]})]}),d.length>0?D.jsxs(D.Fragment,{children:[D.jsx("h3",{className:"titleGray",children:"Workspaces you are member in"}),D.jsx("div",{className:"boardShowContainer",children:d.map(w=>D.jsx("div",{className:"boardShow",onClick:()=>b(w),onMouseEnter:()=>c(w.id),onMouseLeave:()=>c(null),style:{background:TT(w.color,l===w.id)},children:D.jsx("div",{className:"boardTextOpacityContainer",children:D.jsx("p",{className:"boardText",children:rp(w.title)})})},w.id))})]}):D.jsx("p",{})]})})]})},TP="/Jellio/assets/profilePic-B-x-Krsw.png",bP=async n=>{if(!n)return;const e=EM(CM,`profilePics/${n.name}`);return await vM(e,n),await _M(e)},wP=async(n,e,t,i)=>{try{const l=(await kI(ju,e,t)).user,c=pn(It,"users",l.uid),d=new Date,g=ut.fromDate(d);return await Qf(c,{userId:l.uid,username:n,email:e,profilePic:i,createdAt:g}),console.log("Account created successfully"),{success:!0}}catch(a){return console.log("Error creating account",a),a.code==="auth/email-already-in-use"?{success:!1,error:"This email is already in use"}:a.code==="auth/weak-password"?{success:!1,error:"Password is too weak"}:{success:!1,error:"An unexpected error occurred"}}},AP=()=>{const[n,e]=R.useState(""),[t,i]=R.useState(""),[a,l]=R.useState(""),[c,d]=R.useState(""),[g,p]=R.useState(null),[v,T]=R.useState(null),[b,w]=R.useState(""),[k,z]=R.useState(""),{user:O,loading:j}=ri(),K=Zs();R.useEffect(()=>{!j&&O&&K("/workspaces")},[O,j,K]),R.useEffect(()=>{if(b){const ee=setTimeout(()=>{w("")},2e3);return()=>clearTimeout(ee)}},[b]);const $=async()=>{if(!n||!t||!a||!c){w("Please fill in all fields");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){w("Invalid email");return}if(t.length<6){w("Password must be at least 6 characters long");return}if(t!==a){w("Passwords do not match");return}if(!k){w("You need to choose an profile picture");return}w(""),await wP(c,n,t,k)?K("/workspaces"):w("An account with this email already exists")},ie=async ee=>{if(ee.target.files&&ee.target.files[0]){const ae=ee.target.files[0];p(ae);const V=new FileReader;V.onload=async I=>{var N;const C=(N=I.target)==null?void 0:N.result;T(C);try{const P=await bP(ae);P&&(console.log("Image uploaded successfully",P),z(P))}catch(P){console.log("Error uploading image",P)}},V.readAsDataURL(ae)}};return D.jsxs(D.Fragment,{children:[D.jsx(al,{}),D.jsx("div",{className:"signUpScreen",children:D.jsx("div",{className:"signUpCardContainer",children:D.jsxs("div",{className:"signUpContainer",children:[D.jsx("h3",{children:"Create account"}),D.jsxs("div",{id:"headingInSign",children:[D.jsx("label",{htmlFor:"file-upload",children:D.jsx("img",{src:v||TP,id:"profilePic"})}),D.jsx("input",{type:"file",id:"file-upload",accept:"image/*",onChange:ie,style:{display:"none"}}),D.jsx("p",{style:{color:g?"lime":"white"},children:g?"Image selected":"Click to choose an profile picture"})]}),D.jsxs("form",{className:"signUpField",children:[D.jsx("p",{className:"helpText",children:"Username"}),D.jsx("input",{className:"signInput",value:c,onChange:ee=>d(ee.target.value),placeholder:"Enter your username",autoComplete:"username"})]}),D.jsxs("form",{className:"signUpField",children:[D.jsx("p",{children:"Email"}),D.jsx("input",{className:"signInput",value:n,onChange:ee=>e(ee.target.value),placeholder:"Enter your email",autoComplete:"email"})]}),D.jsxs("form",{className:"signUpField",children:[D.jsx("p",{children:"Password"}),D.jsx("input",{className:"signInput",type:"password",value:t,onChange:ee=>i(ee.target.value),placeholder:"Write your password",autoComplete:"new-password"})]}),D.jsxs("form",{className:"signUpField",children:[D.jsx("p",{children:"Confirm your password"}),D.jsx("input",{className:"signInput",type:"password",value:a,onChange:ee=>l(ee.target.value),placeholder:"Write your password again",autoComplete:"new-password"})]}),b&&D.jsx("p",{className:"errorMessage",children:b}),D.jsx("button",{className:"loginButton",id:"signUpBtn",onClick:$,children:"Create your account"})]})})})]})},SP=async(n,e)=>{const t=pn(It,"boards",n);await qs(t,{members:cA(e)})},RP=()=>{const{user:n,loading:e}=ri(),{boardId:t}=BA(),i=Zs(),[a,l]=R.useState(null),[c,d]=R.useState(!0);return R.useEffect(()=>{if(console.log("useEffect fetching board"),e)return;if(!n){console.log("if !user"),i("/login");return}(async()=>{if(t){const p=await TS(t);l(p),d(!1)}else d(!1)})()},[t,n,e]),R.useEffect(()=>{if(console.log("addUser before",a,n),console.log("loading",e,c,"boardLoading"),e||c){console.log("still loading user data...");return}console.log("loading finished..."),n||(console.log("navigate login"),i("/login")),(async()=>{if(console.log("running addUser"),a&&n)try{if(n.uid===a.userId){console.log("You are the owner of the board. No need to add as a member"),i(`/board/${t}`);return}await SP(a.id,n.uid),console.log("User successfully added as a member"),i(`/board/${t}`)}catch(p){console.log("Error adding user to board:",p)}})()},[n,a,i,t,c,e]),c?D.jsx("div",{children:"Loading board..."}):D.jsxs(D.Fragment,{children:[D.jsx(al,{}),D.jsx("div",{className:"board-inviteContainer",children:D.jsxs("div",{className:"inviteFlexContent",children:[D.jsxs("h3",{style:{margin:"0"},children:["Invited to board ",a==null?void 0:a.title]}),n?D.jsx("p",{children:"You have been added to the board!"}):D.jsxs(D.Fragment,{children:[D.jsx("p",{children:"Please log in to accept the invitation"}),D.jsx("button",{className:"goToLoginBtn",onClick:()=>i("/login"),children:"Go to login"})]})]})})]})};function CP(){const{user:n}=ri();return R.useEffect(()=>{console.log("user",n)}),D.jsx(F4,{children:D.jsxs(E4,{children:[D.jsx(Na,{path:"/",element:D.jsx(fk,{})}),D.jsx(Na,{path:"/workspaces",element:D.jsx(EP,{})}),D.jsx(Na,{path:"/board/:id",element:D.jsx(gP,{})}),D.jsx(Na,{path:"/login",element:D.jsx(_P,{})}),D.jsx(Na,{path:"/signup",element:D.jsx(AP,{})}),D.jsx(Na,{path:"/board/:boardId/invite",element:D.jsx(RP,{})})]})})}const IP=()=>{const{user:n}=ri();return D.jsx(NM,{user:n,children:D.jsx(CP,{})})};rR.createRoot(document.getElementById("root")).render(D.jsx(R.StrictMode,{children:D.jsx(IM,{children:D.jsx(IP,{})})}));
